# ğŸ“‹ ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸ í¼ì¦ˆ ì‹œìŠ¤í…œ ì„¤ê³„

## ğŸ¯ ì‹œìŠ¤í…œ ê°œìš”

**í¼ì¦ˆ(Forms) ìŠ¤íƒ€ì¼ì˜ ë™ì  ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§ˆìŠ¤í„° ê´€ë¦¬ ì‹œìŠ¤í…œ**

- ë³¸ì‚¬/ê´€ë¦¬ìê°€ í…œí”Œë¦¿(ë§ˆìŠ¤í„°)ì„ ì„¤ê³„
- ê¸ˆí˜• íƒ€ì…/ë‹¨ê³„ë³„ë¡œ ìë™ ë°°í¬
- ì œì‘ì²˜/ìƒì‚°ì²˜ê°€ ì¸ìŠ¤í„´ìŠ¤(ì‘ì„±ë³¸)ë¥¼ ì‘ì„±
- ë³¸ì‚¬ê°€ ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬
- NG í•­ëª© ìë™ ì§‘ê³„ â†’ ìˆ˜ë¦¬ìš”ì²­ ìƒì„±

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### 1ï¸âƒ£ í…œí”Œë¦¿(ë§ˆìŠ¤í„°) ê³„ì¸µ

```
checklist_forms (í¼)
  â”œâ”€ checklist_sections (ì„¹ì…˜: I.ì›ì¬ë£Œ, II.ê¸ˆí˜•...)
  â”‚   â””â”€ checklist_questions (ì§ˆë¬¸/í•­ëª©)
  â”‚       â””â”€ checklist_options (ì„ íƒì§€: ë°˜ì˜/ë¯¸ë°˜ì˜...)
  â””â”€ checklist_form_assignments (ë°°í¬ ì„¤ì •)
```

### 2ï¸âƒ£ ì¸ìŠ¤í„´ìŠ¤(ì‘ì„±ë³¸) ê³„ì¸µ

```
checklist_instances (ì‘ì„±ë³¸)
  â”œâ”€ checklist_answers (ë‹µë³€)
  â””â”€ checklist_history (ë³€ê²½ ì´ë ¥)
```

---

## ğŸ” ì—­í• ë³„ ê¶Œí•œ

| ì—­í•  | í…œí”Œë¦¿ ê´€ë¦¬ | ì¸ìŠ¤í„´ìŠ¤ ì‘ì„± | ìŠ¹ì¸/ë°˜ë ¤ | ì¡°íšŒ |
|------|------------|--------------|----------|------|
| **ì‹œìŠ¤í…œ ê´€ë¦¬ì** | âœ… ìƒì„±/ìˆ˜ì •/ë°°í¬ | âŒ | âœ… | âœ… |
| **ë³¸ì‚¬(developer)** | âœ… ì¡°íšŒ/ìŠ¹ì¸ | âŒ | âœ… | âœ… |
| **ì œì‘ì²˜(maker)** | âŒ | âœ… dev_mold | âŒ | âœ… ìê¸° ê²ƒë§Œ |
| **ìƒì‚°ì²˜(production)** | âŒ | âœ… daily/regular | âŒ | âœ… ìê¸° ê²ƒë§Œ |

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬

| ì¹´í…Œê³ ë¦¬ | ì„¤ëª… | ëŒ€ìƒ ì—­í•  | ì‚¬ìš© ì‹œì  |
|---------|------|----------|----------|
| `dev_mold` | ê¸ˆí˜• ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸ | maker | ê¸ˆí˜• ì œì‘ ì™„ë£Œ ì‹œ |
| `daily` | ì¼ìƒì ê²€ | production | ë§¤ì¼ ì ê²€ |
| `regular` | ì •ê¸°ì ê²€ | both | ì£¼ê¸°ì  ì ê²€ |
| `transfer` | ê¸ˆí˜• ì´ê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ | maker | ê¸ˆí˜• ì´ê´€ ì‹œ |
| `repair` | ìˆ˜ë¦¬ í›„ ì ê²€ | maker | ìˆ˜ë¦¬ ì™„ë£Œ í›„ |

---

## ğŸ› ï¸ í•„ë“œ íƒ€ì…

| field_type | ì„¤ëª… | ì˜ˆì‹œ |
|-----------|------|------|
| `text` | í…ìŠ¤íŠ¸ ì…ë ¥ | ìˆ˜ì´›ë¬¼ ê°’ ì…ë ¥ |
| `number` | ìˆ«ì ì…ë ¥ | ìºë¹„í‹° ìˆ˜ |
| `select` | ë“œë¡­ë‹¤ìš´ ì„ íƒ | ì¬ì§ˆ ì„ íƒ (NAK80/P20/S50C) |
| `radio` | ë¼ë””ì˜¤ ë²„íŠ¼ | ë°˜ì˜/ë¯¸ë°˜ì˜ |
| `checkbox` | ì²´í¬ë°•ìŠ¤ | ë‹¤ì¤‘ ì„ íƒ |
| `date` | ë‚ ì§œ ì„ íƒ | ì ê²€ì¼ì |
| `file` | íŒŒì¼ ì²¨ë¶€ | ë„ë©´/ì‚¬ì§„ ì²¨ë¶€ |

---

## ğŸ”„ ì›Œí¬í”Œë¡œìš°

### 1ï¸âƒ£ í…œí”Œë¦¿ ìƒì„± ë° ë°°í¬

```
ê´€ë¦¬ì
  â†“
í¼ ë¹Œë”ì—ì„œ í…œí”Œë¦¿ ì„¤ê³„
  - í¼ ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì¹´í…Œê³ ë¦¬, ëŒ€ìƒ ì—­í• )
  - ì„¹ì…˜ ì¶”ê°€ (I.ì›ì¬ë£Œ, II.ê¸ˆí˜•...)
  - ì§ˆë¬¸ ì¶”ê°€ (í•­ëª©ëª…, íƒ€ì…, ê¸°ì¤€ê°’, í•„ìˆ˜ ì—¬ë¶€)
  - ì„ íƒì§€ ì¶”ê°€ (ë¼ë””ì˜¤/ì²´í¬ë°•ìŠ¤ ì˜µì…˜)
  â†“
[ì„ì‹œì €ì¥] â†’ status = 'draft'
  â†“
[ë°°í¬í•˜ê¸°] â†’ status = 'published'
  â†“
ë°°í¬ ì„¤ì • (ê¸ˆí˜• íƒ€ì…/ê³ ê°ì‚¬/ë‹¨ê³„ë³„ ë§¤í•‘)
  â†“
í•´ë‹¹ ì¡°ê±´ì˜ ê¸ˆí˜•ì—ì„œ ìë™ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
```

### 2ï¸âƒ£ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±

```
ì œì‘ì²˜/ìƒì‚°ì²˜
  â†“
ê¸ˆí˜• ìƒì„¸ â†’ "ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸" ë©”ë‰´ í´ë¦­
  â†“
GET /api/v1/molds/:id/checklist/forms?category=dev_mold
  â†’ ê¸ˆí˜• íƒ€ì…/ë‹¨ê³„ì— ë§ëŠ” í…œí”Œë¦¿ ëª©ë¡ ë°˜í™˜
  â†“
í…œí”Œë¦¿ ì„ íƒ
  â†“
POST /api/v1/molds/:id/checklist/instances
  â†’ checklist_instances ìƒì„±
  â†“
ì‘ì„± í™”ë©´ ì§„ì…
  - í…œí”Œë¦¿ êµ¬ì¡°ì— ë”°ë¼ ë™ì  ë Œë”ë§
  - ì„¹ì…˜ë³„/í•­ëª©ë³„ ìˆœì„œëŒ€ë¡œ í‘œì‹œ
  - ê·œê²©/ì‚¬ì–‘ + í™•ì¸ ì²´í¬ë°•ìŠ¤
  â†“
[ì„ì‹œì €ì¥] â†’ status = 'in_progress'
  â†“
[ì ê²€ì™„ë£Œ ë° ìŠ¹ì¸ìš”ì²­] â†’ status = 'submitted'
  â†“
ë³¸ì‚¬ ìŠ¹ì¸ ëŒ€ê¸°
```

### 3ï¸âƒ£ ìŠ¹ì¸/ë°˜ë ¤

```
ë³¸ì‚¬
  â†“
ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡ ì¡°íšŒ
  â†“
ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ í™•ì¸
  - NG í•­ëª© ìë™ ì§‘ê³„
  - ì™„ë£Œìœ¨ í™•ì¸
  â†“
[ìŠ¹ì¸í•˜ê¸°]
  â†’ status = 'approved'
  â†’ NG í•­ëª© â†’ ìˆ˜ë¦¬ìš”ì²­ ìë™ ìƒì„±
  â†“
[ë°˜ë ¤í•˜ê¸°]
  â†’ status = 'rejected'
  â†’ ë°˜ë ¤ ì‚¬ìœ  ì…ë ¥
  â†’ ì œì‘ì²˜/ìƒì‚°ì²˜ì— ì•Œë¦¼
```

---

## ğŸ¨ UI êµ¬ì„±

### 1ï¸âƒ£ ê´€ë¦¬ììš© í¼ ë¹Œë”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ í¸ì§‘                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í¼ ê¸°ë³¸ ì •ë³´                             â”‚
â”‚  â€¢ í¼ ì´ë¦„: [ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸ v1.0]       â”‚
â”‚  â€¢ ì¹´í…Œê³ ë¦¬: [dev_mold â–¼]               â”‚
â”‚  â€¢ ëŒ€ìƒ ì—­í• : [maker â–¼]                 â”‚
â”‚  â€¢ ê¸ˆí˜• íƒ€ì…: [ë²”í¼ â–¼]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„¹ì…˜ ê´€ë¦¬                                â”‚
â”‚  [+ ì„¹ì…˜ ì¶”ê°€]                          â”‚
â”‚                                          â”‚
â”‚  â–¼ I. ì›ì¬ë£Œ (Material)                 â”‚
â”‚     [+ í•­ëª© ì¶”ê°€]                       â”‚
â”‚                                          â”‚
â”‚     â”Œâ”€ ìˆ˜ì´›ë¬¼                           â”‚
â”‚     â”‚  íƒ€ì…: [text]                     â”‚
â”‚     â”‚  ê¸°ì¤€ê°’: [6/1000]                 â”‚
â”‚     â”‚  í•„ìˆ˜: [âœ“] í™•ì¸ì¹¸: [âœ“]           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                          â”‚
â”‚     â”Œâ”€ ì¬ì§ˆ                             â”‚
â”‚     â”‚  íƒ€ì…: [select]                   â”‚
â”‚     â”‚  ì˜µì…˜: NAK80, P20, S50C          â”‚
â”‚     â”‚  í•„ìˆ˜: [âœ“] í™•ì¸ì¹¸: [âœ“]           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                          â”‚
â”‚  â–¼ II. ê¸ˆí˜• (Mold)                      â”‚
â”‚     ...                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë¯¸ë¦¬ë³´ê¸°] [ì„ì‹œì €ì¥] [ë°°í¬í•˜ê¸°]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ ì‘ì„±ììš© ì²´í¬ë¦¬ìŠ¤íŠ¸ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸                          â”‚
â”‚ ìŠ¹ì¸ëŒ€ê¸° | ì ê²€ìœ¨: 81% | NG: 2ê°œ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì°¨ì¢…: [AVANTE CN7]  Part No: [12345]   â”‚
â”‚ EO CUT: [A]  ì ê²€ì¼: [2024-12-02]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ I. ì›ì¬ë£Œ (Material)                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ í•­ëª©    â”‚ ê·œê²©/ì‚¬ì–‘  â”‚ í™•ì¸ â”‚ NG â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ ìˆ˜ì´›ë¬¼  â”‚ 6/1000    â”‚ [âœ“] â”‚ [ ]â”‚  â”‚
â”‚ â”‚ ì¬ì§ˆ    â”‚ â—‹NAK80    â”‚ [âœ“] â”‚ [ ]â”‚  â”‚
â”‚ â”‚         â”‚ â—‹P20      â”‚     â”‚    â”‚  â”‚
â”‚ â”‚ ì—´ì²˜ë¦¬  â”‚ â—ë°˜ì˜     â”‚ [âœ“] â”‚ [ ]â”‚  â”‚
â”‚ â”‚         â”‚ â—‹ë¯¸ë°˜ì˜   â”‚     â”‚    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚ II. ê¸ˆí˜• (Mold)                          â”‚
â”‚ ...                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì„ì‹œì €ì¥] [ì ê²€ì™„ë£Œ ë° ìŠ¹ì¸ìš”ì²­]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### í…œí”Œë¦¿ ê´€ë¦¬ (ê´€ë¦¬ì)

```
GET    /api/v1/checklist/forms              # í…œí”Œë¦¿ ëª©ë¡
GET    /api/v1/checklist/forms/:id          # í…œí”Œë¦¿ ìƒì„¸
POST   /api/v1/checklist/forms              # í…œí”Œë¦¿ ìƒì„±
PUT    /api/v1/checklist/forms/:id          # í…œí”Œë¦¿ ìˆ˜ì •
POST   /api/v1/checklist/forms/:id/publish  # í…œí”Œë¦¿ ë°°í¬
DELETE /api/v1/checklist/forms/:id          # í…œí”Œë¦¿ ì‚­ì œ
```

### ì¸ìŠ¤í„´ìŠ¤ ì‘ì„± (ì œì‘ì²˜/ìƒì‚°ì²˜)

```
GET    /api/v1/molds/:moldId/checklist/forms
       ?category=dev_mold&role=maker
       # ê¸ˆí˜•ì— ì ìš© ê°€ëŠ¥í•œ í…œí”Œë¦¿ ëª©ë¡

POST   /api/v1/molds/:moldId/checklist/instances
       { formId, category }
       # ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

GET    /api/v1/checklist/instances/:id
       # ì¸ìŠ¤í„´ìŠ¤ ìƒì„¸ (í…œí”Œë¦¿ êµ¬ì¡° + ë‹µë³€)

PUT    /api/v1/checklist/instances/:id/answers
       { answers: [{ questionId, value, isChecked, isNg }] }
       # ë‹µë³€ ì €ì¥

POST   /api/v1/checklist/instances/:id/submit
       # ì œì¶œ (ìŠ¹ì¸ ìš”ì²­)
```

### ìŠ¹ì¸/ë°˜ë ¤ (ë³¸ì‚¬)

```
GET    /api/v1/checklist/instances/pending
       # ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡

POST   /api/v1/checklist/instances/:id/approve
       { comment }
       # ìŠ¹ì¸

POST   /api/v1/checklist/instances/:id/reject
       { comment }
       # ë°˜ë ¤
```

---

## ğŸ’¾ ë°ì´í„° íë¦„ ì˜ˆì‹œ

### í…œí”Œë¦¿ â†’ ì¸ìŠ¤í„´ìŠ¤ ë³€í™˜

**í…œí”Œë¦¿ (checklist_forms)**
```json
{
  "id": 1,
  "name": "ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸ v1.0",
  "category": "dev_mold",
  "sections": [
    {
      "id": 1,
      "title": "I. ì›ì¬ë£Œ",
      "questions": [
        {
          "id": 1,
          "label": "ìˆ˜ì´›ë¬¼",
          "field_type": "text",
          "spec_default": "6/1000",
          "required": true,
          "enable_confirm": true
        },
        {
          "id": 2,
          "label": "ì¬ì§ˆ",
          "field_type": "select",
          "options": [
            { "label": "NAK80", "value": "NAK80" },
            { "label": "P20", "value": "P20" }
          ]
        }
      ]
    }
  ]
}
```

**ì¸ìŠ¤í„´ìŠ¤ (checklist_instances + answers)**
```json
{
  "id": 101,
  "form_id": 1,
  "mold_id": 5,
  "status": "in_progress",
  "progress_rate": 50,
  "answers": [
    {
      "question_id": 1,
      "value_text": "6/1000",
      "is_checked": true,
      "is_ng": false
    },
    {
      "question_id": 2,
      "value_option": "NAK80",
      "is_checked": true,
      "is_ng": false
    }
  ]
}
```

---

## ğŸ”§ êµ¬í˜„ ë‹¨ê³„

### Phase 1: DB ë° ë°±ì—”ë“œ ê¸°ì´ˆ
- [x] ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
- [ ] Sequelize ëª¨ë¸ ìƒì„±
  - ChecklistForm
  - ChecklistSection
  - ChecklistQuestion
  - ChecklistOption
  - ChecklistFormAssignment
  - ChecklistInstance
  - ChecklistAnswer
- [ ] ê¸°ë³¸ CRUD API êµ¬í˜„

### Phase 2: ê´€ë¦¬ì í¼ ë¹Œë”
- [ ] í…œí”Œë¦¿ ëª©ë¡ í˜ì´ì§€
- [ ] í…œí”Œë¦¿ í¸ì§‘ í˜ì´ì§€
  - ì„¹ì…˜ ì¶”ê°€/ì‚­ì œ/ì •ë ¬
  - ì§ˆë¬¸ ì¶”ê°€/ì‚­ì œ/ì •ë ¬
  - ì˜µì…˜ ì¶”ê°€/ì‚­ì œ
- [ ] ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥
- [ ] ë°°í¬ ì„¤ì • í˜ì´ì§€

### Phase 3: ì‘ì„±ì í™”ë©´
- [ ] í…œí”Œë¦¿ ì„ íƒ í˜ì´ì§€
- [ ] ë™ì  í¼ ë Œë”ë§
  - ì„¹ì…˜ë³„ ë Œë”ë§
  - í•„ë“œ íƒ€ì…ë³„ ì»´í¬ë„ŒíŠ¸
  - í™•ì¸/NG ì²´í¬ë°•ìŠ¤
- [ ] ìë™ ì €ì¥ ê¸°ëŠ¥
- [ ] ì§„í–‰ë¥  ê³„ì‚°

### Phase 4: ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°
- [ ] ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡
- [ ] ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬
- [ ] NG í•­ëª© â†’ ìˆ˜ë¦¬ìš”ì²­ ìë™ ìƒì„±
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™

### Phase 5: í†µê³„ ë° ëŒ€ì‹œë³´ë“œ
- [ ] ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œìœ¨ í†µê³„
- [ ] NG í•­ëª© ì§‘ê³„
- [ ] ê¸ˆí˜•ë³„ ì ê²€ ì´ë ¥
- [ ] ëŒ€ì‹œë³´ë“œ ìœ„ì ¯

---

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥

### 1ï¸âƒ£ ë™ì  í¼ ë Œë”ë§

```typescript
// í…œí”Œë¦¿ êµ¬ì¡°ë¥¼ ì½ì–´ì„œ ë™ì ìœ¼ë¡œ UI ìƒì„±
function renderQuestion(question: ChecklistQuestion) {
  switch (question.field_type) {
    case 'text':
      return <TextInput question={question} />
    case 'select':
      return <SelectInput question={question} options={question.options} />
    case 'radio':
      return <RadioGroup question={question} options={question.options} />
    case 'checkbox':
      return <CheckboxGroup question={question} options={question.options} />
    case 'date':
      return <DatePicker question={question} />
    case 'file':
      return <FileUpload question={question} />
  }
}
```

### 2ï¸âƒ£ ì§„í–‰ë¥  ìë™ ê³„ì‚°

```javascript
// í•„ìˆ˜ í•­ëª© ì¤‘ ì‘ë‹µëœ í•­ëª© ë¹„ìœ¨
const calculateProgress = (instance) => {
  const requiredQuestions = instance.form.questions.filter(q => q.required)
  const answeredQuestions = instance.answers.filter(a => a.is_checked)
  return (answeredQuestions.length / requiredQuestions.length) * 100
}
```

### 3ï¸âƒ£ NG í•­ëª© ìë™ ìˆ˜ë¦¬ìš”ì²­ ìƒì„±

```javascript
// ìŠ¹ì¸ ì‹œ NG í•­ëª© ì²´í¬ â†’ ìˆ˜ë¦¬ìš”ì²­ ìë™ ìƒì„±
const handleApprove = async (instanceId) => {
  const instance = await ChecklistInstance.findByPk(instanceId, {
    include: [{ model: ChecklistAnswer, where: { is_ng: true } }]
  })
  
  if (instance.answers.length > 0) {
    // NG í•­ëª©ì´ ìˆìœ¼ë©´ ìˆ˜ë¦¬ìš”ì²­ ìƒì„±
    await RepairRequest.create({
      mold_id: instance.mold_id,
      title: `ì²´í¬ë¦¬ìŠ¤íŠ¸ NG í•­ëª© ìˆ˜ë¦¬ (${instance.id})`,
      items: instance.answers.map(a => ({
        item_name: a.question.label,
        issue: a.ng_reason
      }))
    })
  }
  
  instance.status = 'approved'
  await instance.save()
}
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- ê¸°ì¡´ ì²´í¬ë¦¬ìŠ¤íŠ¸ êµ¬ì¡°: `checklist_templates`, `checklist_instances`
- ìˆ˜ë¦¬ìš”ì²­ ì‹œìŠ¤í…œ: `repair_requests`, `repair_request_items`
- ì—­í•  ê¸°ë°˜ ê¶Œí•œ: `moldMenus.ts`

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **Sequelize ëª¨ë¸ ìƒì„±**
2. **í¼ ë¹Œë” ë°±ì—”ë“œ API**
3. **í¼ ë¹Œë” í”„ë¡ íŠ¸ì—”ë“œ**
4. **ë™ì  í¼ ë Œë”ë§ ì»´í¬ë„ŒíŠ¸**
5. **ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ì—°ë™**

ì´ ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ë©´ **ì—‘ì…€/ì›Œë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì™„ì „íˆ ëŒ€ì²´**í•˜ê³ , 
**í…œí”Œë¦¿ í•œ ë²ˆ ë§Œë“¤ë©´ ìë™ ë°°í¬ë˜ëŠ” ìŠ¤ë§ˆíŠ¸í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‹œìŠ¤í…œ**ì´ ë©ë‹ˆë‹¤! ğŸ‰
