# ë°ì´í„° íë¦„ ë° ìë™ ì—°ë™ ì•„í‚¤í…ì²˜

## ê°œìš”

ë³¸ ì‹œìŠ¤í…œì€ ë³¸ì‚¬(CAMS) â†’ ê¸ˆí˜•ì œì‘ì²˜ â†’ ê¸ˆí˜• ë§ˆìŠ¤í„° â†’ ìƒì‚°ì²˜ì˜ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ ì—°ë™ë©ë‹ˆë‹¤.

---

## ğŸ”„ ë°ì´í„° íë¦„ êµ¬ì¡°

### ì „ì²´ íë¦„ë„

```
[ë³¸ì‚¬(CAMS)]
    â†“ 1ì°¨ ì…ë ¥
[ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ì…ë ¥]
    â†“ ìë™ ì—°ë™
[ê¸ˆí˜•ì œì‘ì²˜ ëŒ€ì‹œë³´ë“œ]
    â†“ ì œì‘ ì‹œì‘ ì „
[ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±] â† ê¸ˆí˜•ì œì‘ì²˜
    â†“ ì œì¶œ
[CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì ì ê²€]
    â†“ ìŠ¹ì¸/ë°˜ë ¤
[ì œì‘ ì‹œì‘ ìŠ¹ì¸]
    â†“ ì¶”ê°€ ì…ë ¥ ë° ì œì‘
[ì œì‘ ì™„ë£Œ]
    â†“ í•„ìˆ˜ ë‹¨ê³„
[ê²½ë„ ì¸¡ì • (ìƒí˜•/í•˜í˜•)]
    â†“ ìë™ ìƒì„±
[ì œì‘ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸]
    â†“ ìŠ¹ì¸ í›„ ìë™ ìƒì„±
[ê¸ˆí˜• ë§ˆìŠ¤í„° (molds)]
    â†“ ìë™ ì—°ë™
[ìƒì‚°ì²˜ ëŒ€ì‹œë³´ë“œ]
    â†“ ìƒì‚° ì •ë³´ ì…ë ¥
[ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ì—…ë°ì´íŠ¸]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ê¸ˆí˜• ë¬¸ì œì  ê°œì„  í˜„í™© ê´€ë¦¬                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì´ˆë„ T/O] â†’ [ê¸ˆí˜•ìœ¡ì„±] â†’ [ì–‘ì‚°] â†’ [ë¬¸ì œì  ê°œì„  ì™„ë£Œ]       â”‚
â”‚                                                              â”‚
â”‚ â€¢ ê¸ˆí˜•ì œì‘ì²˜ T/O (PROTO, P1, P2)                            â”‚
â”‚ â€¢ ìƒì‚°ì²˜ T/O (T1, T2, M, SOP)                               â”‚
â”‚ â€¢ ë¬¸ì œì  ë“±ë¡ â†’ ê°œì„ ëŒ€ì±… â†’ ê°œì„ ì¼ì • â†’ ë‹´ë‹¹ì ì§€ì •           â”‚
â”‚ â€¢ ì°¨ì¢…/ì•„ì´í…œë³„ ë§ˆìŠ¤í„° ê´€ë¦¬                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ ë‹¨ê³„ë³„ ìƒì„¸ í”„ë¡œì„¸ìŠ¤

### Step 1: ë³¸ì‚¬(CAMS) - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ 1ì°¨ ì…ë ¥

**ë‹´ë‹¹**: ë³¸ì‚¬ ê´€ë¦¬ì
**í…Œì´ë¸”**: `mold_specifications` (ì‹ ê·œ)

#### ì…ë ¥ í•­ëª©
```javascript
{
  // ê¸°ë³¸ ì •ë³´ (ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ê°€ëŠ¥)
  part_number: "P-2024-001",        // í’ˆë²ˆ (ë¶€í’ˆì •ë³´ ì‹œìŠ¤í…œ ì—°ë™)
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",          // í’ˆëª… (ë¶€í’ˆì •ë³´ ì‹œìŠ¤í…œ ì—°ë™)
  car_model: "GV80",                // ì°¨ì¢… (ë¶€í’ˆì •ë³´ ì‹œìŠ¤í…œ ì—°ë™)
  car_year: "2024",                 // ì—°ì‹
  
  // ê¸ˆí˜• ì‚¬ì–‘
  mold_type: "ì‚¬ì¶œê¸ˆí˜•",
  cavity_count: 2,
  material: "NAK80",
  tonnage: 850,
  
  // ì œì‘ ì •ë³´
  target_maker_id: 5,               // ì§€ì • ì œì‘ì²˜
  development_stage: "ê°œë°œ",         // 'ê°œë°œ' ë˜ëŠ” 'ì–‘ì‚°'
  production_stage: "ì–‘ì‚°",          // í–¥í›„ ë³€ê²½ ê°€ëŠ¥
  
  // ì œì‘ ì¼ì •
  order_date: "2024-01-15",
  target_delivery_date: "2024-06-15",
  drawing_review_date: "2024-02-01",  // ë„ë©´ê²€í† íšŒ ì¼ì • (ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì•Œë¦¼ ê¸°ì¤€)
  
  // ì˜ˆì‚°
  estimated_cost: 50000000,
  
  // ìƒíƒœ
  status: "draft",                   // 'draft', 'sent_to_maker', 'in_production', 'completed'
  
  // ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ì •ë³´
  external_system_id: "ERP-2024-001",
  external_sync_enabled: true,
  last_sync_date: null,
  
  created_by: 1,                     // ë³¸ì‚¬ ê´€ë¦¬ì ID
  created_at: "2024-01-15T10:00:00Z"
}
```

#### API
```javascript
POST /api/hq/mold-specifications

{
  "part_number": "P-2024-001",
  "part_name": "í”„ë¡ íŠ¸ ë²”í¼",
  "car_model": "GV80",
  "target_maker_id": 5,
  "development_stage": "ê°œë°œ",
  ...
}
```

---

### Step 2: ìë™ ì—°ë™ â†’ ê¸ˆí˜•ì œì‘ì²˜ ëŒ€ì‹œë³´ë“œ

**íŠ¸ë¦¬ê±°**: ë³¸ì‚¬ì—ì„œ `status: 'sent_to_maker'`ë¡œ ë³€ê²½ ì‹œ
**ëŒ€ìƒ**: ì§€ì •ëœ ì œì‘ì²˜ (`target_maker_id`)

---

### Step 2-1: ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ë° ìŠ¹ì¸

**ë‹´ë‹¹**: ê¸ˆí˜•ì œì‘ì²˜ â†’ CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì
**í…Œì´ë¸”**: `pre_production_checklists`
**ì‹œì **: ê¸ˆí˜• ì œì‘ ì‹œì‘ ì „

#### í”„ë¡œì„¸ìŠ¤ íë¦„

```
[ê¸ˆí˜•ì œì‘ì²˜]
    â†“ 1. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±
[ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸]
    â†“ 2. ì œì¶œ
[CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì]
    â†“ 3. ì ê²€ ë° ê²€í† 
[ìŠ¹ì¸/ë°˜ë ¤]
    â†“ 4-1. ìŠ¹ì¸ ì‹œ
[ì œì‘ ì‹œì‘ ê°€ëŠ¥]
    â†“ 4-2. ë°˜ë ¤ ì‹œ
[ìˆ˜ì • í›„ ì¬ì œì¶œ]
```

#### ğŸ”” ì•Œë¦¼ ê¸°ëŠ¥ (ë„ë©´ê²€í† íšŒ ì—°ë™)

**ëª©ì **: ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë„ë©´ê²€í† íšŒ ì§„í–‰ ì „ì— ì™„ë£Œí•  ìˆ˜ ìˆë„ë¡ ì•Œë¦¼

##### ì•Œë¦¼ íŠ¸ë¦¬ê±° ì¡°ê±´

| ì•Œë¦¼ ì‹œì  | ëŒ€ìƒ | ì¡°ê±´ | ì•Œë¦¼ ë‚´ìš© |
|----------|------|------|----------|
| **D-7ì¼** | ê¸ˆí˜•ì œì‘ì²˜ | ë„ë©´ê²€í† íšŒ 7ì¼ ì „ & ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ì‘ì„± | "ë„ë©´ê²€í† íšŒ 7ì¼ ì „ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”." |
| **D-5ì¼** | ê¸ˆí˜•ì œì‘ì²˜ | ë„ë©´ê²€í† íšŒ 5ì¼ ì „ & ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ì‘ì„± | "âš ï¸ ë„ë©´ê²€í† íšŒ 5ì¼ ì „ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”." |
| **D-3ì¼** | ê¸ˆí˜•ì œì‘ì²˜ + CAMS ë‹´ë‹¹ì | ë„ë©´ê²€í† íšŒ 3ì¼ ì „ & ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ì‘ì„± | "ğŸš¨ ë„ë©´ê²€í† íšŒ 3ì¼ ì „ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë¯¸ì‘ì„± ìƒíƒœì…ë‹ˆë‹¤." |
| **D-1ì¼** | ê¸ˆí˜•ì œì‘ì²˜ + CAMS ë‹´ë‹¹ì + ê´€ë¦¬ì | ë„ë©´ê²€í† íšŒ 1ì¼ ì „ & ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ìŠ¹ì¸ | "ğŸš¨ ê¸´ê¸‰: ë„ë©´ê²€í† íšŒ 1ì¼ ì „ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë¯¸ìŠ¹ì¸ ìƒíƒœì…ë‹ˆë‹¤." |
| **ì œì¶œ ì‹œ** | CAMS ë‹´ë‹¹ì | ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œë¨ | "ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  ë° ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤." |
| **ìŠ¹ì¸ ì‹œ** | ê¸ˆí˜•ì œì‘ì²˜ | ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸ë¨ | "âœ… ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì œì‘ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." |
| **ë°˜ë ¤ ì‹œ** | ê¸ˆí˜•ì œì‘ì²˜ | ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ë ¤ë¨ | "âŒ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì • í›„ ì¬ì œì¶œí•´ì£¼ì„¸ìš”." |

##### ì•Œë¦¼ ë°ì´í„° êµ¬ì¡°

```javascript
{
  notification_id: "NOTIF-2024-001",
  notification_type: "pre_production_checklist_reminder",
  mold_specification_id: 123,
  checklist_id: "M-2024-001",
  
  // ë„ë©´ê²€í† íšŒ ì •ë³´
  drawing_review_date: "2024-12-01",  // ê¸ˆí˜•ê°œë°œì¼ì •ì—ì„œ ê°€ì ¸ì˜´
  days_until_review: 7,                // ë‚¨ì€ ì¼ìˆ˜
  
  // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ
  checklist_status: "not_started",     // not_started, draft, submitted, approved, rejected
  
  // ì•Œë¦¼ ëŒ€ìƒ
  recipients: [
    {
      user_id: 5,
      user_type: "maker",              // maker, cams_manager, admin
      user_name: "ì •ê¸¸ì",
      notification_sent: true,
      sent_at: "2024-11-24T09:00:00Z"
    }
  ],
  
  // ì•Œë¦¼ ë‚´ìš©
  title: "ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ì•Œë¦¼ (D-7)",
  message: "ë„ë©´ê²€í† íšŒ 7ì¼ ì „ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.",
  priority: "normal",                  // normal, high, urgent
  
  // ì•Œë¦¼ ì±„ë„
  channels: ["email", "system", "sms"], // ì•Œë¦¼ ì „ì†¡ ì±„ë„
  
  created_at: "2024-11-24T09:00:00Z",
  read_at: null
}
```

##### ì•Œë¦¼ ë¡œì§ (Pseudocode)

```javascript
// ë§¤ì¼ ì˜¤ì „ 9ì‹œ ì‹¤í–‰ë˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬
async function checkPreProductionChecklistDeadlines() {
  const today = new Date();
  
  // 1. ë„ë©´ê²€í† íšŒê°€ ì˜ˆì •ëœ ëª¨ë“  ê¸ˆí˜• ì‚¬ì–‘ ì¡°íšŒ
  const upcomingReviews = await db.query(`
    SELECT 
      ms.id,
      ms.mold_specification_id,
      ms.drawing_review_date,
      ms.target_maker_id,
      ms.cams_manager_id,
      ppc.id as checklist_id,
      ppc.status as checklist_status
    FROM mold_specifications ms
    LEFT JOIN pre_production_checklists ppc ON ms.id = ppc.mold_specification_id
    WHERE ms.drawing_review_date IS NOT NULL
      AND ms.drawing_review_date >= CURRENT_DATE
      AND ms.drawing_review_date <= CURRENT_DATE + INTERVAL '7 days'
      AND ms.status IN ('sent_to_maker', 'in_progress')
  `);
  
  for (const review of upcomingReviews) {
    const daysUntilReview = Math.ceil(
      (new Date(review.drawing_review_date) - today) / (1000 * 60 * 60 * 24)
    );
    
    // 2. ì•Œë¦¼ ì¡°ê±´ ì²´í¬
    if (daysUntilReview === 7 && !review.checklist_status) {
      // D-7: ê¸ˆí˜•ì œì‘ì²˜ì—ê²Œ ì•Œë¦¼
      await sendNotification({
        type: 'pre_production_checklist_reminder',
        recipients: [review.target_maker_id],
        priority: 'normal',
        title: 'ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ì•Œë¦¼ (D-7)',
        message: `ë„ë©´ê²€í† íšŒê°€ ${review.drawing_review_date}ì— ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.`,
        mold_specification_id: review.mold_specification_id,
        drawing_review_date: review.drawing_review_date
      });
    }
    
    if (daysUntilReview === 5 && !review.checklist_status) {
      // D-5: ê¸ˆí˜•ì œì‘ì²˜ì—ê²Œ ê²½ê³  ì•Œë¦¼
      await sendNotification({
        type: 'pre_production_checklist_reminder',
        recipients: [review.target_maker_id],
        priority: 'high',
        title: 'âš ï¸ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ì•Œë¦¼ (D-5)',
        message: `ë„ë©´ê²€í† íšŒê°€ ${review.drawing_review_date}ì— ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.`,
        mold_specification_id: review.mold_specification_id,
        drawing_review_date: review.drawing_review_date
      });
    }
    
    if (daysUntilReview === 3 && !review.checklist_status) {
      // D-3: ê¸ˆí˜•ì œì‘ì²˜ + CAMS ë‹´ë‹¹ìì—ê²Œ ê¸´ê¸‰ ì•Œë¦¼
      await sendNotification({
        type: 'pre_production_checklist_reminder',
        recipients: [review.target_maker_id, review.cams_manager_id],
        priority: 'urgent',
        title: 'ğŸš¨ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ì•Œë¦¼ (D-3)',
        message: `ë„ë©´ê²€í† íšŒê°€ ${review.drawing_review_date}ì— ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë¯¸ì‘ì„± ìƒíƒœì…ë‹ˆë‹¤.`,
        mold_specification_id: review.mold_specification_id,
        drawing_review_date: review.drawing_review_date,
        channels: ['email', 'system', 'sms']
      });
    }
    
    if (daysUntilReview === 1 && review.checklist_status !== 'approved') {
      // D-1: ê¸ˆí˜•ì œì‘ì²˜ + CAMS ë‹´ë‹¹ì + ê´€ë¦¬ìì—ê²Œ ìµœì¢… ê¸´ê¸‰ ì•Œë¦¼
      const adminUsers = await getAdminUsers();
      await sendNotification({
        type: 'pre_production_checklist_reminder',
        recipients: [review.target_maker_id, review.cams_manager_id, ...adminUsers],
        priority: 'urgent',
        title: 'ğŸš¨ ê¸´ê¸‰: ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ìŠ¹ì¸ (D-1)',
        message: `ë„ë©´ê²€í† íšŒê°€ ë‚´ì¼(${review.drawing_review_date})ì…ë‹ˆë‹¤. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë¯¸ìŠ¹ì¸ ìƒíƒœì…ë‹ˆë‹¤.`,
        mold_specification_id: review.mold_specification_id,
        drawing_review_date: review.drawing_review_date,
        channels: ['email', 'system', 'sms']
      });
    }
  }
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ ì‹œ ì•Œë¦¼
async function onChecklistSubmitted(checklistId) {
  const checklist = await getChecklistById(checklistId);
  const moldSpec = await getMoldSpecification(checklist.mold_specification_id);
  
  await sendNotification({
    type: 'pre_production_checklist_submitted',
    recipients: [moldSpec.cams_manager_id],
    priority: 'high',
    title: 'ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œë¨',
    message: `${moldSpec.part_name} (${moldSpec.part_number})ì˜ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  ë° ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.`,
    checklist_id: checklistId,
    mold_specification_id: moldSpec.id,
    drawing_review_date: moldSpec.drawing_review_date
  });
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸ ì‹œ ì•Œë¦¼
async function onChecklistApproved(checklistId) {
  const checklist = await getChecklistById(checklistId);
  const moldSpec = await getMoldSpecification(checklist.mold_specification_id);
  
  await sendNotification({
    type: 'pre_production_checklist_approved',
    recipients: [moldSpec.target_maker_id],
    priority: 'normal',
    title: 'âœ… ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸ë¨',
    message: `${moldSpec.part_name} (${moldSpec.part_number})ì˜ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì œì‘ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
    checklist_id: checklistId,
    mold_specification_id: moldSpec.id
  });
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ë ¤ ì‹œ ì•Œë¦¼
async function onChecklistRejected(checklistId, rejectionReason) {
  const checklist = await getChecklistById(checklistId);
  const moldSpec = await getMoldSpecification(checklist.mold_specification_id);
  
  await sendNotification({
    type: 'pre_production_checklist_rejected',
    recipients: [moldSpec.target_maker_id],
    priority: 'high',
    title: 'âŒ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ë ¤ë¨',
    message: `${moldSpec.part_name} (${moldSpec.part_number})ì˜ ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì • í›„ ì¬ì œì¶œí•´ì£¼ì„¸ìš”.\në°˜ë ¤ ì‚¬ìœ : ${rejectionReason}`,
    checklist_id: checklistId,
    mold_specification_id: moldSpec.id,
    drawing_review_date: moldSpec.drawing_review_date
  });
}
```

##### ì•Œë¦¼ API ì—”ë“œí¬ì¸íŠ¸

```javascript
// 1. ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ
GET /api/notifications
Query Parameters:
  - user_id: ì‚¬ìš©ì ID
  - type: ì•Œë¦¼ íƒ€ì… (ì„ íƒ)
  - read: true/false (ì½ìŒ ì—¬ë¶€)
  - priority: normal/high/urgent
Response:
{
  notifications: [
    {
      notification_id: "NOTIF-2024-001",
      type: "pre_production_checklist_reminder",
      title: "ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± ì•Œë¦¼ (D-7)",
      message: "...",
      priority: "normal",
      read: false,
      created_at: "2024-11-24T09:00:00Z",
      mold_specification_id: 123,
      checklist_id: "M-2024-001"
    }
  ],
  unread_count: 5
}

// 2. ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
PATCH /api/notifications/:id/read
Response:
{
  success: true,
  notification_id: "NOTIF-2024-001",
  read_at: "2024-11-24T10:30:00Z"
}

// 3. ì•Œë¦¼ ì„¤ì • ì¡°íšŒ/ìˆ˜ì •
GET /api/users/:id/notification-settings
PUT /api/users/:id/notification-settings
Body:
{
  email_enabled: true,
  sms_enabled: false,
  system_enabled: true,
  notification_types: {
    pre_production_checklist_reminder: true,
    pre_production_checklist_submitted: true,
    pre_production_checklist_approved: true,
    pre_production_checklist_rejected: true
  }
}
```

#### ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸                                    ì´ ì ê²€í•­ëª©  ë°˜ë ¤  ì§„í–‰ë¥  â”‚
â”‚     M-2024-001 - ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•                    81      0    0%    â”‚
â”‚                                                                              â”‚
â”‚  [âš ï¸ ìŠ¹ì¸ëŒ€ê¸°]  [ğŸ“„ ê²€ì ì—…ë¬´ ë° ìŠ¹ì¸ìš”ì²­]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ì°¨ì¢…                    NO5 (ê¸°ë³¸ì°¨)                                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ PART NUMBER  â”‚ 86563/4-P1010     â”‚ PART NAME    â”‚ COVER-FOG LAMP, L/RH â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ì‘ì„±ì¼       â”‚ 2025. 11. 20.     â”‚ ì‘ì„±ì       â”‚ ì •ê¸¸ì           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ì–‘ì‚°ì²˜       â”‚ ì§€ê¸ˆê°•            â”‚ ì œì‘ì²˜       â”‚ ì•„ì´ì—ì´í…Œí¬     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ì–‘ì‚° ì‚¬ì¶œê¸°  â”‚ - ton             â”‚ í˜•ì²´ë ¥       â”‚ 650ton           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ EO CUT       â”‚ 2020.09.08        â”‚ ì´ˆë„ T/O ì¼ì •â”‚ 2020.11.20       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                           ë¶€í’ˆ ê·¸ë¦¼                                   â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                      [ì œí’ˆ ì´ë¯¸ì§€]                                     â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚                   [ğŸ“· ì´ë¯¸ì§€ ì—…ë¡œë“œ]                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  I. ì›ì¬ë£Œ (Material)                                      â˜‘ï¸ ì ê²€ëŒ€ìƒ      â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ No.â”‚ ì ê²€ í•­ëª©                    â”‚ ê·œê²©/ì‚¬ì–‘                 â”‚ í™•ì¸     â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ ìˆ˜ì¶•ë¥                        â”‚ 6/1000                   â”‚ â˜‘ï¸       â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2  â”‚ ì†Œì¬ (MS SPEC)               â”‚ PA66-GF30 (MS211-47)     â”‚ â˜‘ï¸       â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3  â”‚ ê³µê¸‰ ì—…ì²´                    â”‚                          â”‚ â˜        â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      [ğŸ“ íŒŒì¼ ì²¨ë¶€]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  II. ê¸ˆí˜• (Mold)                                           â˜‘ï¸ ì ê²€ëŒ€ìƒ      â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ No.â”‚ ì ê²€ í•­ëª©                    â”‚ ê·œê²©/ì‚¬ì–‘                 â”‚ í™•ì¸     â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ ê¸ˆí˜• ë²ˆí˜¸ ìœ¤ë°˜Â·ë³¸í˜• ì•„ì´í…œ   â”‚ â˜ í™•ì¸ â˜ ë¯¸í™•ì¸          â”‚ â˜        â”‚
â”‚    â”‚ ì‚¬ì–‘ ì…ì§€                    â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2  â”‚ ì–‘ì‚°ì‹œ ì¡°ê±´ ì œì•½ ì‚¬ì–‘ ë°˜ì˜   â”‚ â˜ ë¬´ â˜ ë¶€                â”‚ â˜        â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3  â”‚ ìˆ˜ì¶•ë¥                        â”‚ 6/1000                   â”‚ â˜        â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4  â”‚ ê¸ˆí˜• ì¤‘ëŸ‰                    â”‚ 0.6 ton                  â”‚ â˜        â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5  â”‚ ë²¤íŒ… íˆíŠ¸íŒŒíŒ… ì ìš©           â”‚ â˜ ì ìš© â˜ ë¯¸ì ìš© â˜ ì‚¬ì–‘ ìƒì´â”‚ â˜       â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6  â”‚ ìºë¹„í‹° ì¬ì§ˆ                  â”‚ [ì¬ì§ˆ ì„ íƒ â–¼]            â”‚ â˜        â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 8  â”‚ ìºë¹„í‹° ìˆ˜                    â”‚ â˜1 â˜2 â˜3 â˜4 â˜5 â˜6       â”‚ â˜        â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 9  â”‚ ê²Œì´íŠ¸ í˜•ì‹                  â”‚ â˜ ì˜¤í”ˆ â˜ ë°¸ë¸Œ            â”‚ â˜        â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 19 â”‚ ê¸ˆí˜• ìŠ¤í˜ì–´ ë¦¬ìŠ¤íŠ¸ ê²€ìˆ˜      â”‚ [ì—°ë„-ì›”-ì¼ â–¼]           â”‚ â˜        â”‚
â”‚    â”‚ (ì†Œëª¨ë¶€ ì•„ì´í…œ)              â”‚ â˜ ë°˜ì˜ â˜ ë¯¸ë°˜ì˜          â”‚          â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 30 â”‚ ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 1              â”‚                          â”‚ â˜        â”‚
â”‚ .. â”‚ ...                          â”‚ ...                      â”‚ ...      â”‚
â”‚ 34 â”‚ ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 5              â”‚                          â”‚ â˜        â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      [ğŸ“ íŒŒì¼ ì²¨ë¶€]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  III. ê°€ìŠ¤ ë°°ê¸° (Gas Vent)                             â˜‘ï¸ ì ê²€ëŒ€ìƒ          â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ ê°€ìŠ¤ ë°°ê¸° ê¸ˆí˜• ì „ë°˜ ë°˜ì˜     â”‚ â˜ ë°˜ì˜ â˜ ë¯¸ë°˜ì˜          â”‚ â˜        â”‚
â”‚    â”‚                              â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2  â”‚ ê°€ìŠ¤ ë°°ê¸° 2/100 ë˜ëŠ” 3/100   â”‚ â˜ ë°˜ì˜ â˜ ë¯¸ë°˜ì˜          â”‚ â˜        â”‚
â”‚    â”‚ ë°˜ì˜                         â”‚ [ì ê²€ ë‚´ìš© ì…ë ¥]          â”‚          â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

... (ì´ 9ê°œ ì¹´í…Œê³ ë¦¬)
```

#### ì¹´í…Œê³ ë¦¬ë³„ ì ê²€ í•­ëª© ìš”ì•½

| ì¹´í…Œê³ ë¦¬ | í•­ëª© ìˆ˜ | ì£¼ìš” ì ê²€ í•­ëª© |
|---------|--------|---------------|
| I. ì›ì¬ë£Œ | 3ê°œ | ìˆ˜ì¶•ë¥ , ì†Œì¬, ê³µê¸‰ ì—…ì²´ |
| II. ê¸ˆí˜• | 34ê°œ | ê¸ˆí˜• ë²ˆí˜¸, ìˆ˜ì¶•ë¥ , ì¤‘ëŸ‰, ìºë¹„í‹°/ì½”ì–´ ì¬ì§ˆ, ê²Œì´íŠ¸, ëƒ‰ê°ë¼ì¸, ì˜¨ë„ì„¼ì„œ ë“± |
| III. ê°€ìŠ¤ ë°°ê¸° | 6ê°œ | ê°€ìŠ¤ ë°°ê¸° ë°˜ì˜, 2/100 ë˜ëŠ” 3/100 ë°˜ì˜, íŒŒíŒ…ê°„ ê±°ë¦¬ ë“± |
| IV. ì„±í˜• í•´ì„ | 6ê°œ | ì„±í˜• í•´ì„ ì‹¤í–‰, ì„±í˜•ì„± í™•ì¸, ë³€í˜•ë°œìƒ, ì›°ë“œë¼ì¸, ê°€ìŠ¤ ë°œìƒ ë¶€ìœ„ |
| V. ì‹±í¬ë§ˆí¬ | 3ê°œ | ë¦¬ë¸Œ 0.6t ë°˜ì˜, ì‹±í¬ ë°œìƒ êµ¬ì¡°, ì˜ˆê° ë¶€ìœ„ êµ¬ì¡° |
| VI. ì·¨ì¶œ | 7ê°œ | ì·¨ì¶œ êµ¬ì¡°, ì–¸ë”ì»·, í•µê¸° êµ¬ë°°, ë³´ìŠ¤ êµ¬ë°° ë“± |
| VII. MIC ì œí’ˆ | 4ê°œ | MIC ì‚¬ì–‘ ê²Œì´íŠ¸, ì„±í˜•í•´ì„, ì›°ë“œë¼ì¸, Aë©´ ì™¸ê´€ |
| VIII. ë„ê¸ˆ | 12ê°œ | ê²Œì´íŠ¸ ìœ„ì¹˜/ê°œìˆ˜, ìˆ˜ì¶•ë¥ , ë³´ìŠ¤ ì¡°ë¦½ë¶€, ì œí’ˆ ë‘ê»˜, ì¹˜í˜ë§‰ ë“± |
| IX. ë¦¬ì–´ ë°±ë¹” | 6ê°œ | ê¸ˆí˜•êµ¬ë°°, ì œí’ˆ ë³€ì‚°ë¶€ ë‘ê»˜, í›„ê¸°ê³µ ë³¼, ê°€ì´ë“œí•€ ë“± |
| **ì´ê³„** | **81ê°œ** | - |

#### ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°ì´í„° êµ¬ì¡°

```javascript
{
  // === ì²´í¬ë¦¬ìŠ¤íŠ¸ ID ===
  checklist_id: "M-2024-001",
  checklist_title: "ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•",
  checklist_type: "ì œì‘ì „",
  
  // === ìƒë‹¨ í—¤ë” ì •ë³´ ===
  header: {
    total_items: 81,                  // ì´ ì ê²€í•­ëª©
    rejected_items: 0,                // ë°˜ë ¤
    progress_rate: 0,                 // ì§„í–‰ë¥  (%)
    status: "ìŠ¹ì¸ëŒ€ê¸°",                // ìƒíƒœ
    status_color: "warning"           // warning/success/danger
  },
  
  // === ê¸°ë³¸ì •ë³´ (ìë™/ìˆ˜ë™ êµ¬ë¶„) ===
  basic_info: {
    // ì²« ë²ˆì§¸ í–‰
    car_model: "NO5 (ê¸°ë³¸ì°¨)",        // ì°¨ì¢… [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
    
    // ë‘ ë²ˆì§¸ í–‰
    part_number: "86563/4-P1010",     // PART NUMBER [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
    part_name: "COVER-FOG LAMP, L/RH", // PART NAME [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
    
    // ì„¸ ë²ˆì§¸ í–‰
    created_date: "2025.11.20",       // ì‘ì„±ì¼ [ğŸ”µ ìë™] - ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±ì¼
    created_by: "ì •ê¸¸ì",              // ì‘ì„±ì [ğŸ”µ ìë™] - í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì
    
    // ë„¤ ë²ˆì§¸ í–‰
    production_plant: "ì§€ê¸ˆê°•",        // ì–‘ì‚°ì²˜ [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ target_plant_idì—ì„œ
    maker_name: "ì•„ì´ì—ì´í…Œí¬",        // ì œì‘ì²˜ [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ target_maker_idì—ì„œ
    
    // ë‹¤ì„¯ ë²ˆì§¸ í–‰
    injection_machine_tonnage: "- ton", // ì–‘ì‚° ì‚¬ì¶œê¸° [âœï¸ ìˆ˜ë™] - ì œì‘ì²˜ ì…ë ¥
    clamping_force: "650ton",         // í˜•ì²´ë ¥ [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
    
    // ì—¬ì„¯ ë²ˆì§¸ í–‰
    eo_cut_date: "2020.09.08",        // EO CUT [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
    trial_order_date: "2020.11.20"    // ì´ˆë„ T/O ì¼ì • [ğŸ”µ ìë™] - ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ
  },
  
  // === ë¶€í’ˆ ê·¸ë¦¼ (ìë™ ì—°ê³„) ===
  part_images: [
    {
      url: "https://...",
      uploaded_at: "2024-01-15T10:00:00Z",
      uploaded_by: "CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì",
      source: "mold_specification",   // ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬
      auto_synced: true
    }
  ],
  
  // === ì‘ì„±ì ì •ë³´ ===
  mold_specification_id: 1,
  maker_id: 5,
  created_by_maker: 5,
  created_by_name: "ì •ê¸¸ì",
  created_at: "2025-11-20T10:00:00Z",
  
  // === I. ì›ì¬ë£Œ (Material) ===
  category_material: {
    category_name: "I. ì›ì¬ë£Œ (Material)",
    category_enabled: true,  // ì ê²€ëŒ€ìƒ ì—¬ë¶€
    items: [
      {
        no: 1,
        name: "ìˆ˜ì¶•ë¥ ",
        applicable: true,  // ì ê²€ëŒ€ìƒ ìœ ë¬´
        spec: "6/1000",
        checked: true,
        notes: ""
      },
      {
        no: 2,
        name: "ì†Œì¬ (MS SPEC)",
        applicable: true,
        spec: "PA66-GF30 (MS211-47)",
        checked: true,
        notes: ""
      },
      {
        no: 3,
        name: "ê³µê¸‰ ì—…ì²´",
        applicable: true,
        spec: "",
        checked: false,
        notes: ""
      }
    ]
  },
  
  // === II. ê¸ˆí˜• (Mold) ===
  category_mold: {
    category_name: "II. ê¸ˆí˜• (Mold)",
    category_enabled: true,
    items: [
      {no: 1, name: "ê¸ˆí˜• ë°œì£¼ í’ˆë²ˆÂ·í’ˆëª© ì•„ì´í…œ ì‚¬ì–‘ ì¼ì¹˜", applicable: true, options: ["í™•ì¸", "ë¯¸í™•ì¸"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ì–‘ì‚°ì°¨ ì¡°ê±´ ì œì‘ ì‚¬ì–‘ ë°˜ì˜", applicable: true, options: ["ìœ ", "ë¬´"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ìˆ˜ì¶•ë¥ ", applicable: true, spec: "", checked: false, notes: ""},
      {no: 4, name: "ê¸ˆí˜• ì¤‘ëŸ‰", applicable: true, spec: "", checked: false, notes: ""},
      {no: 5, name: "ë²”í¼ íˆë“ íŒŒíŒ… ì ìš©", applicable: true, options: ["ì ìš©", "ë¯¸ì ìš©", "ì‚¬ì–‘ ìƒì´"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ìºë¹„í‹° ì¬ì§ˆ", applicable: true, dropdown: ["ì¬ì§ˆ ì„ íƒ", "HS-PA (KP4)", "CENA 1", "GHPA4M", "AKP-1", "KP-4", "KP-4M", "NAK-80"], spec: "", checked: false, notes: ""},
      {no: 7, name: "ì½”ì–´ ì¬ì§ˆ", applicable: true, dropdown: ["ì¬ì§ˆ ì„ íƒ", "HS-PA (KP4)", "CENA 1", "GHPA4M", "AKP-1", "KP-4", "KP-4M", "NAK-80"], spec: "", checked: false, notes: ""},
      {no: 8, name: "ìºë¹„í‹° ìˆ˜", applicable: true, options: ["1", "2", "3", "4", "5", "6"], spec: "", checked: false, notes: ""},
      {no: 9, name: "ê²Œì´íŠ¸ í˜•ì‹", applicable: true, options: ["ì˜¤í”ˆ", "ë°¸ë¸Œ"], spec: "", checked: false, notes: ""},
      {no: 10, name: "ê²Œì´íŠ¸ ìˆ˜", applicable: true, options: ["1", "2", "3", "4", "5", "6"], spec: "", checked: false, notes: ""},
      {no: 11, name: "ê²Œì´íŠ¸ ìœ„ì¹˜ ì ì •ì„±", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 12, name: "ê²Œì´íŠ¸ ì‚¬ì´ì¦ˆ í™•ì¸", applicable: true, options: ["í™•ì¸", "ë¯¸í™•ì¸"], spec: "", checked: false, notes: ""},
      {no: 13, name: "ê²Œì´íŠ¸ ì»·íŒ… í˜•ìƒ ì ì •ì„±", applicable: true, options: ["ìºë¹„í‹°", "ì˜¤ë²„ë©"], spec: "", checked: false, notes: ""},
      {no: 14, name: "ì´ì í•€", applicable: true, options: ["ì›í˜•", "ì‚¬ê°", "ì·¨ì¶œ ë¶ˆëŸ‰ ì—¬ë¶€"], spec: "", checked: false, notes: ""},
      {no: 15, name: "ë…¸ì¦Â·ê²Œì´íŠ¸ ê¸ˆí˜• ê°ì¸", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 16, name: "ëƒ‰ê°ë¼ì¸ ìœ„ì¹˜Â·ìŠ¤ì¼€ì¼ 20mm ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 17, name: "ì˜¨ë„ì„¼ì„œ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 18, name: "ì˜¨ë„ì„¼ì„œ ìˆ˜(ìºë¹„í‹°/ì½”ì–´)", applicable: true, spec: "", checked: false, notes: ""},
      {no: 19, name: "ê¸ˆí˜• ìŠ¤í˜ì–´ ë¦¬ìŠ¤íŠ¸ ì ‘ìˆ˜(ì†Œê¸ˆë¶€ ì•„ì´í…œ)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 20, name: "ê¸ˆí˜• ì¸ìí‘œ ì´ˆë„ T/Oì¼ì • ì ‘ìˆ˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 21, name: "ê¸ˆí˜• ì •ë³´ ì ‘ìˆ˜(ì‚¬ì´ì¦ˆÂ·í†¤ìˆ˜Â·ìºë¹„í‹° ìˆ˜Â·í˜•ì²´ë ¥)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 22, name: "ê¸ˆí˜• ì •ë³´ ì „ì‚° ë“±ë¡", applicable: true, options: ["ì™„ë£Œ", "ë¯¸ì™„ë£Œ"], spec: "", checked: false, notes: ""},
      {no: 23, name: "ê¸ˆí˜• ì™¸ê´€ ë„ìƒ‰ ìƒíƒœ", applicable: true, options: ["ì–‘í˜¸", "ë¶ˆëŸ‰"], spec: "", checked: false, notes: ""},
      {no: 24, name: "ê¸ˆí˜• ë¨•íŒ ë¶€ì°©", applicable: true, options: ["ë¶€ì°©", "ë¯¸ë¶€ì°©"], spec: "", checked: false, notes: ""},
      {no: 25, name: "ê¸ˆí˜• ì¼ˆë¦°ë” ë° ì œì§ˆ ê°ì¸", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 26, name: "íŒŒíŒ… êµ¬ì¡° ì ì •ì„±(ì°í˜/ì†ìƒ/ë²„ ë°œìƒ ê°€ëŠ¥)", applicable: true, options: ["ì–‘í˜¸", "ë¶ˆëŸ‰"], spec: "", checked: false, notes: ""},
      {no: 27, name: "ë‚´êµ¬ì„± í™•ì¸(ì¸¡ë©´ ìŠµí•© ë“± ê¸ˆí˜• í¬ë™ ì—¬ë¶€)", applicable: true, options: ["ì–‘í˜¸", "ë¶ˆëŸ‰"], spec: "", checked: false, notes: ""},
      {no: 28, name: "ì†Œí”„íŠ¸ ê²Œì´íŠ¸ ì ìš©", applicable: true, options: ["ì ìš©", "ë¯¸ì ìš©"], spec: "", checked: false, notes: ""},
      {no: 29, name: "ì½œë“œ ìŠ¬ëŸ¬ê·¸ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 30, name: "ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 1", applicable: true, spec: "", checked: false, notes: ""},
      {no: 31, name: "ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 2", applicable: true, spec: "", checked: false, notes: ""},
      {no: 32, name: "ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 3", applicable: true, spec: "", checked: false, notes: ""},
      {no: 33, name: "ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 4", applicable: true, spec: "", checked: false, notes: ""},
      {no: 34, name: "ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ 5", applicable: true, spec: "", checked: false, notes: ""}
    ]
  },
  
  // === III. ê°€ìŠ¤ ë°°ê¸° (Gas Vent) ===
  category_gas_vent: {
    category_name: "III. ê°€ìŠ¤ ë°°ê¸° (Gas Vent)",
    category_enabled: true,
    items: [
      {no: 1, name: "ê°€ìŠ¤ ë¹¼ê¸° ê¸ˆí˜• ì „ë°˜ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ê°€ìŠ¤ ë¹¼ê¸° 2/100 ë˜ëŠ” 3/100 ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ê°€ìŠ¤ ë¹¼ê¸° í”¼ì°¨ê°„ ê±°ë¦¬ 30mm ê°„ê²© ìœ ì§€", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "ê°€ìŠ¤ ë¹¼ê¸° í­ 7mm ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 5, name: "ê°€ìŠ¤ ë¹¼ê¸° ìœ„ì¹˜ ì ì ˆì„±", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ê°€ìŠ¤ ë°œìƒ ì˜ˆìƒ êµ¬ê°„ ì¶”ê°€ ë²¤íŠ¸ ì—¬ë¶€", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === IV. ì„±í˜• í•´ì„ (Moldflow ë“±) ===
  category_moldflow: {
    category_name: "IV. ì„±í˜• í•´ì„ (Moldflow ë“±)",
    category_enabled: true,
    items: [
      {no: 1, name: "ì¤‘ ëŒ€ë¬¼ë¥˜ ë° ë„ê¸ˆ ì•„ì´í…œ ì„±í˜• í•´ì„ ì‹¤í–‰", options: ["ì‹¤í–‰", "ë¯¸ì‹¤í–‰"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ì„±í˜•ì„± í™•ì¸(ë¯¸ì„±í˜• ë°œìƒë¶€ í™•ì¸)", applicable: true, options: ["í™•ì¸", "ë¯¸í™•ì¸"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ë³€í˜•ë°œìƒ êµ¬ì¡° í™•ì¸(ì œí’ˆë‘ê»˜,ë‚ íŒêµ¬ì¡° í™•ì¸)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "ì›°ë“œë¼ì¸ ìœ„ì¹˜ í™•ì¸", applicable: true, options: ["í™•ì¸", "ë¯¸í™•ì¸"], spec: "", checked: false, notes: ""},
      {no: 5, name: "ì›°ë“œë¼ì¸ êµ¬ì¡° í˜•ìƒ ì‚­ì œ ê²€í† ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ê°€ìŠ¤ ë°œìƒ ë¶€ìœ„ í™•ì¸", applicable: true, options: ["í™•ì¸", "ë¯¸í™•ì¸"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === V. ì‹±í¬ë§ˆí¬ (Sink Mark) ===
  category_sink_mark: {
    category_name: "V. ì‹±í¬ë§ˆí¬ (Sink Mark)",
    category_enabled: true,
    items: [
      {no: 1, name: "ì „ì²´ ë¦¬ë¸Œ 0.6t ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ì‹±í¬ ë°œìƒ êµ¬ì¡°(ì œí’ˆ ë‘ê»˜ í¸ì°¨)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ì˜ˆê° ë¶€ìœ„ êµ¬ì¡° í™•ì¸(ì œí’ˆ ì‚´ë¹¼ê¸° ë°˜ì˜)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === VI. ì·¨ì¶œ (Ejection) ===
  category_ejection: {
    category_name: "VI. ì·¨ì¶œ (Ejection)",
    category_enabled: true,
    items: [
      {no: 1, name: "ì œí’ˆ ì·¨ì¶œ êµ¬ì¡°(ë²”í¼ í•˜ë‹¨ ë§¤ì¹­ë¶€)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ì œí’ˆ ì·¨ì¶œêµ¬ì¡°(ë²”í¼ íœ ì•„ì¹˜)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ì–¸ë”ì»· êµ¬ì¡° í™•ì¸", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "ë¹¼ê¸° êµ¬ë°° 3~5ë„", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 5, name: "ì œí’ˆ ì·¨ì¶œ êµ¬ì¡°(ë³´ìŠ¤ êµ¬ë°°)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ì œí’ˆ ì·¨ì¶œ êµ¬ì¡°(ë„ê·¸í•˜ìš°ìŠ¤ ì·¨ì¶œ)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 7, name: "ì œí’ˆ ì·¨ì¶œ ì–¸ë”ì»· ìœ„ì¹˜ ë° ì— ë³´ í™•ì¸", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === VII. MIC ì œí’ˆ (MICA ìŠ¤í™í´ ë“±) ===
  category_mic: {
    category_name: "VII. MIC ì œí’ˆ (MICA ìŠ¤í™í´ ë“±)",
    category_enabled: true,
    items: [
      {no: 1, name: "MIC ì‚¬ì–‘ ê²Œì´íŠ¸ í˜•ìƒ ë°˜ì˜(ê³ ê°ì‚¬ ì œì•ˆ ê²Œì´íŠ¸)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ì„±í˜•í•´ì„ í†µí•œ ì œí’ˆ ë‘ê»˜ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 3, name: "ì›°ë“œë¼ì¸ í™•ì¸ ë° ë„ì¥ ì‚¬ì–‘", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "A,Bë©´ ì™¸ê´€ í”Œë ˆì´í¬ í™•ì¸", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === VIII. ë„ê¸ˆ (Coating) ===
  category_coating: {
    category_name: "VIII. ë„ê¸ˆ (Coating)",
    category_enabled: true,
    items: [
      {no: 1, name: "ê²Œì´íŠ¸ ìœ„ì¹˜/ê°œìˆ˜ ìµœì í™”(ABS:250mmÂ·PC+ABS:200m)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ìˆ˜ì¶•ë¥ ", applicable: true, spec: "", checked: false, notes: ""},
      {no: 3, name: "ë³´ìŠ¤ ì¡°ë¦½ë¶€ ì—£ì§€ 1R ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "ë³´ìŠ¤ ì‹­ìë¦¬ë¸Œ Rê°’ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 5, name: "ë³´ìŠ¤ ë‚´ê²½(M4=3.6, M5=4.6 ë“±)", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ì•¡ê³ ì„ ë°©ì§€êµ¬ì¡°", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 7, name: "ì œí’ˆ ë‘ê»˜ 3.0t", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 8, name: "ë„ê¸ˆì„±í™•ë³´ë¥¼ ìœ„í•œ ì œí’ˆê°ë„ ì ì ˆì„±", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 9, name: "ì°¨íë§‰ í˜•ìƒ ë„ë©´ ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 10, name: "ì°¨íë§‰ ì»·íŒ… ì™¸ê³½ ë¯¸ë…¸ì¶œ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 11, name: "ê²Œì´íŠ¸ ì»·íŒ… ì™¸ê³½ ë¯¸ë…¸ì¶œ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 12, name: "TPOì™€ ë„ê¸ˆ ìŠ¤í¬ë¥˜ ì¡°ë¦½í™€ ê¸ˆí˜• ë„ë©´ ì´ì›í™”", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === IX. ë¦¬ì–´ ë°±ë¹” (Rear Back Beam) ===
  category_rear_back_beam: {
    category_name: "IX. ë¦¬ì–´ ë°±ë¹” (Rear Back Beam)",
    category_enabled: true,
    items: [
      {no: 1, name: "ë¦¬ì–´ ë°±ë¹” ê¸ˆí˜•êµ¬ë°° 5ë„ ì´ìƒ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 2, name: "ë¦¬ì–´ ë°±ë¹” ì œí’ˆ ëë‹¨ë¶€ ë‘ê»˜ 5.0t ì´ìƒ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 3, name: "í›„ê°€ê³µ í™€ ê°ì¸ ê¸ˆí˜• ë°˜ì˜", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 4, name: "í›„ê°€ê³µ í™€ í•€: íƒ­ íƒ€ì…", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 5, name: "ê°€ì´ë“œí•€ ìš©ì ‘ë¶€ ìŒê°í˜•ìƒ", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""},
      {no: 6, name: "ê°€ì´ë“œí•€ ìœ„ì¹˜ ë° ìœ ë™", applicable: true, options: ["ë°˜ì˜", "ë¯¸ë°˜ì˜"], spec: "", checked: false, notes: ""}
    ]
  },
  
  // === ì¢…í•© ê²°ê³¼ ===
  total_items: 24,
  ok_items: 24,
  ng_items: 0,
  na_items: 0,
  pass_rate: 100.0,
  overall_result: "pass",
  
  // íŠ¹ì´ì‚¬í•­
  special_notes: "ëª¨ë“  ì¤€ë¹„ ì™„ë£Œ",
  risk_assessment: "ìœ„í—˜ ìš”ì†Œ ì—†ìŒ",
  
  // === ì œì¶œ ì •ë³´ ===
  submitted: true,
  submitted_at: "2024-01-20T14:00:00Z",
  
  // === ìŠ¹ì¸ ì •ë³´ (CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì) ===
  review_status: "pending",           // 'pending', 'approved', 'rejected'
  reviewed_by: null,                  // CAMS ë‹´ë‹¹ì ID
  reviewed_by_name: null,
  reviewed_at: null,
  review_comments: null,
  
  // ìŠ¹ì¸ í›„ ì œì‘ ì‹œì‘ ê°€ëŠ¥
  production_approved: false,
  production_start_date: null
}
```

#### ìë™ ì…ë ¥ í•­ëª© ì •ë¦¬

| í•­ëª© | ìë™/ìˆ˜ë™ | ì¶œì²˜ | ì„¤ëª… |
|------|----------|------|------|
| ì°¨ì¢… | ğŸ”µ ìë™ | `mold_specifications.car_model` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| PART NUMBER | ğŸ”µ ìë™ | `mold_specifications.part_number` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| PART NAME | ğŸ”µ ìë™ | `mold_specifications.part_name` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| ì‘ì„±ì¼ | ğŸ”µ ìë™ | `NOW()` | ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±ì¼ |
| ì‘ì„±ì | ğŸ”µ ìë™ | `current_user.name` | í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì |
| ì–‘ì‚°ì²˜ | ğŸ”µ ìë™ | `plants.name` (target_plant_id) | ì–‘ì‚°ì²˜ëª… ì¡°íšŒ |
| ì œì‘ì²˜ | ğŸ”µ ìë™ | `makers.name` (target_maker_id) | ì œì‘ì²˜ëª… ì¡°íšŒ |
| ì–‘ì‚° ì‚¬ì¶œê¸° | âœï¸ ìˆ˜ë™ | ì œì‘ì²˜ ì…ë ¥ | ì œì‘ì²˜ì—ì„œ ì§ì ‘ ì…ë ¥ |
| í˜•ì²´ë ¥ | ğŸ”µ ìë™ | `mold_specifications.clamping_force` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| EO CUT | ğŸ”µ ìë™ | `mold_specifications.eo_cut_date` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| ì´ˆë„ T/O ì¼ì • | ğŸ”µ ìë™ | `mold_specifications.trial_order_date` | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ |
| ë¶€í’ˆ ê·¸ë¦¼ | ğŸ”µ ìë™ | `mold_specifications.product_images` | CAMSì—ì„œ ë“±ë¡í•œ ê°œë°œí’ˆ ì‚¬ì§„ ìë™ ë³µì‚¬ |

#### ìë™ ìƒì„± ë¡œì§

```javascript
// ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™ ìƒì„±
async function createPreProductionChecklist(moldSpecificationId, userId) {
  const spec = await MoldSpecification.findByPk(moldSpecificationId);
  const user = await User.findByPk(userId);
  
  // 1. ì–‘ì‚°ì²˜ ë° ì œì‘ì²˜ ì •ë³´ ì¡°íšŒ
  const plant = await Plant.findByPk(spec.target_plant_id);
  const maker = await Maker.findByPk(spec.target_maker_id);
  
  // 2. ì²´í¬ë¦¬ìŠ¤íŠ¸ ID ìë™ ìƒì„±
  const checklistId = await generateChecklistId(spec.mold_code);
  
  // 3. ë¶€í’ˆ ê·¸ë¦¼ ìë™ ë³µì‚¬ (CAMSì—ì„œ ë“±ë¡í•œ ê°œë°œí’ˆ ì‚¬ì§„)
  const partImages = spec.product_images ? spec.product_images.map(img => ({
    url: img.url,
    uploaded_at: img.uploaded_at,
    uploaded_by: img.uploaded_by,
    source: 'mold_specification',
    auto_synced: true
  })) : [];
  
  // 4. ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„± (ìë™ ì…ë ¥ í•­ëª©)
  const checklist = await PreProductionChecklist.create({
    mold_specification_id: moldSpecificationId,
    maker_id: spec.target_maker_id,
    
    // ì²´í¬ë¦¬ìŠ¤íŠ¸ ID
    checklist_id: checklistId,
    checklist_title: `${spec.car_model} ${spec.part_name}`,
    
    // ê¸°ë³¸ì •ë³´ - ìë™ ì…ë ¥
    car_model: spec.car_model,
    part_number: spec.part_number,
    part_name: spec.part_name,
    created_date: new Date(),
    created_by_name: user.name,
    production_plant: plant.name,
    maker_name: maker.name,
    clamping_force: spec.clamping_force,
    eo_cut_date: spec.eo_cut_date,
    trial_order_date: spec.trial_order_date,
    
    // ë¶€í’ˆ ê·¸ë¦¼ - ìë™ ë³µì‚¬
    part_images: partImages,
    
    // ìˆ˜ë™ ì…ë ¥ í•­ëª© (null)
    injection_machine_tonnage: null,
    
    // ì‘ì„±ì ì •ë³´
    created_by_maker: userId,
    
    // ì´ˆê¸° ìƒíƒœ
    status: 'ì‘ì„±ì¤‘',
    submitted: false,
    review_status: 'pending'
  });
  
  return checklist;
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ID ìƒì„± (M-2024-001-CHK)
async function generateChecklistId(moldCode) {
  const count = await PreProductionChecklist.count({
    where: {
      checklist_id: {
        [Op.like]: `${moldCode}%`
      }
    }
  });
  
  return `${moldCode}-CHK-${String(count + 1).padStart(3, '0')}`;
}
```

#### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// 1. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™ ìƒì„± (ì œì‘ì²˜)
POST /api/maker/pre-production-checklist/auto-create
{
  "mold_specification_id": 1
}

Response:
{
  "checklist_id": "M-2024-001-CHK-001",
  "checklist_title": "NO5 COVER-FOG LAMP, L/RH",
  "basic_info": {
    "car_model": "NO5 (ê¸°ë³¸ì°¨)",        // ìë™
    "part_number": "86563/4-P1010",     // ìë™
    "part_name": "COVER-FOG LAMP, L/RH", // ìë™
    "created_date": "2025.11.20",       // ìë™
    "created_by": "ì •ê¸¸ì",              // ìë™
    "production_plant": "ì§€ê¸ˆê°•",        // ìë™
    "maker_name": "ì•„ì´ì—ì´í…Œí¬",        // ìë™
    "clamping_force": "650ton",         // ìë™
    "eo_cut_date": "2020.09.08",        // ìë™
    "trial_order_date": "2020.11.20",   // ìë™
    "injection_machine_tonnage": null   // ìˆ˜ë™ ì…ë ¥ í•„ìš”
  },
  "part_images": [                      // ìë™ ë³µì‚¬
    {
      "url": "https://...",
      "source": "mold_specification",
      "auto_synced": true
    }
  ]
}

// 2. ìˆ˜ë™ ì…ë ¥ í•­ëª© ì—…ë°ì´íŠ¸ (ì œì‘ì²˜)
PATCH /api/maker/pre-production-checklist/:id/manual-input
{
  "injection_machine_tonnage": "850ton"
}

// 3. ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± (ì œì‘ì²˜)
PATCH /api/maker/pre-production-checklist/:id
{
  "drawing_review": { /* ... */ },
  "material_preparation": { /* ... */ },
  "equipment_check": { /* ... */ },
  "resource_planning": { /* ... */ },
  "quality_preparation": { /* ... */ },
  "safety_environment": { /* ... */ }
}

// 2. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ (ì œì‘ì²˜)
POST /api/maker/pre-production-checklist/:id/submit
{
  "special_notes": "ëª¨ë“  ì¤€ë¹„ ì™„ë£Œ",
  "risk_assessment": "ìœ„í—˜ ìš”ì†Œ ì—†ìŒ"
}

// 3. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ (CAMS ë‹´ë‹¹ì)
GET /api/hq/pre-production-checklist/:id

// 4. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸ (CAMS ë‹´ë‹¹ì)
POST /api/hq/pre-production-checklist/:id/approve
{
  "review_status": "approved",
  "review_comments": "ê²€í†  ì™„ë£Œ, ì œì‘ ìŠ¹ì¸",
  "production_start_date": "2024-01-22"
}

// 5. ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ë ¤ (CAMS ë‹´ë‹¹ì)
POST /api/hq/pre-production-checklist/:id/reject
{
  "review_status": "rejected",
  "review_comments": "ìì¬ ì‚¬ì–‘ ì¬í™•ì¸ í•„ìš”",
  "required_corrections": [
    "material_specification í•­ëª© ì¬ê²€í† ",
    "ì¸¡ì • ì¥ë¹„ êµì • ì„±ì ì„œ ì œì¶œ"
  ]
}
```

#### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸”
CREATE TABLE pre_production_checklists (
  id SERIAL PRIMARY KEY,
  mold_specification_id INTEGER NOT NULL REFERENCES mold_specifications(id),
  maker_id INTEGER NOT NULL REFERENCES makers(id),
  checklist_type VARCHAR(50) DEFAULT 'ì œì‘ì „',
  
  -- ì²´í¬ë¦¬ìŠ¤íŠ¸ ID ë° ì œëª©
  checklist_id VARCHAR(50) UNIQUE,    -- M-2024-001
  checklist_title VARCHAR(200),       -- ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•
  
  -- ìƒë‹¨ í—¤ë” ì •ë³´
  total_items INTEGER DEFAULT 0,      -- ì´ ì ê²€í•­ëª©
  rejected_items INTEGER DEFAULT 0,   -- ë°˜ë ¤
  progress_rate DECIMAL(5, 2) DEFAULT 0, -- ì§„í–‰ë¥ 
  status VARCHAR(20) DEFAULT 'ìŠ¹ì¸ëŒ€ê¸°', -- ìƒíƒœ
  
  -- ê¸°ë³¸ì •ë³´
  car_model VARCHAR(100),             -- ì°¨ì¢…
  part_number VARCHAR(50),            -- PART NUMBER
  part_name VARCHAR(200),             -- PART NAME
  created_date DATE,                  -- ì‘ì„±ì¼
  created_by_name VARCHAR(100),       -- ì‘ì„±ì
  production_plant VARCHAR(100),      -- ì–‘ì‚°ì²˜
  maker_name VARCHAR(100),            -- ì œì‘ì²˜
  injection_machine_tonnage VARCHAR(50), -- ì–‘ì‚° ì‚¬ì¶œê¸°
  clamping_force VARCHAR(50),         -- í˜•ì²´ë ¥
  eo_cut_date DATE,                   -- EO CUT
  trial_order_date DATE,              -- ì´ˆë„ T/O ì¼ì •
  
  -- ë¶€í’ˆ ê·¸ë¦¼
  part_images JSONB,                  -- ë¶€í’ˆ ì´ë¯¸ì§€ ë°°ì—´
  
  -- ì‘ì„±ì ì •ë³´ (ì œì‘ì²˜)
  created_by_maker INTEGER REFERENCES users(id),
  
  -- 9ê°œ ì¹´í…Œê³ ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ (JSONB)
  category_material JSONB,           -- I. ì›ì¬ë£Œ (Material)
  category_mold JSONB,               -- II. ê¸ˆí˜• (Mold)
  category_gas_vent JSONB,           -- III. ê°€ìŠ¤ ë°°ê¸° (Gas Vent)
  category_moldflow JSONB,           -- IV. ì„±í˜• í•´ì„ (Moldflow ë“±)
  category_sink_mark JSONB,          -- V. ì‹±í¬ë§ˆí¬ (Sink Mark)
  category_ejection JSONB,           -- VI. ì·¨ì¶œ (Ejection)
  category_mic JSONB,                -- VII. MIC ì œí’ˆ (MICA ìŠ¤í™ë¥  ë“±)
  category_coating JSONB,            -- VIII. ë„ê¸ˆ (Coating)
  category_rear_back_beam JSONB,     -- IX. ë¦¬ì–´ ë°±ë¹” (Rear Back Beam)
  
  -- ì¢…í•© ê²°ê³¼
  total_items INTEGER DEFAULT 0,
  ok_items INTEGER DEFAULT 0,
  ng_items INTEGER DEFAULT 0,
  na_items INTEGER DEFAULT 0,
  pass_rate DECIMAL(5, 2) DEFAULT 0,
  overall_result VARCHAR(20),        -- 'pass', 'conditional_pass', 'fail'
  
  -- íŠ¹ì´ì‚¬í•­
  special_notes TEXT,
  risk_assessment TEXT,
  
  -- ì œì¶œ ì •ë³´
  submitted BOOLEAN DEFAULT FALSE,
  submitted_at TIMESTAMP,
  
  -- ìŠ¹ì¸ ì •ë³´ (CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì)
  review_status VARCHAR(20) DEFAULT 'pending', -- 'pending', 'approved', 'rejected'
  reviewed_by INTEGER REFERENCES users(id),
  reviewed_by_name VARCHAR(100),
  reviewed_at TIMESTAMP,
  review_comments TEXT,
  required_corrections JSONB,        -- ë°˜ë ¤ ì‹œ ìˆ˜ì • ìš”êµ¬ì‚¬í•­
  
  -- ìŠ¹ì¸ í›„ ì œì‘ ì‹œì‘
  production_approved BOOLEAN DEFAULT FALSE,
  production_start_date DATE,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_pre_production_spec ON pre_production_checklists(mold_specification_id);
CREATE INDEX idx_pre_production_maker ON pre_production_checklists(maker_id);
CREATE INDEX idx_pre_production_status ON pre_production_checklists(review_status);

-- ì•Œë¦¼ í…Œì´ë¸”
CREATE TABLE notifications (
  id SERIAL PRIMARY KEY,
  notification_id VARCHAR(50) UNIQUE,     -- NOTIF-2024-001
  notification_type VARCHAR(100),         -- pre_production_checklist_reminder, submitted, approved, rejected
  
  -- ì—°ê´€ ì •ë³´
  mold_specification_id INTEGER REFERENCES mold_specifications(id),
  checklist_id VARCHAR(50),
  
  -- ë„ë©´ê²€í† íšŒ ì •ë³´
  drawing_review_date DATE,               -- ê¸ˆí˜•ê°œë°œì¼ì •ì˜ ë„ë©´ê²€í† íšŒ ë‚ ì§œ
  days_until_review INTEGER,              -- ë‚¨ì€ ì¼ìˆ˜
  
  -- ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ
  checklist_status VARCHAR(20),           -- not_started, draft, submitted, approved, rejected
  
  -- ì•Œë¦¼ ë‚´ìš©
  title VARCHAR(200),
  message TEXT,
  priority VARCHAR(20) DEFAULT 'normal',  -- normal, high, urgent
  
  -- ì•Œë¦¼ ì±„ë„
  channels JSONB,                         -- ["email", "system", "sms"]
  
  -- ìˆ˜ì‹ ì ì •ë³´
  recipients JSONB,                       -- [{user_id, user_type, user_name, sent_at}]
  
  -- ì½ìŒ ì²˜ë¦¬
  read BOOLEAN DEFAULT FALSE,
  read_at TIMESTAMP,
  
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì‚¬ìš©ìë³„ ì•Œë¦¼ ì„¤ì • í…Œì´ë¸”
CREATE TABLE user_notification_settings (
  id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES users(id),
  
  -- ì±„ë„ í™œì„±í™”
  email_enabled BOOLEAN DEFAULT TRUE,
  sms_enabled BOOLEAN DEFAULT FALSE,
  system_enabled BOOLEAN DEFAULT TRUE,
  
  -- ì•Œë¦¼ íƒ€ì…ë³„ ì„¤ì •
  notification_types JSONB,               -- {pre_production_checklist_reminder: true, ...}
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  UNIQUE(user_id)
);

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_notifications_user ON notifications USING gin(recipients);
CREATE INDEX idx_notifications_type ON notifications(notification_type);
CREATE INDEX idx_notifications_created_at ON notifications(created_at);
CREATE INDEX idx_notifications_read ON notifications(read);
CREATE INDEX idx_notifications_mold_spec ON notifications(mold_specification_id);
```

#### ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬ ë¡œì§

```javascript
// CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì ìŠ¹ì¸ ì²˜ë¦¬
async function approvePreProductionChecklist(checklistId, reviewData) {
  const checklist = await PreProductionChecklist.findByPk(checklistId);
  
  // 1. ìŠ¹ì¸ ì •ë³´ ì—…ë°ì´íŠ¸
  await checklist.update({
    review_status: 'approved',
    reviewed_by: reviewData.reviewer_id,
    reviewed_by_name: reviewData.reviewer_name,
    reviewed_at: new Date(),
    review_comments: reviewData.comments,
    production_approved: true,
    production_start_date: reviewData.production_start_date
  });
  
  // 2. ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ìƒíƒœ ì—…ë°ì´íŠ¸
  const spec = await MoldSpecification.findByPk(checklist.mold_specification_id);
  await spec.update({
    status: 'production_approved',
    production_start_date: reviewData.production_start_date
  });
  
  // 3. ì œì‘ì²˜ì— ì•Œë¦¼
  await Notification.create({
    user_id: checklist.maker_id,
    type: 'checklist_approved',
    title: 'ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸',
    message: `${spec.part_name} ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì œì‘ì„ ì‹œì‘í•˜ì„¸ìš”.`,
    related_id: checklistId,
    priority: 'high'
  });
  
  return checklist;
}

// CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì ë°˜ë ¤ ì²˜ë¦¬
async function rejectPreProductionChecklist(checklistId, reviewData) {
  const checklist = await PreProductionChecklist.findByPk(checklistId);
  
  // 1. ë°˜ë ¤ ì •ë³´ ì—…ë°ì´íŠ¸
  await checklist.update({
    review_status: 'rejected',
    reviewed_by: reviewData.reviewer_id,
    reviewed_by_name: reviewData.reviewer_name,
    reviewed_at: new Date(),
    review_comments: reviewData.comments,
    required_corrections: reviewData.required_corrections,
    production_approved: false
  });
  
  // 2. ì œì‘ì²˜ì— ì•Œë¦¼
  await Notification.create({
    user_id: checklist.maker_id,
    type: 'checklist_rejected',
    title: 'ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ë ¤',
    message: `${spec.part_name} ì œì‘ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì • í›„ ì¬ì œì¶œí•˜ì„¸ìš”.`,
    related_id: checklistId,
    priority: 'high'
  });
  
  return checklist;
}
```

---

#### ìë™ ì—°ë™ í”„ë¡œì„¸ìŠ¤

```javascript
// ë³¸ì‚¬ì—ì„œ ì œì‘ì²˜ë¡œ ì „ì†¡
async function sendToMaker(specificationId) {
  const spec = await MoldSpecification.findByPk(specificationId);
  
  // 1. ì œì‘ì²˜ ëŒ€ì‹œë³´ë“œ ë ˆì½”ë“œ ìƒì„±
  const makerSpec = await MakerSpecification.create({
    specification_id: spec.id,
    maker_id: spec.target_maker_id,
    
    // ë³¸ì‚¬ ì…ë ¥ í•­ëª© ìë™ ë³µì‚¬
    part_number: spec.part_number,
    part_name: spec.part_name,
    car_model: spec.car_model,
    mold_type: spec.mold_type,
    cavity_count: spec.cavity_count,
    material: spec.material,
    tonnage: spec.tonnage,
    development_stage: spec.development_stage,
    
    // ì œì‘ì²˜ ì…ë ¥ ëŒ€ê¸° í•­ëª© (null)
    actual_material: null,
    actual_cavity_count: null,
    core_material: null,
    cavity_material: null,
    cooling_type: null,
    
    status: 'pending',
    synced_from_hq: true,
    synced_at: new Date()
  });
  
  // 2. ë³¸ì‚¬ ì‚¬ì–‘ ìƒíƒœ ì—…ë°ì´íŠ¸
  await spec.update({ status: 'sent_to_maker' });
  
  // 3. ì œì‘ì²˜ì— ì•Œë¦¼ ë°œì†¡
  await Notification.create({
    user_id: spec.target_maker_id,
    type: 'new_specification',
    title: 'ìƒˆë¡œìš´ ê¸ˆí˜• ì œì‘ ì‚¬ì–‘',
    message: `${spec.part_name} ê¸ˆí˜• ì œì‘ ì‚¬ì–‘ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.`,
    related_id: makerSpec.id
  });
  
  return makerSpec;
}
```

---

### Step 3: ê¸ˆí˜•ì œì‘ì²˜ - ì¶”ê°€ ì…ë ¥ ë° ë“±ë¡

**ë‹´ë‹¹**: ê¸ˆí˜•ì œì‘ì²˜
**í…Œì´ë¸”**: `maker_specifications`

#### ì œì‘ì²˜ ì¶”ê°€ ì…ë ¥ í•­ëª©

```javascript
{
  // ë³¸ì‚¬ ì…ë ¥ í•­ëª© (ì½ê¸° ì „ìš©)
  part_number: "P-2024-001",        // ìˆ˜ì • ë¶ˆê°€
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",          // ìˆ˜ì • ë¶ˆê°€
  car_model: "GV80",                // ìˆ˜ì • ë¶ˆê°€
  
  // ì œì‘ì²˜ ì…ë ¥ í•­ëª© (ì¶”ê°€/ìˆ˜ì • ê°€ëŠ¥)
  actual_material: "NAK80 (ì‹¤ì œ)",
  actual_cavity_count: 2,
  core_material: "NAK80",
  cavity_material: "NAK80",
  hardness: "HRC 40-42",
  
  // êµ¬ì¡° ì •ë³´
  cooling_type: "ì›Œí„° ëƒ‰ê°",
  ejection_type: "ì—ì í„° í•€",
  hot_runner: true,
  slide_count: 2,
  lifter_count: 4,
  
  // ì„±ëŠ¥ ì •ë³´
  cycle_time: 45,                    // ì´ˆ
  max_shots: 1000000,
  
  // ì œì‘ ì§„í–‰ ìƒí™©
  production_progress: 30,           // %
  current_stage: "ì„¤ê³„ ì™„ë£Œ",
  
  // ë„ë©´ ë° ì‚¬ì§„
  drawings: ["url1", "url2"],
  production_images: ["url3", "url4"],
  
  // ì™„ë£Œ ì •ë³´
  completed: false,
  completed_date: null,
  
  updated_by: 5,                     // ì œì‘ì²˜ ID
  updated_at: "2024-03-15T14:30:00Z"
}
```

#### ì œì‘ ì™„ë£Œ ë° ê²½ë„ ì¸¡ì •

```javascript
// ì œì‘ì²˜ì—ì„œ ì œì‘ ì™„ë£Œ ë° ê²½ë„ ì¸¡ì • ì²˜ë¦¬
async function completeMakerSpecification(makerSpecId, hardnessData) {
  const makerSpec = await MakerSpecification.findByPk(makerSpecId);
  
  // 1. ê²½ë„ ì¸¡ì • ê²°ê³¼ ì…ë ¥ (í•„ìˆ˜)
  await makerSpec.update({
    hardness_upper_mold: hardnessData.hardness_upper_mold,
    hardness_lower_mold: hardnessData.hardness_lower_mold,
    hardness_test_date: hardnessData.hardness_test_date,
    hardness_test_report: hardnessData.hardness_test_report,
    
    // ìƒí•˜í˜• ì‚¬ì§„ (í•„ìˆ˜)
    upper_mold_images: hardnessData.upper_mold_images,
    lower_mold_images: hardnessData.lower_mold_images,
    
    // ì²¨ë¶€ ìë£Œ (í•„ìˆ˜)
    mold_parameter_sheet: hardnessData.mold_parameter_sheet,
    molding_analysis: hardnessData.molding_analysis,
    trial_shot_result: hardnessData.trial_shot_result
  });
  
  // 2. ì œì‘ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„± (í•„ìˆ˜)
  const checklist = await MoldChecklist.create({
    mold_specification_id: makerSpec.id,
    maker_id: makerSpec.maker_id,
    checklist_type: 'ì œì‘ì™„ë£Œ',
    checklist_date: new Date(),
    inspector_id: hardnessData.inspector_id,
    
    // ê²½ë„ ì¸¡ì • ê²°ê³¼ ìë™ í¬í•¨
    hardness_check: {
      upper_mold: {
        value: hardnessData.hardness_upper_mold,
        status: 'OK',
        notes: 'ìƒí˜• ê²½ë„ ì¸¡ì • ì™„ë£Œ'
      },
      lower_mold: {
        value: hardnessData.hardness_lower_mold,
        status: 'OK',
        notes: 'í•˜í˜• ê²½ë„ ì¸¡ì • ì™„ë£Œ'
      },
      test_date: hardnessData.hardness_test_date,
      report_url: hardnessData.hardness_test_report
    }
  });
  
  // 3. ì œì‘ì²˜ ì‚¬ì–‘ ì™„ë£Œ ì²˜ë¦¬
  await makerSpec.update({
    completed: true,
    completed_date: new Date(),
    status: 'completed',
    checklist_id: checklist.id
  });
  
  // 4. ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ìƒì„±
  const mold = await createMoldMaster(makerSpec);
  
  // 5. ë³¸ì‚¬ ì‚¬ì–‘ ìƒíƒœ ì—…ë°ì´íŠ¸
  const hqSpec = await MoldSpecification.findByPk(makerSpec.specification_id);
  await hqSpec.update({
    status: 'completed',
    mold_id: mold.id
  });
  
  // 6. ë³¸ì‚¬ì— ì•Œë¦¼
  await Notification.create({
    user_id: hqSpec.created_by,
    type: 'mold_completed',
    title: 'ê¸ˆí˜• ì œì‘ ì™„ë£Œ',
    message: `${makerSpec.part_name} ê¸ˆí˜• ì œì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê²½ë„ì¸¡ì • ì™„ë£Œ.`,
    related_id: mold.id
  });
  
  return { mold, checklist };
}
```

#### ê²½ë„ ì¸¡ì • API

```javascript
// ì œì‘ì™„ë£Œ ì „ í•„ìˆ˜ ìë£Œ ì—…ë¡œë“œ
POST /api/maker-specifications/:id/completion-documents

{
  // ê²½ë„ ì¸¡ì • ê²°ê³¼ (í•„ìˆ˜)
  "hardness_upper_mold": "HRC 40-42",
  "hardness_lower_mold": "HRC 40-42",
  "hardness_test_date": "2024-06-10",
  "hardness_test_report": "url_to_pdf",
  
  // ìƒí•˜í˜• ì‚¬ì§„ (í•„ìˆ˜)
  "upper_mold_images": [
    "url_to_upper_image1",
    "url_to_upper_image2"
  ],
  "lower_mold_images": [
    "url_to_lower_image1",
    "url_to_lower_image2"
  ],
  
  // ì²¨ë¶€ ìë£Œ (í•„ìˆ˜)
  "mold_parameter_sheet": "url_to_parameter_sheet_pdf",
  "molding_analysis": "url_to_analysis_pdf",
  "trial_shot_result": "url_to_trial_shot_pdf",
  
  "inspector_id": 5
}

// ì œì‘ ì™„ë£Œ ì²˜ë¦¬ (ëª¨ë“  í•„ìˆ˜ ìë£Œ ì—…ë¡œë“œ í›„)
POST /api/maker-specifications/:id/complete

{
  "completed_date": "2024-06-15",
  "final_notes": "ëª¨ë“  ê²€ì‚¬ ë° ìë£Œ ì œì¶œ ì™„ë£Œ"
}
```

#### ì œì‘ì™„ë£Œ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì œì‘ì²˜ëŠ” ì œì‘ ì™„ë£Œ ì „ì— ë‹¤ìŒ í•­ëª©ì„ **ë°˜ë“œì‹œ** ì œì¶œí•´ì•¼ í•©ë‹ˆë‹¤:

1. **ê²½ë„ ì¸¡ì •**
   - âœ… ìƒí˜• ê²½ë„ ì¸¡ì • ê²°ê³¼
   - âœ… í•˜í˜• ê²½ë„ ì¸¡ì • ê²°ê³¼
   - âœ… ê²½ë„ ì¸¡ì • ì„±ì ì„œ (PDF)

2. **ìƒí•˜í˜• ì‚¬ì§„**
   - âœ… ìƒí˜• ì‚¬ì§„ (ìµœì†Œ 2ì¥)
   - âœ… í•˜í˜• ì‚¬ì§„ (ìµœì†Œ 2ì¥)

3. **ê¸°ìˆ  ìë£Œ**
   - âœ… ê¸ˆí˜•ì¸ìí‘œ (PDF)
   - âœ… ì„±í˜•í•´ì„ ìë£Œ (PDF)
   - âœ… ì´ˆë„ì‚¬ì¶œ T/O ê²°ê³¼ (PDF)

ëª¨ë“  í•„ìˆ˜ í•­ëª©ì´ ì œì¶œë˜ì–´ì•¼ë§Œ ì œì‘ì™„ë£Œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
```

---

### Step 4: ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ìƒì„±

**íŠ¸ë¦¬ê±°**: ì œì‘ì²˜ì—ì„œ ì œì‘ ì™„ë£Œ ì‹œ
**í…Œì´ë¸”**: `molds` (ê¸ˆí˜• ë§ˆìŠ¤í„°)

#### ìë™ ìƒì„± ë¡œì§

```javascript
async function createMoldMaster(makerSpec) {
  const hqSpec = await MoldSpecification.findByPk(makerSpec.specification_id);
  
  // ê¸ˆí˜• ì½”ë“œ ìë™ ìƒì„±
  const moldCode = await generateMoldCode(hqSpec.car_model, hqSpec.part_number);
  
  // ê¸ˆí˜• ë§ˆìŠ¤í„° ìƒì„±
  const mold = await Mold.create({
    // ê¸°ë³¸ ì •ë³´ (ë³¸ì‚¬ ì‚¬ì–‘ì—ì„œ ë³µì‚¬)
    mold_code: moldCode,
    mold_name: `${hqSpec.car_model} ${hqSpec.part_name}`,
    part_number: hqSpec.part_number,
    part_name: hqSpec.part_name,
    car_model: hqSpec.car_model,
    car_year: hqSpec.car_year,
    
    // ë©€í‹° í’ˆë²ˆ ì •ë³´
    additional_parts: hqSpec.additional_parts,
    is_multi_part_mold: hqSpec.is_multi_part_mold,
    
    // ê¸ˆí˜• ì‚¬ì–‘ (ì œì‘ì²˜ ì‚¬ì–‘ì—ì„œ ë³µì‚¬)
    cavity: makerSpec.actual_cavity_count,
    material: makerSpec.actual_material,
    tonnage: hqSpec.tonnage,
    
    // ì œì‘ ì •ë³´
    maker_id: makerSpec.maker_id,
    manufacturing_date: makerSpec.completed_date,
    
    // ì„±ëŠ¥ ì •ë³´
    target_shots: makerSpec.max_shots,
    cycle_time: makerSpec.cycle_time,
    
    // ë‹¨ê³„ ì •ë³´
    development_stage: hqSpec.development_stage,
    production_stage: hqSpec.production_stage,
    
    // ì´ˆê¸° ìƒíƒœ
    status: 'ready',                  // ìƒì‚° ì¤€ë¹„ ì™„ë£Œ
    current_location: 'maker',
    plant_id: null,                   // ì•„ì§ ë°°ì • ì•ˆë¨
    
    // ì—°ë™ ì •ë³´
    specification_id: hqSpec.id,
    maker_specification_id: makerSpec.id,
    
    // ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™
    external_system_id: hqSpec.external_system_id,
    external_sync_enabled: hqSpec.external_sync_enabled,
    
    created_at: new Date(),
    updated_at: new Date()
  });
  
  // maker_info í…Œì´ë¸”ì— ìƒì„¸ ì‚¬ì–‘ ì €ì¥
  await MakerInfo.create({
    mold_id: mold.id,
    material: makerSpec.actual_material,
    core_material: makerSpec.core_material,
    cavity_material: makerSpec.cavity_material,
    hardness: makerSpec.hardness,
    cooling_type: makerSpec.cooling_type,
    ejection_type: makerSpec.ejection_type,
    hot_runner: makerSpec.hot_runner,
    slide_count: makerSpec.slide_count,
    lifter_count: makerSpec.lifter_count,
    cycle_time: makerSpec.cycle_time,
    max_shots: makerSpec.max_shots,
    specifications: makerSpec.specifications,
    summary: `${hqSpec.car_model} ${hqSpec.part_name} ê¸ˆí˜•`
  });
  
  return mold;
}
```

---

## ğŸ“ ê¸ˆí˜• ë§ˆìŠ¤í„° ì…ë ¥ í•­ëª© ë° ë‹´ë‹¹ì

### ì…ë ¥ í•­ëª© ë¶„ë¥˜

ê¸ˆí˜• ë§ˆìŠ¤í„°ì˜ ë°ì´í„°ëŠ” **ì…ë ¥ ë‹´ë‹¹ì**ì— ë”°ë¼ ìë™ ì…ë ¥ê³¼ ìˆ˜ë™ ì…ë ¥ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.

```
[ê¸ˆí˜• ë§ˆìŠ¤í„° ë°ì´í„°]
  â”œâ”€ ìë™ ì…ë ¥ (ë³¸ì‚¬ ì‚¬ì–‘ â†’ ì œì‘ì²˜ ì‚¬ì–‘ â†’ ê¸ˆí˜• ë§ˆìŠ¤í„°)
  â”œâ”€ ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹ ì…ë ¥
  â”œâ”€ ê¸ˆí˜•ì œì‘ì²˜ ì…ë ¥
  â””â”€ ìƒì‚°ì²˜ ì…ë ¥
```

---

### 1. ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹ ì…ë ¥ í•­ëª©

**ë‹´ë‹¹**: ë³¸ì‚¬ ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹ì  
**ì…ë ¥ ì‹œì **: ê¸ˆí˜•ì œì‘ì‚¬ì–‘ 1ì°¨ ì…ë ¥ ì‹œ (`mold_specifications` í…Œì´ë¸”)  
**í…Œì´ë¸”**: `mold_specifications`

#### ì…ë ¥ í•­ëª©

```javascript
{
  // === ì°¨ëŸ‰ ë° ë¶€í’ˆ ì •ë³´ ===
  car_model: "GV80",                    // ëŒ€ìƒ ì°¨ì¢… (í•„ìˆ˜)
  car_year: "2024",                     // ë…„ì‹ (í•„ìˆ˜)
  part_number: "P-2024-001",            // ì£¼ í’ˆë²ˆ (í•„ìˆ˜)
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",              // ì£¼ í’ˆëª… (í•„ìˆ˜)
  
  // === ë™ì‹œ ì œì‘ í’ˆë²ˆ (í•œ ê¸ˆí˜•ì—ì„œ ì—¬ëŸ¬ í’ˆë²ˆ ì œì‘) ===
  additional_parts: [                   // ì¶”ê°€ í’ˆë²ˆ ë°°ì—´ (ì„ íƒ)
    {
      part_number: "P-2024-002",
      part_name: "í”„ë¡ íŠ¸ ë²”í¼ ì¢Œì¸¡",
      cavity_position: "1-2"            // ìºë¹„í‹° ìœ„ì¹˜
    },
    {
      part_number: "P-2024-003",
      part_name: "í”„ë¡ íŠ¸ ë²”í¼ ìš°ì¸¡",
      cavity_position: "3-4"            // ìºë¹„í‹° ìœ„ì¹˜
    }
  ],
  is_multi_part_mold: true,             // ë©€í‹° í’ˆë²ˆ ê¸ˆí˜• ì—¬ë¶€
  
  // === ê¸ˆí˜• êµ¬ë¶„ ===
  development_stage: "ì‹œì‘",             // êµ¬ë¶„: 'ì‹œì‘' ë˜ëŠ” 'ì–‘ì‚°' (í•„ìˆ˜)
  production_stage: "ì–‘ì‚°",              // ìƒì‚° ë‹¨ê³„ (í•„ìˆ˜)
  
  // === ì œì‘ ì •ë³´ ===
  target_maker_id: 5,                   // ê¸ˆí˜•ì œì‘ì²˜ (í•„ìˆ˜)
  target_plant_id: 3,                   // ì–‘ì‚°ì²˜ (í•„ìˆ˜)
  mold_type: "ì‚¬ì¶œê¸ˆí˜•",                 // ê¸ˆí˜• íƒ€ì…
  cavity_count: 2,                      // ìºë¹„í‹° ìˆ˜ëŸ‰ (í•„ìˆ˜)
  gate_count: 4,                        // ê²Œì´íŠ¸ ìˆ˜ëŸ‰
  material_upper: "NAK80",              // ê¸ˆí˜•ì¬ì§ˆ - ìƒí˜• (í•„ìˆ˜)
  material_lower: "NAK80",              // ê¸ˆí˜•ì¬ì§ˆ - í•˜í˜• (í•„ìˆ˜)
  tonnage: 850,                         // í†¤ìˆ˜
  
  // === ì„±í˜• ì¡°ê±´ ===
  hot_runner_usage: true,               // í•«ëŸ°ë„ˆ ì‚¬ìš©ìœ ë¬´ (í•„ìˆ˜)
  mold_shrinkage_rate: 0.5,             // ê¸ˆí˜•ìˆ˜ì¶•ìœ¨ (%) (í•„ìˆ˜)
  
  // === íˆ¬ìë¹„ ë° ì˜ˆì‚° ===
  estimated_cost: 50000000,             // íˆ¬ìë¹„ (ì˜ˆìƒ ë¹„ìš©) (í•„ìˆ˜)
  actual_cost: null,                    // ì‹¤ì œ ë¹„ìš© (ì œì‘ ì™„ë£Œ í›„ ì…ë ¥)
  
  // === ì œì‘ ì¼ì • ===
  order_date: "2024-01-15",             // ë°œì£¼ì¼
  target_delivery_date: "2024-06-15",   // ëª©í‘œ ë‚©ê¸°ì¼
  actual_delivery_date: null,           // ì‹¤ì œ ë‚©ê¸°ì¼ (ì œì‘ ì™„ë£Œ í›„ ìë™)
  
  // === ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ===
  external_system_id: "ERP-2024-001",   // ì™¸ë¶€ ì‹œìŠ¤í…œ ID (ì„ íƒ)
  external_sync_enabled: true,          // ì™¸ë¶€ ì—°ë™ í™œì„±í™”
  
  // === ê°œë°œí’ˆ ì‚¬ì§„ ===
  development_product_images: [         // ê°œë°œí’ˆ ì‚¬ì§„ (ì„ íƒ)
    "url_to_product_image1",
    "url_to_product_image2",
    "url_to_product_image3"
  ],
  // ì§€ì› ë°©ì‹: íŒŒì¼ ì„ íƒ, ë“œë˜ê·¸ ì•¤ ë“œë¡­, í´ë¦½ë³´ë“œ ë¶™ì—¬ë„£ê¸° (Ctrl+V)
  
  // === ë¹„ê³  ===
  notes: "ê¸´ê¸‰ í”„ë¡œì íŠ¸",                // íŠ¹ì´ì‚¬í•­
  priority: "high",                     // ìš°ì„ ìˆœìœ„: 'low', 'medium', 'high'
  
  // === ìë™ ì…ë ¥ ===
  status: "draft",                      // ìƒíƒœ (ì‹œìŠ¤í…œ ìë™)
  created_by: 1,                        // ì‘ì„±ì (ì‹œìŠ¤í…œ ìë™)
  created_at: "2024-01-15T10:00:00Z"    // ì‘ì„±ì¼ (ì‹œìŠ¤í…œ ìë™)
}
```

#### í•„ìˆ˜ ì…ë ¥ í•­ëª© ìš”ì•½

| í•­ëª© | í•„ë“œëª… | ì„¤ëª… |
|------|--------|------|
| ëŒ€ìƒ ì°¨ì¢… | `car_model` | ê¸ˆí˜•ì´ ì‚¬ìš©ë  ì°¨ëŸ‰ ëª¨ë¸ |
| ë…„ì‹ | `car_year` | ì°¨ëŸ‰ ë…„ì‹ |
| í’ˆë²ˆ | `part_number` | ì£¼ ë¶€í’ˆ ë²ˆí˜¸ |
| í’ˆëª… | `part_name` | ì£¼ ë¶€í’ˆ ëª…ì¹­ |
| ë™ì‹œ ì œì‘ í’ˆë²ˆ | `additional_parts` | í•œ ê¸ˆí˜•ì—ì„œ ë™ì‹œ ì œì‘ë˜ëŠ” ì¶”ê°€ í’ˆë²ˆ ë°°ì—´ (ì„ íƒ) |
| êµ¬ë¶„ | `development_stage` | 'ì‹œì‘' ë˜ëŠ” 'ì–‘ì‚°' |
| ê¸ˆí˜•ì œì‘ì²˜ | `target_maker_id` | ì œì‘ì„ ë‹´ë‹¹í•  í˜‘ë ¥ì‚¬ |
| ì–‘ì‚°ì²˜ | `target_plant_id` | ì–‘ì‚°ì„ ë‹´ë‹¹í•  ìƒì‚°ì²˜ |
| ìºë¹„í‹° ìˆ˜ëŸ‰ | `cavity_count` | ìºë¹„í‹° ê°œìˆ˜ |
| ê¸ˆí˜•ì¬ì§ˆ(ìƒí˜•) | `material_upper` | ìƒí˜• ì¬ì§ˆ |
| ê¸ˆí˜•ì¬ì§ˆ(í•˜í˜•) | `material_lower` | í•˜í˜• ì¬ì§ˆ |
| í•«ëŸ°ë„ˆ ì‚¬ìš©ìœ ë¬´ | `hot_runner_usage` | í•«ëŸ°ë„ˆ ì‹œìŠ¤í…œ ì‚¬ìš© ì—¬ë¶€ |
| ê¸ˆí˜•ìˆ˜ì¶•ìœ¨ | `mold_shrinkage_rate` | ê¸ˆí˜• ìˆ˜ì¶•ìœ¨ (%) |
| ê°œë°œí’ˆ ì‚¬ì§„ | `development_product_images` | ê°œë°œ ëŒ€ìƒ ì œí’ˆ ì‚¬ì§„ (ì„ íƒ) |
| íˆ¬ìë¹„ | `estimated_cost` | ì˜ˆìƒ ì œì‘ ë¹„ìš© |

#### ì—‘ì…€ ì¼ê´„ ë“±ë¡

ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹ìëŠ” ì—¬ëŸ¬ ê±´ì˜ ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì„ ì—‘ì…€ íŒŒì¼ë¡œ í•œ ë²ˆì— ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### ìƒ˜í”Œ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ

```javascript
// ì—‘ì…€ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
GET /api/hq/mold-specifications/excel-template

Response: Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- íŒŒì¼ëª…: ê¸ˆí˜•ì œì‘ì‚¬ì–‘_ë“±ë¡í…œí”Œë¦¿_v1.0.xlsx
- í¬í•¨ ì‹œíŠ¸: 
  1. ê¸°ë³¸ì •ë³´ (í•„ìˆ˜ í•­ëª©)
  2. ì‘ì„±ê°€ì´ë“œ (ì…ë ¥ ë°©ë²• ì„¤ëª…)
  3. ì½”ë“œí‘œ (ì°¨ì¢…, ì œì‘ì²˜ ë“± ì½”ë“œ ì°¸ì¡°)
```

##### ì—‘ì…€ í…œí”Œë¦¿ êµ¬ì¡°

| ì—´ | í•„ë“œëª… | í•„ìˆ˜ | ì˜ˆì‹œ | ì„¤ëª… |
|----|--------|------|------|------|
| A | ì°¨ì¢… | âœ… | GV80 | ëŒ€ìƒ ì°¨ì¢… |
| B | ë…„ì‹ | âœ… | 2024 | ì°¨ëŸ‰ ë…„ì‹ |
| C | í’ˆë²ˆ | âœ… | P-2024-001 | ì£¼ í’ˆë²ˆ |
| D | í’ˆëª… | âœ… | í”„ë¡ íŠ¸ ë²”í¼ | ì£¼ í’ˆëª… |
| E | ì¶”ê°€í’ˆë²ˆ1 |  | P-2024-002 | ë™ì‹œì œì‘ í’ˆë²ˆ 1 |
| F | ì¶”ê°€í’ˆëª…1 |  | ë²”í¼ ì¢Œì¸¡ | ë™ì‹œì œì‘ í’ˆëª… 1 |
| G | ìºë¹„í‹°ìœ„ì¹˜1 |  | 1-2 | í’ˆë²ˆ1 ìºë¹„í‹° ìœ„ì¹˜ |
| H | ì¶”ê°€í’ˆë²ˆ2 |  | P-2024-003 | ë™ì‹œì œì‘ í’ˆë²ˆ 2 |
| I | ì¶”ê°€í’ˆëª…2 |  | ë²”í¼ ìš°ì¸¡ | ë™ì‹œì œì‘ í’ˆëª… 2 |
| J | ìºë¹„í‹°ìœ„ì¹˜2 |  | 3-4 | í’ˆë²ˆ2 ìºë¹„í‹° ìœ„ì¹˜ |
| K | êµ¬ë¶„ | âœ… | ì‹œì‘ | ì‹œì‘/ì–‘ì‚° |
| L | ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œ | âœ… | MK001 | ì œì‘ì²˜ ì½”ë“œ |
| M | ì–‘ì‚°ì²˜ì½”ë“œ | âœ… | PL001 | ìƒì‚°ì²˜ ì½”ë“œ |
| N | ìºë¹„í‹°ìˆ˜ëŸ‰ | âœ… | 4 | ìºë¹„í‹° ê°œìˆ˜ |
| O | ê²Œì´íŠ¸ìˆ˜ëŸ‰ |  | 4 | ê²Œì´íŠ¸ ê°œìˆ˜ |
| P | ê¸ˆí˜•ì¬ì§ˆ_ìƒí˜• | âœ… | NAK80 | ìƒí˜• ì¬ì§ˆ |
| Q | ê¸ˆí˜•ì¬ì§ˆ_í•˜í˜• | âœ… | NAK80 | í•˜í˜• ì¬ì§ˆ |
| R | í•«ëŸ°ë„ˆì‚¬ìš© | âœ… | Y | Y/N |
| S | ê¸ˆí˜•ìˆ˜ì¶•ìœ¨ | âœ… | 0.5 | ìˆ˜ì¶•ìœ¨ (%) |
| T | í†¤ìˆ˜ |  | 850 | ì‚¬ì¶œê¸° í†¤ìˆ˜ |
| U | íˆ¬ìë¹„ | âœ… | 50000000 | ì˜ˆìƒ ë¹„ìš© |
| V | ë°œì£¼ì¼ |  | 2024-01-15 | YYYY-MM-DD |
| W | ëª©í‘œë‚©ê¸°ì¼ |  | 2024-06-15 | YYYY-MM-DD |
| X | ìš°ì„ ìˆœìœ„ |  | high | low/medium/high |
| Y | ë¹„ê³  |  | ê¸´ê¸‰ í”„ë¡œì íŠ¸ | íŠ¹ì´ì‚¬í•­ |

##### ì—‘ì…€ ì¼ê´„ ì—…ë¡œë“œ

```javascript
// ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ (ì¼ê´„ ë“±ë¡)
POST /api/hq/mold-specifications/bulk-upload
Content-Type: multipart/form-data

FormData:
  file: Excel íŒŒì¼ (xlsx)
  created_by: ì‚¬ìš©ì ID

Response:
{
  "success": true,
  "total_rows": 10,
  "success_count": 9,
  "fail_count": 1,
  "results": [
    {
      "row": 2,
      "status": "success",
      "specification_id": 101,
      "part_number": "P-2024-001"
    },
    {
      "row": 5,
      "status": "fail",
      "error": "ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
      "part_number": "P-2024-004"
    }
  ],
  "error_file_url": "url_to_error_report.xlsx" // ì‹¤íŒ¨ í•­ëª© í¬í•¨ ì—‘ì…€
}
```

##### ì—‘ì…€ ì—…ë¡œë“œ ì²˜ë¦¬ ë¡œì§

```javascript
async function bulkUploadMoldSpecifications(file, userId) {
  const workbook = await readExcelFile(file);
  const sheet = workbook.Sheets['ê¸°ë³¸ì •ë³´'];
  const data = XLSX.utils.sheet_to_json(sheet);
  
  const results = [];
  let successCount = 0;
  let failCount = 0;
  
  for (let i = 0; i < data.length; i++) {
    const row = data[i];
    const rowNumber = i + 2; // í—¤ë” ì œì™¸
    
    try {
      // 1. ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬
      validateRowData(row);
      
      // 2. ì¶”ê°€ í’ˆë²ˆ ë°°ì—´ êµ¬ì„±
      const additionalParts = [];
      if (row['ì¶”ê°€í’ˆë²ˆ1']) {
        additionalParts.push({
          part_number: row['ì¶”ê°€í’ˆë²ˆ1'],
          part_name: row['ì¶”ê°€í’ˆëª…1'],
          cavity_position: row['ìºë¹„í‹°ìœ„ì¹˜1']
        });
      }
      if (row['ì¶”ê°€í’ˆë²ˆ2']) {
        additionalParts.push({
          part_number: row['ì¶”ê°€í’ˆë²ˆ2'],
          part_name: row['ì¶”ê°€í’ˆëª…2'],
          cavity_position: row['ìºë¹„í‹°ìœ„ì¹˜2']
        });
      }
      
      // 3. ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ìƒì„±
      const spec = await MoldSpecification.create({
        car_model: row['ì°¨ì¢…'],
        car_year: row['ë…„ì‹'],
        part_number: row['í’ˆë²ˆ'],
        part_name: row['í’ˆëª…'],
        additional_parts: additionalParts,
        is_multi_part_mold: additionalParts.length > 0,
        development_stage: row['êµ¬ë¶„'],
        target_maker_id: await getMakerIdByCode(row['ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œ']),
        target_plant_id: await getPlantIdByCode(row['ì–‘ì‚°ì²˜ì½”ë“œ']),
        cavity_count: row['ìºë¹„í‹°ìˆ˜ëŸ‰'],
        gate_count: row['ê²Œì´íŠ¸ìˆ˜ëŸ‰'],
        material_upper: row['ê¸ˆí˜•ì¬ì§ˆ_ìƒí˜•'],
        material_lower: row['ê¸ˆí˜•ì¬ì§ˆ_í•˜í˜•'],
        hot_runner_usage: row['í•«ëŸ°ë„ˆì‚¬ìš©'] === 'Y',
        mold_shrinkage_rate: row['ê¸ˆí˜•ìˆ˜ì¶•ìœ¨'],
        tonnage: row['í†¤ìˆ˜'],
        estimated_cost: row['íˆ¬ìë¹„'],
        order_date: row['ë°œì£¼ì¼'],
        target_delivery_date: row['ëª©í‘œë‚©ê¸°ì¼'],
        priority: row['ìš°ì„ ìˆœìœ„'] || 'medium',
        notes: row['ë¹„ê³ '],
        created_by: userId,
        status: 'draft'
      });
      
      results.push({
        row: rowNumber,
        status: 'success',
        specification_id: spec.id,
        part_number: spec.part_number
      });
      successCount++;
      
    } catch (error) {
      results.push({
        row: rowNumber,
        status: 'fail',
        error: error.message,
        part_number: row['í’ˆë²ˆ']
      });
      failCount++;
    }
  }
  
  // 4. ì‹¤íŒ¨ í•­ëª©ì´ ìˆìœ¼ë©´ ì—ëŸ¬ ë¦¬í¬íŠ¸ ìƒì„±
  let errorFileUrl = null;
  if (failCount > 0) {
    errorFileUrl = await generateErrorReport(results, data);
  }
  
  return {
    success: true,
    total_rows: data.length,
    success_count: successCount,
    fail_count: failCount,
    results,
    error_file_url: errorFileUrl
  };
}

// ìœ íš¨ì„± ê²€ì‚¬
function validateRowData(row) {
  const required = ['ì°¨ì¢…', 'ë…„ì‹', 'í’ˆë²ˆ', 'í’ˆëª…', 'êµ¬ë¶„', 
                    'ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œ', 'ì–‘ì‚°ì²˜ì½”ë“œ', 'ìºë¹„í‹°ìˆ˜ëŸ‰',
                    'ê¸ˆí˜•ì¬ì§ˆ_ìƒí˜•', 'ê¸ˆí˜•ì¬ì§ˆ_í•˜í˜•', 'í•«ëŸ°ë„ˆì‚¬ìš©', 
                    'ê¸ˆí˜•ìˆ˜ì¶•ìœ¨', 'íˆ¬ìë¹„'];
  
  for (const field of required) {
    if (!row[field]) {
      throw new Error(`í•„ìˆ˜ í•­ëª© ëˆ„ë½: ${field}`);
    }
  }
  
  // ì¶”ê°€ ìœ íš¨ì„± ê²€ì‚¬
  if (!['ì‹œì‘', 'ì–‘ì‚°'].includes(row['êµ¬ë¶„'])) {
    throw new Error('êµ¬ë¶„ì€ "ì‹œì‘" ë˜ëŠ” "ì–‘ì‚°"ì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
  }
  
  if (!['Y', 'N'].includes(row['í•«ëŸ°ë„ˆì‚¬ìš©'])) {
    throw new Error('í•«ëŸ°ë„ˆì‚¬ìš©ì€ "Y" ë˜ëŠ” "N"ì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
  }
}
```

#### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// 1. ë‹¨ê±´ ë“±ë¡ (ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹)
POST /api/hq/mold-specifications

{
  "car_model": "GV80",
  "car_year": "2024",
  "part_number": "P-2024-001",
  "part_name": "í”„ë¡ íŠ¸ ë²”í¼",
  "additional_parts": [
    {
      "part_number": "P-2024-002",
      "part_name": "í”„ë¡ íŠ¸ ë²”í¼ ì¢Œì¸¡",
      "cavity_position": "1-2"
    },
    {
      "part_number": "P-2024-003",
      "part_name": "í”„ë¡ íŠ¸ ë²”í¼ ìš°ì¸¡",
      "cavity_position": "3-4"
    }
  ],
  "is_multi_part_mold": true,
  "development_stage": "ì‹œì‘",
  "target_maker_id": 5,
  "target_plant_id": 3,
  "estimated_cost": 50000000,
  "order_date": "2024-01-15",
  "target_delivery_date": "2024-06-15",
  "mold_type": "ì‚¬ì¶œê¸ˆí˜•",
  "cavity_count": 2,
  "gate_count": 4,
  "material_upper": "NAK80",
  "material_lower": "NAK80",
  "tonnage": 850,
  "hot_runner_usage": true,
  "mold_shrinkage_rate": 0.5,
  "development_product_images": [
    "url_to_product_image1",
    "url_to_product_image2"
  ],
  "priority": "high",
  "notes": "ê¸´ê¸‰ í”„ë¡œì íŠ¸"
}

// 2. ì—‘ì…€ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
GET /api/hq/mold-specifications/excel-template

Response: 
- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
- Content-Disposition: attachment; filename="ê¸ˆí˜•ì œì‘ì‚¬ì–‘_ë“±ë¡í…œí”Œë¦¿_v1.0.xlsx"

// 3. ì—‘ì…€ ì¼ê´„ ì—…ë¡œë“œ
POST /api/hq/mold-specifications/bulk-upload
Content-Type: multipart/form-data

FormData:
  file: Excel íŒŒì¼
  created_by: ì‚¬ìš©ì ID
```

#### UI í™”ë©´ êµ¬ì„±

##### ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ë“±ë¡ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ë“±ë¡                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  [ë‹¨ê±´ ë“±ë¡]  [ì—‘ì…€ ì¼ê´„ ë“±ë¡]  â† íƒ­ ì „í™˜                â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“¥ ì—‘ì…€ ì¼ê´„ ë“±ë¡                                 â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  1. ì—‘ì…€ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ                            â”‚   â”‚
â”‚  â”‚     [ğŸ“„ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ] ë²„íŠ¼                       â”‚   â”‚
â”‚  â”‚     - ê¸ˆí˜•ì œì‘ì‚¬ì–‘_ë“±ë¡í…œí”Œë¦¿_v1.0.xlsx             â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  2. ì—‘ì…€ íŒŒì¼ ì‘ì„±                                  â”‚   â”‚
â”‚  â”‚     - í…œí”Œë¦¿ì— ë”°ë¼ ë°ì´í„° ì…ë ¥                     â”‚   â”‚
â”‚  â”‚     - í•„ìˆ˜ í•­ëª© í™•ì¸                                â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  3. ì‘ì„±í•œ ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ                         â”‚   â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚     â”‚  íŒŒì¼ ì„ íƒ ë˜ëŠ” ë“œë˜ê·¸ ì•¤ ë“œë¡­          â”‚       â”‚   â”‚
â”‚  â”‚     â”‚                                       â”‚       â”‚   â”‚
â”‚  â”‚     â”‚  ğŸ“ íŒŒì¼ì„ ì—¬ê¸°ì— ë“œë¡­í•˜ì„¸ìš”           â”‚       â”‚   â”‚
â”‚  â”‚     â”‚     ë˜ëŠ” í´ë¦­í•˜ì—¬ íŒŒì¼ ì„ íƒ            â”‚       â”‚   â”‚
â”‚  â”‚     â”‚                                       â”‚       â”‚   â”‚
â”‚  â”‚     â”‚  ì§€ì› í˜•ì‹: .xlsx                     â”‚       â”‚   â”‚
â”‚  â”‚     â”‚  ìµœëŒ€ í¬ê¸°: 10MB                      â”‚       â”‚   â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  ì„ íƒëœ íŒŒì¼: ê¸ˆí˜•ì œì‘ì‚¬ì–‘_2024.xlsx (2.3 MB)       â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  [âŒ ì·¨ì†Œ]  [ğŸ“¤ ì—…ë¡œë“œ ë° ë“±ë¡]                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  ğŸ’¡ ì•ˆë‚´ì‚¬í•­:                                             â”‚
â”‚  â€¢ í…œí”Œë¦¿ì˜ í˜•ì‹ì„ ë³€ê²½í•˜ì§€ ë§ˆì„¸ìš”                        â”‚
â”‚  â€¢ í•„ìˆ˜ í•­ëª©ì€ ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤                     â”‚
â”‚  â€¢ ì½”ë“œí‘œ ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ì •í™•í•œ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”        â”‚
â”‚  â€¢ ìµœëŒ€ 1,000ê±´ê¹Œì§€ í•œ ë²ˆì— ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤              â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### ì—…ë¡œë“œ ê²°ê³¼ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—‘ì…€ ì—…ë¡œë“œ ê²°ê³¼                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  âœ… ì—…ë¡œë“œ ì™„ë£Œ                                           â”‚
â”‚                                                           â”‚
â”‚  ì´ 10ê±´ ì¤‘ 9ê±´ ì„±ê³µ, 1ê±´ ì‹¤íŒ¨                            â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì„±ê³µ (9ê±´)                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  í–‰ 2: P-2024-001 - í”„ë¡ íŠ¸ ë²”í¼ âœ“                â”‚   â”‚
â”‚  â”‚  í–‰ 3: P-2024-002 - ë¦¬ì–´ ë²”í¼ âœ“                  â”‚   â”‚
â”‚  â”‚  í–‰ 4: P-2024-003 - ì‚¬ì´ë“œ ë¯¸ëŸ¬ âœ“                â”‚   â”‚
â”‚  â”‚  ... (6ê±´ ë”ë³´ê¸°)                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì‹¤íŒ¨ (1ê±´)                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  âŒ í–‰ 5: P-2024-004 - ë„ì–´ íŠ¸ë¦¼                 â”‚   â”‚
â”‚  â”‚     ì˜¤ë¥˜: ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  [ğŸ“¥ ì—ëŸ¬ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ]  [âœ“ í™•ì¸]                     â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì—‘ì…€ í…œí”Œë¦¿ ìƒì„± ë¡œì§

```javascript
async function generateExcelTemplate() {
  const workbook = new ExcelJS.Workbook();
  
  // 1. ê¸°ë³¸ì •ë³´ ì‹œíŠ¸
  const sheet1 = workbook.addWorksheet('ê¸°ë³¸ì •ë³´');
  
  // í—¤ë” ì„¤ì •
  sheet1.columns = [
    { header: 'ì°¨ì¢…*', key: 'car_model', width: 15 },
    { header: 'ë…„ì‹*', key: 'car_year', width: 10 },
    { header: 'í’ˆë²ˆ*', key: 'part_number', width: 15 },
    { header: 'í’ˆëª…*', key: 'part_name', width: 20 },
    { header: 'ì¶”ê°€í’ˆë²ˆ1', key: 'add_part_num1', width: 15 },
    { header: 'ì¶”ê°€í’ˆëª…1', key: 'add_part_name1', width: 20 },
    { header: 'ìºë¹„í‹°ìœ„ì¹˜1', key: 'cavity_pos1', width: 12 },
    { header: 'ì¶”ê°€í’ˆë²ˆ2', key: 'add_part_num2', width: 15 },
    { header: 'ì¶”ê°€í’ˆëª…2', key: 'add_part_name2', width: 20 },
    { header: 'ìºë¹„í‹°ìœ„ì¹˜2', key: 'cavity_pos2', width: 12 },
    { header: 'êµ¬ë¶„*', key: 'dev_stage', width: 10 },
    { header: 'ê¸ˆí˜•ì œì‘ì²˜ì½”ë“œ*', key: 'maker_code', width: 15 },
    { header: 'ì–‘ì‚°ì²˜ì½”ë“œ*', key: 'plant_code', width: 15 },
    { header: 'ìºë¹„í‹°ìˆ˜ëŸ‰*', key: 'cavity_count', width: 12 },
    { header: 'ê²Œì´íŠ¸ìˆ˜ëŸ‰', key: 'gate_count', width: 12 },
    { header: 'ê¸ˆí˜•ì¬ì§ˆ_ìƒí˜•*', key: 'material_upper', width: 15 },
    { header: 'ê¸ˆí˜•ì¬ì§ˆ_í•˜í˜•*', key: 'material_lower', width: 15 },
    { header: 'í•«ëŸ°ë„ˆì‚¬ìš©*', key: 'hot_runner', width: 12 },
    { header: 'ê¸ˆí˜•ìˆ˜ì¶•ìœ¨*', key: 'shrinkage', width: 12 },
    { header: 'í†¤ìˆ˜', key: 'tonnage', width: 10 },
    { header: 'íˆ¬ìë¹„*', key: 'cost', width: 15 },
    { header: 'ë°œì£¼ì¼', key: 'order_date', width: 12 },
    { header: 'ëª©í‘œë‚©ê¸°ì¼', key: 'delivery_date', width: 12 },
    { header: 'ìš°ì„ ìˆœìœ„', key: 'priority', width: 10 },
    { header: 'ë¹„ê³ ', key: 'notes', width: 30 }
  ];
  
  // í—¤ë” ìŠ¤íƒ€ì¼
  sheet1.getRow(1).font = { bold: true, color: { argb: 'FFFFFFFF' } };
  sheet1.getRow(1).fill = {
    type: 'pattern',
    pattern: 'solid',
    fgColor: { argb: 'FF4472C4' }
  };
  
  // ìƒ˜í”Œ ë°ì´í„° 1í–‰
  sheet1.addRow({
    car_model: 'GV80',
    car_year: '2024',
    part_number: 'P-2024-001',
    part_name: 'í”„ë¡ íŠ¸ ë²”í¼',
    add_part_num1: '',
    add_part_name1: '',
    cavity_pos1: '',
    add_part_num2: '',
    add_part_name2: '',
    cavity_pos2: '',
    dev_stage: 'ì‹œì‘',
    maker_code: 'MK001',
    plant_code: 'PL001',
    cavity_count: 2,
    gate_count: 2,
    material_upper: 'NAK80',
    material_lower: 'NAK80',
    hot_runner: 'Y',
    shrinkage: 0.5,
    tonnage: 850,
    cost: 50000000,
    order_date: '2024-01-15',
    delivery_date: '2024-06-15',
    priority: 'high',
    notes: 'ìƒ˜í”Œ ë°ì´í„°'
  });
  
  // 2. ì‘ì„±ê°€ì´ë“œ ì‹œíŠ¸
  const sheet2 = workbook.addWorksheet('ì‘ì„±ê°€ì´ë“œ');
  sheet2.addRow(['ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ì—‘ì…€ ë“±ë¡ ê°€ì´ë“œ']);
  sheet2.addRow([]);
  sheet2.addRow(['1. í•„ìˆ˜ í•­ëª© (*)ì€ ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.']);
  sheet2.addRow(['2. êµ¬ë¶„: "ì‹œì‘" ë˜ëŠ” "ì–‘ì‚°"ë§Œ ì…ë ¥ ê°€ëŠ¥']);
  sheet2.addRow(['3. í•«ëŸ°ë„ˆì‚¬ìš©: "Y" ë˜ëŠ” "N"ë§Œ ì…ë ¥ ê°€ëŠ¥']);
  sheet2.addRow(['4. ë‚ ì§œ í˜•ì‹: YYYY-MM-DD (ì˜ˆ: 2024-01-15)']);
  sheet2.addRow(['5. ì½”ë“œí‘œ ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ì •í™•í•œ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.']);
  
  // 3. ì½”ë“œí‘œ ì‹œíŠ¸
  const sheet3 = workbook.addWorksheet('ì½”ë“œí‘œ');
  sheet3.addRow(['ê¸ˆí˜•ì œì‘ì²˜ ì½”ë“œ']);
  sheet3.addRow(['ì½”ë“œ', 'ì œì‘ì²˜ëª…']);
  sheet3.addRow(['MK001', 'ëŒ€í•œê¸ˆí˜•']);
  sheet3.addRow(['MK002', 'ì„œìš¸ê¸ˆí˜•']);
  sheet3.addRow([]);
  sheet3.addRow(['ì–‘ì‚°ì²˜ ì½”ë“œ']);
  sheet3.addRow(['ì½”ë“œ', 'ì–‘ì‚°ì²˜ëª…']);
  sheet3.addRow(['PL001', 'ì•„ì‚°ê³µì¥']);
  sheet3.addRow(['PL002', 'í™”ì„±ê³µì¥']);
  
  return workbook;
}
```
}
```

#### ë©€í‹° í’ˆë²ˆ ê¸ˆí˜• ì‚¬ìš© ì˜ˆì‹œ

**ì‚¬ë¡€ 1: ì¢Œìš° ëŒ€ì¹­ ë¶€í’ˆ**
```javascript
{
  part_number: "P-2024-001",
  part_name: "ì‚¬ì´ë“œ ë¯¸ëŸ¬ ì»¤ë²„",
  additional_parts: [
    {
      part_number: "P-2024-001L",
      part_name: "ì‚¬ì´ë“œ ë¯¸ëŸ¬ ì»¤ë²„ (ì¢Œ)",
      cavity_position: "1"
    },
    {
      part_number: "P-2024-001R",
      part_name: "ì‚¬ì´ë“œ ë¯¸ëŸ¬ ì»¤ë²„ (ìš°)",
      cavity_position: "2"
    }
  ],
  is_multi_part_mold: true,
  cavity_count: 2
}
```

**ì‚¬ë¡€ 2: ì„¸íŠ¸ ë¶€í’ˆ**
```javascript
{
  part_number: "P-2024-100",
  part_name: "ë„ì–´ íŠ¸ë¦¼ ì„¸íŠ¸",
  additional_parts: [
    {
      part_number: "P-2024-101",
      part_name: "ë„ì–´ íŠ¸ë¦¼ ìƒë‹¨",
      cavity_position: "1-2"
    },
    {
      part_number: "P-2024-102",
      part_name: "ë„ì–´ íŠ¸ë¦¼ ì¤‘ë‹¨",
      cavity_position: "3-4"
    },
    {
      part_number: "P-2024-103",
      part_name: "ë„ì–´ íŠ¸ë¦¼ í•˜ë‹¨",
      cavity_position: "5-6"
    }
  ],
  is_multi_part_mold: true,
  cavity_count: 6
}
```

**ì‚¬ë¡€ 3: ë‹¨ì¼ í’ˆë²ˆ (ì¼ë°˜ ê¸ˆí˜•)**
```javascript
{
  part_number: "P-2024-200",
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",
  additional_parts: [],
  is_multi_part_mold: false,
  cavity_count: 2
}
```

---

## ğŸ“¸ ì‚¬ì§„ ì—…ë¡œë“œ ê¸°ëŠ¥

### ë‹¤ì¤‘ ì—…ë¡œë“œ ë°©ì‹ ì§€ì›

ëª¨ë“  ì‚¬ì§„ ì—…ë¡œë“œ í•„ë“œì—ì„œ 3ê°€ì§€ ë°©ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤:

#### 1. íŒŒì¼ ì„ íƒ (File Picker)
- íŒŒì¼ íƒìƒ‰ê¸°ë¥¼ í†µí•œ ì´ë¯¸ì§€ ì„ íƒ
- ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥ (Ctrl + í´ë¦­)

#### 2. ë“œë˜ê·¸ ì•¤ ë“œë¡­ (Drag & Drop)
- íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì—¬ ì—…ë¡œë“œ ì˜ì—­ì— ë“œë¡­
- ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ë“œë˜ê·¸ ê°€ëŠ¥

#### 3. í´ë¦½ë³´ë“œ ë¶™ì—¬ë„£ê¸° (Clipboard Paste)
- í™”ë©´ ìº¡ì²˜ í›„ Ctrl+Vë¡œ ì§ì ‘ ë¶™ì—¬ë„£ê¸°
- ì´ë¯¸ì§€ í¸ì§‘ í”„ë¡œê·¸ë¨ì—ì„œ ë³µì‚¬ í›„ ë¶™ì—¬ë„£ê¸°
- ìë™ìœ¼ë¡œ íŒŒì¼ëª… ìƒì„± (ì˜ˆ: capture_20241120_103045.png)

### ì‚¬ì§„ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê°œë°œí’ˆ ì‚¬ì§„ ì—…ë¡œë“œ                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  ğŸ“· ì‚¬ì§„ì„ ì¶”ê°€í•˜ì„¸ìš”                             â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â€¢ íŒŒì¼ ì„ íƒ ë²„íŠ¼ í´ë¦­                            â”‚   â”‚
â”‚  â”‚  â€¢ íŒŒì¼ì„ ì—¬ê¸°ë¡œ ë“œë˜ê·¸ ì•¤ ë“œë¡­                   â”‚   â”‚
â”‚  â”‚  â€¢ ìº¡ì²˜ í›„ Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸°                      â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  ì§€ì› í˜•ì‹: JPG, PNG, GIF, BMP, WEBP             â”‚   â”‚
â”‚  â”‚  ìµœëŒ€ í¬ê¸°: 5MB (íŒŒì¼ë‹¹)                          â”‚   â”‚
â”‚  â”‚  ìµœëŒ€ ê°œìˆ˜: 10ê°œ                                  â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  [ğŸ“ íŒŒì¼ ì„ íƒ]                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  ì—…ë¡œë“œëœ ì‚¬ì§„ (3ê°œ)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ [ì´ë¯¸ì§€1]  â”‚ â”‚ [ì´ë¯¸ì§€2]  â”‚ â”‚ [ì´ë¯¸ì§€3]  â”‚          â”‚
â”‚  â”‚ 2.3 MB     â”‚ â”‚ 1.8 MB     â”‚ â”‚ 3.1 MB     â”‚          â”‚
â”‚  â”‚ [ğŸ—‘ï¸ ì‚­ì œ]  â”‚ â”‚ [ğŸ—‘ï¸ ì‚­ì œ]  â”‚ â”‚ [ğŸ—‘ï¸ ì‚­ì œ]  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                           â”‚
â”‚  ğŸ’¡ Tip: í™”ë©´ ìº¡ì²˜ í›„ ë°”ë¡œ Ctrl+Vë¥¼ ëˆŒëŸ¬ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ (React)

```javascript
import React, { useState, useRef, useEffect } from 'react';

const ImageUploadComponent = ({ 
  fieldName, 
  maxFiles = 10, 
  maxSizePerFile = 5 * 1024 * 1024, // 5MB
  onImagesChange 
}) => {
  const [images, setImages] = useState([]);
  const [isDragging, setIsDragging] = useState(false);
  const fileInputRef = useRef(null);
  const dropZoneRef = useRef(null);

  // 1. íŒŒì¼ ì„ íƒ í•¸ë“¤ëŸ¬
  const handleFileSelect = (e) => {
    const files = Array.from(e.target.files);
    processFiles(files);
  };

  // 2. ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•¸ë“¤ëŸ¬
  const handleDragEnter = (e) => {
    e.preventDefault();
    e.stopPropagation();
    setIsDragging(true);
  };

  const handleDragLeave = (e) => {
    e.preventDefault();
    e.stopPropagation();
    setIsDragging(false);
  };

  const handleDragOver = (e) => {
    e.preventDefault();
    e.stopPropagation();
  };

  const handleDrop = (e) => {
    e.preventDefault();
    e.stopPropagation();
    setIsDragging(false);

    const files = Array.from(e.dataTransfer.files);
    const imageFiles = files.filter(file => file.type.startsWith('image/'));
    processFiles(imageFiles);
  };

  // 3. í´ë¦½ë³´ë“œ ë¶™ì—¬ë„£ê¸° í•¸ë“¤ëŸ¬
  const handlePaste = (e) => {
    const items = e.clipboardData.items;
    const imageFiles = [];

    for (let i = 0; i < items.length; i++) {
      if (items[i].type.startsWith('image/')) {
        const blob = items[i].getAsFile();
        // ìº¡ì²˜ ì´ë¯¸ì§€ì— ìë™ íŒŒì¼ëª… ìƒì„±
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
        const file = new File([blob], `capture_${timestamp}.png`, { 
          type: blob.type 
        });
        imageFiles.push(file);
      }
    }

    if (imageFiles.length > 0) {
      processFiles(imageFiles);
      e.preventDefault();
    }
  };

  // íŒŒì¼ ì²˜ë¦¬ ë° ì—…ë¡œë“œ
  const processFiles = async (files) => {
    // íŒŒì¼ ê°œìˆ˜ ì²´í¬
    if (images.length + files.length > maxFiles) {
      alert(`ìµœëŒ€ ${maxFiles}ê°œê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);
      return;
    }

    // íŒŒì¼ í¬ê¸° ë° í˜•ì‹ ê²€ì¦
    const validFiles = files.filter(file => {
      if (!file.type.startsWith('image/')) {
        alert(`${file.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`);
        return false;
      }
      if (file.size > maxSizePerFile) {
        alert(`${file.name}ì˜ í¬ê¸°ê°€ ${maxSizePerFile / 1024 / 1024}MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`);
        return false;
      }
      return true;
    });

    // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìƒì„±
    const newImages = await Promise.all(
      validFiles.map(async (file) => {
        const preview = await createImagePreview(file);
        return {
          file,
          preview,
          name: file.name,
          size: file.size,
          uploadStatus: 'pending'
        };
      })
    );

    // ì„œë²„ ì—…ë¡œë“œ
    const uploadedImages = await uploadImagesToServer(newImages);
    
    const updatedImages = [...images, ...uploadedImages];
    setImages(updatedImages);
    onImagesChange(updatedImages.map(img => img.url));
  };

  // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìƒì„±
  const createImagePreview = (file) => {
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = (e) => resolve(e.target.result);
      reader.readAsDataURL(file);
    });
  };

  // ì„œë²„ ì—…ë¡œë“œ
  const uploadImagesToServer = async (images) => {
    const formData = new FormData();
    images.forEach((img, index) => {
      formData.append(`images`, img.file);
    });

    try {
      const response = await fetch('/api/upload/images', {
        method: 'POST',
        body: formData
      });

      const result = await response.json();
      
      return images.map((img, index) => ({
        ...img,
        url: result.urls[index],
        uploadStatus: 'success'
      }));
    } catch (error) {
      console.error('Upload failed:', error);
      return images.map(img => ({
        ...img,
        uploadStatus: 'failed'
      }));
    }
  };

  // ì´ë¯¸ì§€ ì‚­ì œ
  const handleRemoveImage = (index) => {
    const updatedImages = images.filter((_, i) => i !== index);
    setImages(updatedImages);
    onImagesChange(updatedImages.map(img => img.url));
  };

  // í´ë¦½ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
  useEffect(() => {
    const dropZone = dropZoneRef.current;
    if (dropZone) {
      dropZone.addEventListener('paste', handlePaste);
      return () => {
        dropZone.removeEventListener('paste', handlePaste);
      };
    }
  }, [images]);

  return (
    <div 
      ref={dropZoneRef}
      className="image-upload-container"
      tabIndex={0}
      style={{ outline: 'none' }}
    >
      {/* ë“œë¡­ ì˜ì—­ */}
      <div
        className={`drop-zone ${isDragging ? 'dragging' : ''}`}
        onDragEnter={handleDragEnter}
        onDragOver={handleDragOver}
        onDragLeave={handleDragLeave}
        onDrop={handleDrop}
        onClick={() => fileInputRef.current?.click()}
      >
        <div className="drop-zone-content">
          <span className="icon">ğŸ“·</span>
          <p>ì‚¬ì§„ì„ ì¶”ê°€í•˜ì„¸ìš”</p>
          <ul>
            <li>íŒŒì¼ ì„ íƒ ë²„íŠ¼ í´ë¦­</li>
            <li>íŒŒì¼ì„ ì—¬ê¸°ë¡œ ë“œë˜ê·¸ ì•¤ ë“œë¡­</li>
            <li>ìº¡ì²˜ í›„ Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸°</li>
          </ul>
          <p className="file-info">
            ì§€ì› í˜•ì‹: JPG, PNG, GIF, BMP, WEBP<br/>
            ìµœëŒ€ í¬ê¸°: {maxSizePerFile / 1024 / 1024}MB (íŒŒì¼ë‹¹)<br/>
            ìµœëŒ€ ê°œìˆ˜: {maxFiles}ê°œ
          </p>
          <button type="button" className="file-select-btn">
            ğŸ“ íŒŒì¼ ì„ íƒ
          </button>
        </div>
      </div>

      {/* ìˆ¨ê²¨ì§„ íŒŒì¼ ì…ë ¥ */}
      <input
        ref={fileInputRef}
        type="file"
        accept="image/*"
        multiple
        onChange={handleFileSelect}
        style={{ display: 'none' }}
      />

      {/* ì—…ë¡œë“œëœ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° */}
      {images.length > 0 && (
        <div className="uploaded-images">
          <h4>ì—…ë¡œë“œëœ ì‚¬ì§„ ({images.length}ê°œ)</h4>
          <div className="image-grid">
            {images.map((image, index) => (
              <div key={index} className="image-item">
                <img src={image.preview} alt={image.name} />
                <div className="image-info">
                  <span className="image-name">{image.name}</span>
                  <span className="image-size">
                    {(image.size / 1024 / 1024).toFixed(2)} MB
                  </span>
                </div>
                <button
                  type="button"
                  className="remove-btn"
                  onClick={() => handleRemoveImage(index)}
                >
                  ğŸ—‘ï¸ ì‚­ì œ
                </button>
              </div>
            ))}
          </div>
        </div>
      )}

      {/* ì•ˆë‚´ ë©”ì‹œì§€ */}
      <div className="tip-message">
        ğŸ’¡ Tip: í™”ë©´ ìº¡ì²˜ í›„ ë°”ë¡œ Ctrl+Vë¥¼ ëˆŒëŸ¬ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!
      </div>
    </div>
  );
};

export default ImageUploadComponent;
```

### ë°±ì—”ë“œ API (ì´ë¯¸ì§€ ì—…ë¡œë“œ)

```javascript
// ì´ë¯¸ì§€ ì—…ë¡œë“œ API
const multer = require('multer');
const path = require('path');
const { v4: uuidv4 } = require('uuid');

// Multer ì„¤ì •
const storage = multer.diskStorage({
  destination: (req, file, cb) => {
    cb(null, 'uploads/images/');
  },
  filename: (req, file, cb) => {
    const uniqueName = `${uuidv4()}${path.extname(file.originalname)}`;
    cb(null, uniqueName);
  }
});

const upload = multer({
  storage: storage,
  limits: {
    fileSize: 5 * 1024 * 1024 // 5MB
  },
  fileFilter: (req, file, cb) => {
    const allowedTypes = /jpeg|jpg|png|gif|bmp|webp/;
    const extname = allowedTypes.test(
      path.extname(file.originalname).toLowerCase()
    );
    const mimetype = allowedTypes.test(file.mimetype);

    if (extname && mimetype) {
      cb(null, true);
    } else {
      cb(new Error('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.'));
    }
  }
});

// ì´ë¯¸ì§€ ì—…ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸
router.post('/api/upload/images', upload.array('images', 10), async (req, res) => {
  try {
    const urls = req.files.map(file => {
      return `${process.env.BASE_URL}/uploads/images/${file.filename}`;
    });

    res.json({
      success: true,
      urls: urls,
      count: urls.length
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});
```

### CSS ìŠ¤íƒ€ì¼

```css
.image-upload-container {
  width: 100%;
  padding: 20px;
}

.drop-zone {
  border: 2px dashed #ccc;
  border-radius: 8px;
  padding: 40px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  background-color: #f9f9f9;
}

.drop-zone:hover {
  border-color: #4472C4;
  background-color: #f0f4ff;
}

.drop-zone.dragging {
  border-color: #4472C4;
  background-color: #e3edff;
  transform: scale(1.02);
}

.drop-zone-content .icon {
  font-size: 48px;
  display: block;
  margin-bottom: 16px;
}

.file-select-btn {
  margin-top: 16px;
  padding: 10px 24px;
  background-color: #4472C4;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.file-select-btn:hover {
  background-color: #365a9e;
}

.uploaded-images {
  margin-top: 24px;
}

.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.image-item {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 12px;
  background-color: white;
}

.image-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 4px;
}

.image-info {
  display: flex;
  flex-direction: column;
  margin: 8px 0;
  font-size: 12px;
}

.remove-btn {
  width: 100%;
  padding: 6px;
  background-color: #dc3545;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
}

.remove-btn:hover {
  background-color: #c82333;
}

.tip-message {
  margin-top: 16px;
  padding: 12px;
  background-color: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 4px;
  font-size: 14px;
  color: #856404;
}
```

---

## ğŸ“… ê¸ˆí˜• ê°œë°œê³„íš ê´€ë¦¬

### ê°œë°œê³„íš ë° ì§„í–‰í˜„í™©

ê¸ˆí˜•ì œì‘ì²˜ëŠ” ì œì‘ ì‹œì‘ ì‹œ **ê°œë°œê³„íš**ì„ ìˆ˜ë¦½í•˜ê³ , 12ë‹¨ê³„ ê³µì •ë³„ ì§„í–‰ ìƒí™©ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

**12ë‹¨ê³„ ê³µì •**: ë„ë©´ì ‘ìˆ˜ â†’ ëª°ë“œë² ì´ìŠ¤ ë°œì£¼ â†’ ê¸ˆí˜•ì„¤ê³„ â†’ ë„ë©´ê²€ë„íšŒ â†’ ìƒí˜•ê°€ê³µ â†’ í•˜í˜•ê°€ê³µ â†’ ì½”ì–´ê°€ê³µ â†’ ë°©ì „ â†’ ê²¸ë©´ì‚¬ìƒ â†’ ê¸ˆí˜•ì¡°ë¦½ â†’ ìŠµí•© â†’ ì´ˆë„ T/O

#### 12ë‹¨ê³„ ì œì‘ ê³µì • ìƒì„¸

| ë‹¨ê³„ | ê³µì •ëª… | ì„¤ëª… |
|------|--------|------|
| 1 | ë„ë©´ì ‘ìˆ˜ | ê³ ê°ì‚¬ë¡œë¶€í„° ê¸ˆí˜• ë„ë©´ ì ‘ìˆ˜ |
| 2 | ëª°ë“œë² ì´ìŠ¤ ë°œì£¼ | ê¸ˆí˜• ë² ì´ìŠ¤ ìì¬ ë°œì£¼ |
| 3 | ê¸ˆí˜•ì„¤ê³„ | 3D ëª¨ë¸ë§ ë° ìƒì„¸ ì„¤ê³„ |
| 4 | ë„ë©´ê²€ë„íšŒ | ì„¤ê³„ ë„ë©´ ê²€í†  ë° ìŠ¹ì¸ |
| 5 | ìƒí˜•ê°€ê³µ | ìƒí˜• ë¶€í’ˆ ê°€ê³µ |
| 6 | í•˜í˜•ê°€ê³µ | í•˜í˜• ë¶€í’ˆ ê°€ê³µ |
| 7 | ì½”ì–´ê°€ê³µ | ì½”ì–´ ë¶€í’ˆ ê°€ê³µ |
| 8 | ë°©ì „ | ë°©ì „ ê°€ê³µ ì²˜ë¦¬ |
| 9 | ê²¸ë©´ì‚¬ìƒ | ê¸ˆí˜• í‘œë©´ ë§ˆë¬´ë¦¬ ì‘ì—… |
| 10 | ê¸ˆí˜•ì¡°ë¦½ | ìƒí•˜í˜• ë° ë¶€í’ˆ ì¡°ë¦½ |
| 11 | ìŠµí•© | ê¸ˆí˜• ë§ì¶¤ ë° ì¡°ì • |
| 12 | ì´ˆë„ T/O | ì´ˆë„ ì‹œì‚¬ì¶œ ë° í’ˆì§ˆ í™•ì¸ |

#### ê°œë°œê³„íš ê¸°ë³¸ì •ë³´ ì…ë ¥ í•­ëª©

| í•­ëª© | í•„ë“œëª… | ì…ë ¥ë°©ì‹ | ìë™/ìˆ˜ë™ | ì„¤ëª… |
|------|--------|----------|-----------|------|
| ì°¨ì¢… | `car_model` | í…ìŠ¤íŠ¸ | ğŸ”µ ìë™ | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ì…ë ¥ |
| í’ˆë²ˆ | `part_number` | í…ìŠ¤íŠ¸ | ğŸ”µ ìë™ | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ì…ë ¥ |
| í’ˆëª… | `part_name` | í…ìŠ¤íŠ¸ | ğŸ”µ ìë™ | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ì…ë ¥ |
| ì›ì¬ë£Œ | `raw_material` | í…ìŠ¤íŠ¸ | âœï¸ ìˆ˜ë™ | ì›ì¬ë£Œëª… ì…ë ¥ |
| ì œì‘ì | `manufacturer` | í…ìŠ¤íŠ¸ | âœï¸ ìˆ˜ë™ | ì œì‘ ë‹´ë‹¹ìëª… |
| ì œì‘ì¼ì • | `schedule_code` | í…ìŠ¤íŠ¸ | ğŸ”µ ìë™ | D+144 í˜•ì‹ (ìë™ ê³„ì‚°) |
| T/Oì¼ì • | `trial_order_date` | ë‚ ì§œ | âœï¸ ìˆ˜ë™ | T/O(Trial Order) ëª©í‘œì¼ |
| ì‹œì‘ | `start_checkbox` | ì²´í¬ë°•ìŠ¤ | âœï¸ ìˆ˜ë™ | ì‹œì‘ ì—¬ë¶€ |
| ì–‘ì‚° | `completion_checkbox` | ì²´í¬ë°•ìŠ¤ | âœï¸ ìˆ˜ë™ | ì–‘ì‚° ì—¬ë¶€ |
| ìˆ˜ì¶œë¥  | `export_rate` | í…ìŠ¤íŠ¸ | ğŸ”µ ìë™ | 6/1000 í˜•ì‹ (ìë™ ê³„ì‚°) |
| ê¸ˆí˜• ì¬ì§ˆ (ìƒí˜•) | `material_upper_type` | ë“œë¡­ë‹¤ìš´ | âœï¸ ìˆ˜ë™ | ì¬ì§ˆ ì„ íƒ |
| ê¸ˆí˜• ì¬ì§ˆ (í•˜í˜•) | `material_lower_type` | ë“œë¡­ë‹¤ìš´ | âœï¸ ìˆ˜ë™ | ì¬ì§ˆ ì„ íƒ |
| ë¶€í’ˆì¤‘ëŸ‰(g) | `part_weight` | ìˆ«ì | âœï¸ ìˆ˜ë™ | ë¶€í’ˆ ì¤‘ëŸ‰ ì…ë ¥ |
| ì¡°ë¦½ | `assembly_button` | ë²„íŠ¼ | - | ì¡°ë¦½ ê´€ë ¨ ê¸°ëŠ¥ |
| ì´ë¯¸ì§€ ì—…ë¡œë“œ | `images` | íŒŒì¼ | âœï¸ ìˆ˜ë™ | ì´ë¯¸ì§€ ì²¨ë¶€ |

#### ê°œë°œê³„íš ë°ì´í„° êµ¬ì¡°

```javascript
{
  // === ê¸°ë³¸ ì •ë³´ (ì œì‘ì‚¬ì–‘) ===
  mold_specification_id: 1,           // ê¸ˆí˜•ì œì‘ì‚¬ì–‘ ID (ì—°ê²°)
  
  // === ìë™ ì…ë ¥ í•­ëª© (ğŸ”µ) ===
  car_model: "GV80",                  // ì°¨ì¢… (ìë™)
  part_number: "P-2024-001",          // í’ˆë²ˆ (ìë™)
  part_name: "ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•",    // í’ˆëª… (ìë™)
  schedule_code: "D+144",             // ì œì‘ì¼ì • ì½”ë“œ (ìë™ ê³„ì‚°)
  export_rate: "6/1000",              // ìˆ˜ì¶œë¥  (ìë™ ê³„ì‚°)
  
  // === ìˆ˜ë™ ì…ë ¥ í•­ëª© (âœï¸) ===
  raw_material: "ì›ì¬ë£Œ",              // ì›ì¬ë£Œ
  manufacturer: "ê¹€ì² ìˆ˜",              // ì œì‘ì
  trial_order_date: "2024-06-15",     // T/Oì¼ì •
  start_status: false,                // ì‹œì‘ ì²´í¬ë°•ìŠ¤
  completion_status: false,           // ì–‘ì‚° ì²´í¬ë°•ìŠ¤
  material_upper_type: "ì¬ì§ˆ ì„ íƒ",    // ìƒí˜• ì¬ì§ˆ (ë“œë¡­ë‹¤ìš´)
  material_lower_type: "ì¬ì§ˆ ì„ íƒ",    // í•˜í˜• ì¬ì§ˆ (ë“œë¡­ë‹¤ìš´)
  part_weight: null,                  // ë¶€í’ˆì¤‘ëŸ‰(g)
  images: [],                         // ì´ë¯¸ì§€ ì—…ë¡œë“œ
  
  // === ì „ì²´ ì§„í–‰ë¥  ===
  overall_progress: 75,               // ì „ì²´ ì§„í–‰ë¥  (%)
  completed_steps: 9,                 // ì™„ë£Œëœ ë‹¨ê³„ ìˆ˜
  total_steps: 12,                    // ì „ì²´ ë‹¨ê³„ ìˆ˜
  current_step: "ì¬ì‹œì‚¬ì¶œ",            // í˜„ì¬ ì§„í–‰ ë‹¨ê³„
  
  // === 12ë‹¨ê³„ ê³µì • ì§„ë„ ===
  process_steps: [
    {
      step_number: 1,
      step_name: "ë„ë©´ì ‘ìˆ˜",
      start_date: "2024-01-15",
      planned_date: "2024-01-17",
      completion_date: "2024-01-16",
      status: "completed",
      progress: 100,
      assignee: "ê¹€ì² ìˆ˜",
      notes: "ë„ë©´ ì ‘ìˆ˜ ì™„ë£Œ"
    },
    {
      step_number: 2,
      step_name: "ëª°ë“œë² ì´ìŠ¤ ë°œì£¼",
      start_date: "2024-01-17",
      planned_date: "2024-01-22",
      completion_date: "2024-01-21",
      status: "completed",
      progress: 100,
      assignee: "ì´ì˜í¬",
      notes: "ëª°ë“œë² ì´ìŠ¤ ë°œì£¼ ì™„ë£Œ"
    },
    {
      step_number: 3,
      step_name: "ê¸ˆí˜•ì„¤ê³„",
      start_date: "2024-01-22",
      planned_date: "2024-02-05",
      completion_date: "2024-02-04",
      status: "completed",
      progress: 100,
      assignee: "ë°•ë¯¼ìˆ˜",
      notes: "3D ì„¤ê³„ ì™„ë£Œ"
    },
    {
      step_number: 4,
      step_name: "ë„ë©´ê²€ë„íšŒ",
      start_date: "2024-02-05",
      planned_date: "2024-02-07",
      completion_date: "2024-02-06",
      status: "completed",
      progress: 100,
      assignee: "ìµœë™ìš±",
      notes: "ë„ë©´ ê²€í†  ì™„ë£Œ"
    },
    {
      step_number: 5,
      step_name: "ìƒí˜•ê°€ê³µ",
      start_date: "2024-02-07",
      planned_date: "2024-02-20",
      completion_date: "2024-02-19",
      status: "completed",
      progress: 100,
      assignee: "ì •ìˆ˜ì§„",
      notes: "ìƒí˜• ê°€ê³µ ì™„ë£Œ"
    },
    {
      step_number: 6,
      step_name: "í•˜í˜•ê°€ê³µ",
      start_date: "2024-02-20",
      planned_date: "2024-03-05",
      completion_date: "2024-03-04",
      status: "completed",
      progress: 100,
      assignee: "ê°•ë¯¼í˜¸",
      notes: "í•˜í˜• ê°€ê³µ ì™„ë£Œ"
    },
    {
      step_number: 7,
      step_name: "ì½”ì–´ê°€ê³µ",
      start_date: "2024-03-05",
      planned_date: "2024-03-12",
      completion_date: "2024-03-11",
      status: "completed",
      progress: 100,
      assignee: "ìœ¤ì„œì—°",
      notes: "ì½”ì–´ ê°€ê³µ ì™„ë£Œ"
    },
    {
      step_number: 8,
      step_name: "ë°©ì „",
      start_date: "2024-03-12",
      planned_date: "2024-03-17",
      completion_date: "2024-03-16",
      status: "completed",
      progress: 100,
      assignee: "ì„ì¬í˜„",
      notes: "ë°©ì „ ê°€ê³µ ì™„ë£Œ"
    },
    {
      step_number: 9,
      step_name: "ê²¸ë©´ì‚¬ìƒ",
      start_date: "2024-03-17",
      planned_date: "2024-03-22",
      completion_date: "2024-03-21",
      status: "completed",
      progress: 100,
      assignee: "í•œì§€ìš°",
      notes: "ê²¸ë©´ì‚¬ìƒ ì™„ë£Œ"
    },
    {
      step_number: 10,
      step_name: "ê¸ˆí˜•ì¡°ë¦½",
      start_date: "2024-03-22",
      planned_date: "2024-03-25",
      completion_date: null,
      status: "in_progress",
      progress: 60,
      assignee: "ì¡°ë¯¼ì¬",
      notes: "ì¡°ë¦½ ì§„í–‰ ì¤‘"
    },
    {
      step_number: 11,
      step_name: "ìŠµí•©",
      start_date: null,
      planned_date: "2024-03-27",
      completion_date: null,
      status: "pending",
      progress: 0,
      assignee: "í’ˆì§ˆíŒ€",
      notes: ""
    },
    {
      step_number: 12,
      step_name: "ì´ˆë„ T/O",
      start_date: null,
      planned_date: "2024-03-30",
      completion_date: null,
      status: "pending",
      progress: 0,
      assignee: "ìƒì‚°íŒ€",
      notes: ""
    }
  ],
  
  // === ë©”íƒ€ ì •ë³´ ===
  created_by: 5,
  created_at: "2024-01-15T09:00:00Z",
  updated_at: "2024-03-22T14:30:00Z"
}
```

#### ê°œë°œê³„íš API

```javascript
// 1. ê°œë°œê³„íš ìƒì„±
POST /api/maker/development-plan

{
  "mold_specification_id": 1,
  
  // ìë™ ì…ë ¥ í•­ëª© (ì‹œìŠ¤í…œì—ì„œ ìë™ ì„¤ì •)
  "car_model": "GV80",                    // ì œì‘ì‚¬ì–‘ì—ì„œ ìë™
  "part_number": "P-2024-001",            // ì œì‘ì‚¬ì–‘ì—ì„œ ìë™
  "part_name": "ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•",      // ì œì‘ì‚¬ì–‘ì—ì„œ ìë™
  "schedule_code": "D+144",               // ìë™ ê³„ì‚°
  "export_rate": "6/1000",                // ìë™ ê³„ì‚°
  
  // ìˆ˜ë™ ì…ë ¥ í•­ëª©
  "raw_material": "ì›ì¬ë£Œ",
  "manufacturer": "ê¹€ì² ìˆ˜",
  "trial_order_date": "2024-06-15",
  "start_status": false,
  "completion_status": false,
  "material_upper_type": "ì¬ì§ˆ ì„ íƒ",
  "material_lower_type": "ì¬ì§ˆ ì„ íƒ",
  "part_weight": null,
  "images": [],
  
  "process_steps": [
    {
      "step_number": 1,
      "step_name": "ë„ë©´ì ‘ìˆ˜",
      "planned_date": "2024-01-17"
    },
    {
      "step_number": 2,
      "step_name": "ëª°ë“œë² ì´ìŠ¤ ë°œì£¼",
      "planned_date": "2024-01-22"
    },
    {
      "step_number": 3,
      "step_name": "ê¸ˆí˜•ì„¤ê³„",
      "planned_date": "2024-02-05"
    },
    {
      "step_number": 4,
      "step_name": "ë„ë©´ê²€ë„íšŒ",
      "planned_date": "2024-02-07"
    },
    {
      "step_number": 5,
      "step_name": "ìƒí˜•ê°€ê³µ",
      "planned_date": "2024-02-20"
    },
    {
      "step_number": 6,
      "step_name": "í•˜í˜•ê°€ê³µ",
      "planned_date": "2024-03-05"
    },
    {
      "step_number": 7,
      "step_name": "ì½”ì–´ê°€ê³µ",
      "planned_date": "2024-03-12"
    },
    {
      "step_number": 8,
      "step_name": "ë°©ì „",
      "planned_date": "2024-03-17"
    },
    {
      "step_number": 9,
      "step_name": "ê²¸ë©´ì‚¬ìƒ",
      "planned_date": "2024-03-22"
    },
    {
      "step_number": 10,
      "step_name": "ê¸ˆí˜•ì¡°ë¦½",
      "planned_date": "2024-03-25"
    },
    {
      "step_number": 11,
      "step_name": "ìŠµí•©",
      "planned_date": "2024-03-27"
    },
    {
      "step_number": 12,
      "step_name": "ì´ˆë„ T/O",
      "planned_date": "2024-03-30"
    }
  ]
}

// 2. ê³µì • ë‹¨ê³„ ì—…ë°ì´íŠ¸
PUT /api/maker/development-plan/:id/step/:stepNumber

{
  "start_date": "2024-03-22",
  "completion_date": "2024-03-25",
  "status": "completed",
  "progress": 100,
  "notes": "ì™„ë£Œ"
}

// 3. ì „ì²´ ì§„í–‰ë¥  ì¡°íšŒ
GET /api/maker/development-plan/:id/progress

Response:
{
  "overall_progress": 75,
  "completed_steps": 9,
  "current_step": "ì¬ì‹œì‚¬ì¶œ",
  "on_schedule": true,
  "delay_days": 0
}
```

#### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- ê°œë°œê³„íš í…Œì´ë¸”
CREATE TABLE mold_development_plans (
  id SERIAL PRIMARY KEY,
  mold_specification_id INTEGER NOT NULL REFERENCES mold_specifications(id),
  
  -- ìë™ ì…ë ¥ í•­ëª© (ğŸ”µ)
  car_model VARCHAR(100),              -- ì°¨ì¢… (ì œì‘ì‚¬ì–‘ì—ì„œ ìë™)
  part_number VARCHAR(50),             -- í’ˆë²ˆ (ì œì‘ì‚¬ì–‘ì—ì„œ ìë™)
  part_name VARCHAR(200),              -- í’ˆëª… (ì œì‘ì‚¬ì–‘ì—ì„œ ìë™)
  schedule_code VARCHAR(20),           -- ì œì‘ì¼ì • ì½”ë“œ (D+144 í˜•ì‹, ìë™ ê³„ì‚°)
  export_rate VARCHAR(20),             -- ìˆ˜ì¶œë¥  (6/1000 í˜•ì‹, ìë™ ê³„ì‚°)
  
  -- ìˆ˜ë™ ì…ë ¥ í•­ëª© (âœï¸)
  raw_material VARCHAR(100),           -- ì›ì¬ë£Œ
  manufacturer VARCHAR(100),           -- ì œì‘ì
  trial_order_date DATE,               -- T/Oì¼ì •
  start_status BOOLEAN DEFAULT FALSE,  -- ì‹œì‘ ì²´í¬ë°•ìŠ¤
  completion_status BOOLEAN DEFAULT FALSE, -- ì™„ì„± ì²´í¬ë°•ìŠ¤
  material_upper_type VARCHAR(100),    -- ìƒí˜• ì¬ì§ˆ (ë“œë¡­ë‹¤ìš´)
  material_lower_type VARCHAR(100),    -- í•˜í˜• ì¬ì§ˆ (ë“œë¡­ë‹¤ìš´)
  part_weight DECIMAL(10, 2),          -- ë¶€í’ˆì¤‘ëŸ‰(g)
  images JSONB,                        -- ì´ë¯¸ì§€ ì—…ë¡œë“œ
  
  -- ì§„í–‰ë¥ 
  overall_progress INTEGER DEFAULT 0,
  completed_steps INTEGER DEFAULT 0,
  total_steps INTEGER DEFAULT 12,
  current_step VARCHAR(50),
  
  -- ìƒíƒœ
  status VARCHAR(20), -- 'planning', 'in_progress', 'completed', 'delayed'
  
  created_by INTEGER REFERENCES users(id),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ê³µì • ë‹¨ê³„ í…Œì´ë¸” (ì§„ë„ ê´€ë¦¬)
CREATE TABLE mold_process_steps (
  id SERIAL PRIMARY KEY,
  development_plan_id INTEGER NOT NULL REFERENCES mold_development_plans(id),
  
  -- ë‹¨ê³„ ì •ë³´
  step_number INTEGER NOT NULL,
  step_name VARCHAR(100) NOT NULL,      -- êµ¬ë¶„ (ê³µì •ëª…)
  
  -- ì œì‘ì¼ì •
  start_date DATE,                      -- ì‹œì‘ì¼
  planned_completion_date DATE,         -- ì¢…ë£Œì¼ (ê³„íš)
  actual_completion_date DATE,          -- ì‹¤ì œ ì™„ë£Œì¼
  
  -- ìƒíƒœ
  status VARCHAR(20),                   -- 'pending'(ëŒ€ê¸°), 'in_progress'(ì§„í–‰ì¤‘), 'completed'(ì™„ë£Œ), 'delayed'(ì§€ì—°)
  status_display VARCHAR(50),           -- ìƒíƒœ í‘œì‹œ (ì™„ë£Œ, ì§„í–‰ì¤‘, ì§„í–‰ì˜ˆì •)
  
  -- ë¹„ê³  ë° ì¼ì •
  notes TEXT,                           -- ë¹„ê³ 
  days_remaining VARCHAR(20),           -- ì¼ì • (D+00 í˜•ì‹)
  
  -- ë‹´ë‹¹ì
  assignee VARCHAR(100),
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  UNIQUE(development_plan_id, step_number)
);

CREATE INDEX idx_development_plans_spec ON mold_development_plans(mold_specification_id);
CREATE INDEX idx_process_steps_plan ON mold_process_steps(development_plan_id);
CREATE INDEX idx_process_steps_status ON mold_process_steps(status);
```

#### ì§„ë„ ê´€ë¦¬ í…Œì´ë¸” UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì§„ë„ ê´€ë¦¬                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   êµ¬ë¶„   â”‚         ì œì‘ì¼ì •              â”‚   ìƒíƒœ   â”‚   ë¹„ê³    â”‚   ì¼ì •   â”‚ â”‚
â”‚  â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚          â”‚          â”‚ â”‚
â”‚  â”‚          â”‚  ì‹œì‘ì¼  â”‚  ì¢…ë£Œì¼  â”‚  ìƒíƒœ  â”‚          â”‚          â”‚          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ë„ë©´ì ‘ìˆ˜  â”‚2024-09-01â”‚2024-09-05â”‚ ì™„ë£Œ   â”‚  ì™„ë£Œ    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ëª°ë“œë² ì´ìŠ¤â”‚2024-09-06â”‚2024-09-15â”‚ ì™„ë£Œ   â”‚  ì™„ë£Œ    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”‚  ë°œì£¼    â”‚          â”‚          â”‚        â”‚          â”‚          â”‚          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ê¸ˆí˜•ì„¤ê³„  â”‚2024-09-16â”‚2024-10-10â”‚ ì™„ë£Œ   â”‚  ì™„ë£Œ    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ë„ë©´ê²€ë„íšŒâ”‚2024-10-11â”‚2024-10-31â”‚ ì™„ë£Œ   â”‚  ì™„ë£Œ    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ìƒí˜•ê°€ê³µ  â”‚2024-11-01â”‚2024-11-20â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì¤‘    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚í•˜í˜•ê°€ê³µ  â”‚2024-11-01â”‚2024-11-20â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì¤‘    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ì½”ì–´ê°€ê³µ  â”‚2024-11-05â”‚2024-11-18â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì¤‘    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ë°©ì „      â”‚2024-11-10â”‚2024-11-25â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì¤‘    â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ê²¸ë©´ì‚¬ìƒ  â”‚2024-11-26â”‚2024-12-05â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì˜ˆì •  â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ê¸ˆí˜•ì¡°ë¦½  â”‚2024-12-06â”‚2024-12-10â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì˜ˆì •  â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ìŠµí•©      â”‚2024-12-11â”‚2024-12-15â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì˜ˆì •  â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ì´ˆë„ T/O  â”‚2024-12-16â”‚2024-12-20â”‚ ì™„ë£Œ   â”‚ì§„í–‰ì˜ˆì •  â”‚          â”‚  D+00    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì§„ë„ ê´€ë¦¬ í…Œì´ë¸” í•„ë“œ ì„¤ëª…

| ì»¬ëŸ¼ | í•„ë“œëª… | íƒ€ì… | ì„¤ëª… |
|------|--------|------|------|
| êµ¬ë¶„ | `step_name` | í…ìŠ¤íŠ¸ | ê³µì •ëª… (ë„ë©´ì ‘ìˆ˜, ëª°ë“œë² ì´ìŠ¤ ë°œì£¼ ë“±) |
| ì‹œì‘ì¼ | `start_date` | ë‚ ì§œ | ê³µì • ì‹œì‘ì¼ |
| ì¢…ë£Œì¼ | `planned_completion_date` | ë‚ ì§œ | ê³„íšëœ ì¢…ë£Œì¼ |
| ìƒíƒœ (ë²„íŠ¼) | `status` | ë²„íŠ¼ | ì™„ë£Œ ìƒíƒœ í† ê¸€ ë²„íŠ¼ (ì™„ë£Œ/ë¯¸ì™„ë£Œ) |
| ìƒíƒœ (í…ìŠ¤íŠ¸) | `status_display` | í…ìŠ¤íŠ¸ | ì™„ë£Œ, ì§„í–‰ì¤‘, ì§„í–‰ì˜ˆì • |
| ë¹„ê³  | `notes` | í…ìŠ¤íŠ¸ | íŠ¹ì´ì‚¬í•­ ì…ë ¥ |
| ì¼ì • | `days_remaining` | í…ìŠ¤íŠ¸ | D+00 í˜•ì‹ (ë‚¨ì€ ì¼ìˆ˜ ë˜ëŠ” ê²½ê³¼ ì¼ìˆ˜) |

#### ìƒíƒœ ê´€ë¦¬ ë¡œì§

```javascript
// ìƒíƒœ ìë™ ê³„ì‚°
function calculateStepStatus(step) {
  const today = new Date();
  const startDate = new Date(step.start_date);
  const plannedDate = new Date(step.planned_completion_date);
  const actualDate = step.actual_completion_date ? new Date(step.actual_completion_date) : null;
  
  // 1. ì™„ë£Œëœ ê²½ìš°
  if (actualDate) {
    return {
      status: 'completed',
      status_display: 'ì™„ë£Œ',
      days_remaining: 'D+00'
    };
  }
  
  // 2. ì§„í–‰ ì¤‘ (ì‹œì‘ì¼ ì§€ë‚¨, ì¢…ë£Œì¼ ì•ˆ ì§€ë‚¨)
  if (today >= startDate && today <= plannedDate) {
    const daysLeft = Math.ceil((plannedDate - today) / (1000 * 60 * 60 * 24));
    return {
      status: 'in_progress',
      status_display: 'ì§„í–‰ì¤‘',
      days_remaining: `D+${Math.abs(daysLeft)}`
    };
  }
  
  // 3. ì§€ì—° (ì¢…ë£Œì¼ ì§€ë‚¨, ì™„ë£Œ ì•ˆ ë¨)
  if (today > plannedDate) {
    const daysDelayed = Math.ceil((today - plannedDate) / (1000 * 60 * 60 * 24));
    return {
      status: 'delayed',
      status_display: 'ì§„í–‰ì¤‘',
      days_remaining: `D+${daysDelayed}`
    };
  }
  
  // 4. ì§„í–‰ ì˜ˆì • (ì‹œì‘ì¼ ì•ˆ ì§€ë‚¨)
  if (today < startDate) {
    const daysUntilStart = Math.ceil((startDate - today) / (1000 * 60 * 60 * 24));
    return {
      status: 'pending',
      status_display: 'ì§„í–‰ì˜ˆì •',
      days_remaining: `D+00`
    };
  }
}

// ìƒíƒœ ë²„íŠ¼ í´ë¦­ ì‹œ ì™„ë£Œ ì²˜ë¦¬
async function toggleStepCompletion(stepId) {
  const step = await MoldProcessStep.findByPk(stepId);
  
  if (step.status === 'completed') {
    // ì™„ë£Œ ì·¨ì†Œ
    await step.update({
      status: 'in_progress',
      status_display: 'ì§„í–‰ì¤‘',
      actual_completion_date: null
    });
  } else {
    // ì™„ë£Œ ì²˜ë¦¬
    await step.update({
      status: 'completed',
      status_display: 'ì™„ë£Œ',
      actual_completion_date: new Date(),
      days_remaining: 'D+00'
    });
  }
  
  // ì „ì²´ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
  await updateOverallProgress(step.development_plan_id);
}
```

#### ì§„ë„ìœ¨ ì‹œê°í™” (Progress Visualization)

ê³µì •ë³„ ì§„í–‰ ìƒíƒœë¥¼ ì›í˜• ì•„ì´ì½˜ìœ¼ë¡œ ì‹œê°í™”í•˜ì—¬ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì§„ë„ìœ¨ ì‹œê°í™”                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª    â”‚
â”‚  ë„ë©´   ëª°ë“œ   ê¸ˆí˜•   ë„ë©´   ìƒí˜•   í•˜í˜•   ì½”ì–´   ë°©ì „   ê²¸ë©´   ê¸ˆí˜•   ìŠµí•©   ì´ˆë„  â”‚
â”‚  ì ‘ìˆ˜   ë² ì´ìŠ¤ ì„¤ê³„   ê²€ë„íšŒ ê°€ê³µ   ê°€ê³µ   ê°€ê³µ         ì‚¬ìƒ   ì¡°ë¦½         T/O  â”‚
â”‚       ë°œì£¼                                                                      â”‚
â”‚                                                                                 â”‚
â”‚  âœ… â”€â”€â”€ âœ… â”€â”€â”€ âœ… â”€â”€â”€ âœ… â”€â”€â”€ ğŸŸ¡ â”€â”€â”€ ğŸŸ¡ â”€â”€â”€ ğŸŸ¡ â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª â”€â”€â”€ âšª    â”‚
â”‚  ì™„ë£Œ   ì™„ë£Œ   ì™„ë£Œ   ì™„ë£Œ   ì§„í–‰ì¤‘ ì§„í–‰ì¤‘ ì§„í–‰ì¤‘ ëŒ€ê¸°   ëŒ€ê¸°   ëŒ€ê¸°   ëŒ€ê¸°   ëŒ€ê¸°  â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ìƒíƒœë³„ ì•„ì´ì½˜ ë° ìƒ‰ìƒ

| ìƒíƒœ | ì•„ì´ì½˜ | ìƒ‰ìƒ | ì• ë‹ˆë©”ì´ì…˜ | ì„¤ëª… |
|------|--------|------|------------|------|
| ì™„ë£Œ | âœ… | ì´ˆë¡ìƒ‰ (#4CAF50) | ì—†ìŒ | ê³µì • ì™„ë£Œ |
| ì§„í–‰ì¤‘ | ğŸŸ¡ | ë…¸ë€ìƒ‰ (#FFC107) | ê¹œë°•ì„ (1ì´ˆ ê°„ê²©) | í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ê³µì • |
| ì§€ì—° | ğŸ”´ | ë¹¨ê°„ìƒ‰ (#F44336) | ë¹ ë¥¸ ê¹œë°•ì„ (0.5ì´ˆ ê°„ê²©) | ê³„íšì¼ ì´ˆê³¼ |
| ëŒ€ê¸° | âšª | íšŒìƒ‰ (#9E9E9E) | ì—†ìŒ | ì•„ì§ ì‹œì‘ ì•ˆ í•¨ |

#### React ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

```javascript
import React from 'react';
import './ProgressVisualization.css';

const ProgressVisualization = ({ processSteps }) => {
  const getStepIcon = (step) => {
    const today = new Date();
    const startDate = new Date(step.start_date);
    const plannedDate = new Date(step.planned_completion_date);
    const actualDate = step.actual_completion_date;
    
    // ì™„ë£Œ
    if (actualDate) {
      return {
        icon: 'âœ…',
        className: 'step-completed',
        label: 'ì™„ë£Œ'
      };
    }
    
    // ì§€ì—° (ì¢…ë£Œì¼ ì§€ë‚¨, ë¯¸ì™„ë£Œ)
    if (today > plannedDate) {
      return {
        icon: 'ğŸ”´',
        className: 'step-delayed',
        label: 'ì§€ì—°'
      };
    }
    
    // ì§„í–‰ì¤‘ (ì‹œì‘ì¼ ì§€ë‚¨, ì¢…ë£Œì¼ ì•ˆ ì§€ë‚¨)
    if (today >= startDate && today <= plannedDate) {
      return {
        icon: 'ğŸŸ¡',
        className: 'step-in-progress',
        label: 'ì§„í–‰ì¤‘'
      };
    }
    
    // ëŒ€ê¸°
    return {
      icon: 'âšª',
      className: 'step-pending',
      label: 'ëŒ€ê¸°'
    };
  };
  
  return (
    <div className="progress-visualization">
      <div className="progress-header">
        <h3>ì§„ë„ìœ¨ ì‹œê°í™”</h3>
        <div className="progress-summary">
          ì™„ë£Œ: {processSteps.filter(s => s.actual_completion_date).length} / {processSteps.length}
        </div>
      </div>
      
      <div className="progress-steps">
        {processSteps.map((step, index) => {
          const stepInfo = getStepIcon(step);
          
          return (
            <React.Fragment key={step.id}>
              <div className="step-item">
                <div className={`step-icon ${stepInfo.className}`}>
                  {stepInfo.icon}
                </div>
                <div className="step-name">{step.step_name}</div>
                <div className="step-status">{stepInfo.label}</div>
              </div>
              
              {index < processSteps.length - 1 && (
                <div className="step-connector">â”€â”€â”€</div>
              )}
            </React.Fragment>
          );
        })}
      </div>
      
      <div className="progress-legend">
        <div className="legend-item">
          <span className="legend-icon step-completed">âœ…</span>
          <span>ì™„ë£Œ</span>
        </div>
        <div className="legend-item">
          <span className="legend-icon step-in-progress">ğŸŸ¡</span>
          <span>ì§„í–‰ì¤‘</span>
        </div>
        <div className="legend-item">
          <span className="legend-icon step-delayed">ğŸ”´</span>
          <span>ì§€ì—°</span>
        </div>
        <div className="legend-item">
          <span className="legend-icon step-pending">âšª</span>
          <span>ëŒ€ê¸°</span>
        </div>
      </div>
    </div>
  );
};

export default ProgressVisualization;
```

#### CSS ìŠ¤íƒ€ì¼ (ì• ë‹ˆë©”ì´ì…˜ í¬í•¨)

```css
.progress-visualization {
  padding: 24px;
  background: #ffffff;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.progress-header h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
}

.progress-summary {
  font-size: 14px;
  color: #666;
}

.progress-steps {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 0;
  overflow-x: auto;
}

.step-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 80px;
}

.step-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  margin-bottom: 8px;
  transition: transform 0.2s;
}

.step-icon:hover {
  transform: scale(1.1);
}

/* ì™„ë£Œ - ì´ˆë¡ìƒ‰ */
.step-completed {
  background-color: #E8F5E9;
  color: #4CAF50;
}

/* ì§„í–‰ì¤‘ - ë…¸ë€ìƒ‰, ê¹œë°•ì„ */
.step-in-progress {
  background-color: #FFF9C4;
  color: #FFC107;
  animation: pulse-slow 1s infinite;
}

@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
  }
  50% {
    opacity: 0.7;
    box-shadow: 0 0 0 10px rgba(255, 193, 7, 0);
  }
}

/* ì§€ì—° - ë¹¨ê°„ìƒ‰, ë¹ ë¥¸ ê¹œë°•ì„ */
.step-delayed {
  background-color: #FFEBEE;
  color: #F44336;
  animation: pulse-fast 0.5s infinite;
}

@keyframes pulse-fast {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7);
  }
  50% {
    opacity: 0.5;
    box-shadow: 0 0 0 10px rgba(244, 67, 54, 0);
  }
}

/* ëŒ€ê¸° - íšŒìƒ‰ */
.step-pending {
  background-color: #F5F5F5;
  color: #9E9E9E;
}

.step-name {
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  margin-bottom: 4px;
  color: #333;
}

.step-status {
  font-size: 11px;
  color: #666;
}

.step-connector {
  color: #E0E0E0;
  font-size: 18px;
  margin: 0 8px;
}

.progress-legend {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid #E0E0E0;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
}

.legend-icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}
```

#### ì‚¬ìš© ì˜ˆì‹œ

```javascript
// í˜ì´ì§€ì—ì„œ ì‚¬ìš©
import ProgressVisualization from './components/ProgressVisualization';

function DevelopmentPlanPage() {
  const [processSteps, setProcessSteps] = useState([]);
  
  useEffect(() => {
    // APIì—ì„œ ê³µì • ë‹¨ê³„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    fetchProcessSteps();
  }, []);
  
  return (
    <div className="development-plan-page">
      <h2>ê°œë°œê³„íš ë° ì§„í–‰í˜„í™©</h2>
      
      {/* ì§„ë„ìœ¨ ì‹œê°í™” */}
      <ProgressVisualization processSteps={processSteps} />
      
      {/* ì§„ë„ ê´€ë¦¬ í…Œì´ë¸” */}
      <ProcessStepsTable steps={processSteps} />
    </div>
  );
}
```

#### ìë™ ì…ë ¥ í•­ëª© ê³„ì‚° ë¡œì§

```javascript
// ê°œë°œê³„íš ìƒì„± ì‹œ ìë™ í•­ëª© ê³„ì‚°
async function createDevelopmentPlan(moldSpecificationId, manualInputs) {
  const spec = await MoldSpecification.findByPk(moldSpecificationId);
  
  // 1. ì°¨ì¢…, í’ˆë²ˆ, í’ˆëª… - ì œì‘ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬
  const car_model = spec.car_model;
  const part_number = spec.part_number;
  const part_name = spec.part_name;
  
  // 2. ì œì‘ì¼ì • ì½”ë“œ ìë™ ê³„ì‚° (D+ì¼ìˆ˜)
  const orderDate = new Date(spec.order_date);
  const targetDate = new Date(spec.target_delivery_date);
  const daysDiff = Math.ceil((targetDate - orderDate) / (1000 * 60 * 60 * 24));
  const schedule_code = `D+${daysDiff}`;
  
  // 3. ìˆ˜ì¶œë¥  ìë™ ê³„ì‚° (ì™„ë£Œ ë‹¨ê³„ / ì „ì²´ ë‹¨ê³„)
  const completed = manualInputs.completed_steps || 0;
  const total = 12;
  const export_rate = `${completed}/${total * 1000}`;  // ì˜ˆ: "6/1000"
  
  // ê°œë°œê³„íš ìƒì„±
  const plan = await MoldDevelopmentPlan.create({
    mold_specification_id: moldSpecificationId,
    
    // ìë™ ì…ë ¥
    car_model,
    part_number,
    part_name,
    schedule_code,
    export_rate,
    
    // ìˆ˜ë™ ì…ë ¥
    ...manualInputs,
    
    total_steps: 12,
    status: 'planning'
  });
  
  return plan;
}

// ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ ì‹œ ìˆ˜ì¶œë¥  ìë™ ì¬ê³„ì‚°
async function updateProgress(planId, completedSteps) {
  const plan = await MoldDevelopmentPlan.findByPk(planId);
  
  // ìˆ˜ì¶œë¥  ì¬ê³„ì‚°
  const export_rate = `${completedSteps}/${plan.total_steps * 1000}`;
  const overall_progress = Math.round((completedSteps / plan.total_steps) * 100);
  
  await plan.update({
    completed_steps: completedSteps,
    export_rate,
    overall_progress
  });
}
```

#### ìë™ ì…ë ¥ í•­ëª© ì„¤ëª…

| í•­ëª© | ê³„ì‚° ë°©ì‹ | ì˜ˆì‹œ |
|------|----------|------|
| ì°¨ì¢… | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì˜ `car_model` ë³µì‚¬ | "GV80" |
| í’ˆë²ˆ | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì˜ `part_number` ë³µì‚¬ | "P-2024-001" |
| í’ˆëª… | ê¸ˆí˜•ì œì‘ì‚¬ì–‘ì˜ `part_name` ë³µì‚¬ | "ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤ ê¸ˆí˜•" |
| ì œì‘ì¼ì • | `D + (ëª©í‘œë‚©ê¸°ì¼ - ë°œì£¼ì¼)` | "D+144" (144ì¼) |
| ìˆ˜ì¶œë¥  | `ì™„ë£Œë‹¨ê³„ / (ì „ì²´ë‹¨ê³„ Ã— 1000)` | "6/1000" (6ë‹¨ê³„ ì™„ë£Œ) |

---

### 2. ê¸ˆí˜•ì œì‘ì²˜ ì…ë ¥ í•­ëª©

**ë‹´ë‹¹**: ê¸ˆí˜•ì œì‘ì²˜ ì‘ì—…ì  
**ì…ë ¥ ì‹œì **: ì œì‘ ì§„í–‰ ì¤‘ ë° ì™„ë£Œ ì‹œ  
**í…Œì´ë¸”**: `maker_specifications`

#### ì…ë ¥ í•­ëª©

```javascript
{
  // === ë³¸ì‚¬ ì…ë ¥ í•­ëª© (ì½ê¸° ì „ìš©) ===
  part_number: "P-2024-001",            // í’ˆë²ˆ (ìˆ˜ì • ë¶ˆê°€)
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",              // í’ˆëª… (ìˆ˜ì • ë¶ˆê°€)
  car_model: "GV80",                    // ì°¨ì¢… (ìˆ˜ì • ë¶ˆê°€)
  cavity_count: 2,                      // ìºë¹„í‹° ìˆ˜ëŸ‰ (ìˆ˜ì • ë¶ˆê°€)
  gate_count: 4,                        // ê²Œì´íŠ¸ ìˆ˜ëŸ‰ (ìˆ˜ì • ë¶ˆê°€)
  
  // === ê¸ˆí˜• ì‚¬ì´ì¦ˆ ë° ì¤‘ëŸ‰ ===
  mold_size_length: 1200,               // ê¸ˆí˜• ì‚¬ì´ì¦ˆ - ê¸¸ì´ (mm)
  mold_size_width: 800,                 // ê¸ˆí˜• ì‚¬ì´ì¦ˆ - í­ (mm)
  mold_size_height: 600,                // ê¸ˆí˜• ì‚¬ì´ì¦ˆ - ë†’ì´ (mm)
  mold_weight: 3500,                    // ê¸ˆí˜• ì¤‘ëŸ‰ (kg)
  
  // === ì œì‘ì²˜ ì…ë ¥ í•­ëª© ===
  clamping_force: 850,                  // í˜•ì²´ë ¥ (ton)
  recommended_injection_tonnage: 850,   // ê¶Œì¥ì‚¬ì¶œê¸° í†¤ìˆ˜ (ton)
  actual_material_upper: "NAK80",       // ì‹¤ì œ ì‚¬ìš© ì¬ì§ˆ - ìƒí˜•
  actual_material_lower: "NAK80",       // ì‹¤ì œ ì‚¬ìš© ì¬ì§ˆ - í•˜í˜•
  core_material: "NAK80",               // ì½”ì–´ ì¬ì§ˆ
  cavity_material: "NAK80",             // ìºë¹„í‹° ì¬ì§ˆ
  
  // === ê²½ë„ ì¸¡ì • ê²°ê³¼ ===
  hardness_upper_mold: "HRC 40-42",     // ìƒí˜• ê¸ˆí˜• ê²½ë„
  hardness_lower_mold: "HRC 40-42",     // í•˜í˜• ê¸ˆí˜• ê²½ë„
  hardness_test_date: "2024-06-10",     // ê²½ë„ ì¸¡ì •ì¼
  hardness_test_report: "url_to_pdf",   // ê²½ë„ ì¸¡ì • ì„±ì ì„œ
  
  // === êµ¬ì¡° ì •ë³´ ===
  cooling_type: "ì›Œí„° ëƒ‰ê°",            // ëƒ‰ê° ë°©ì‹
  ejection_type: "ì—ì í„° í•€",           // ì´ì í„° ë°©ì‹
  hot_runner: true,                     // í•«ëŸ¬ë„ˆ ìœ ë¬´
  slide_count: 2,                       // ìŠ¬ë¼ì´ë“œ ê°œìˆ˜
  lifter_count: 4,                      // ë¦¬í”„í„° ê°œìˆ˜
  
  // === ì„±ëŠ¥ ì •ë³´ ===
  cycle_time: 45,                       // ì‚¬ì´í´ íƒ€ì„ (ì´ˆ)
  max_shots: 1000000,                   // ìµœëŒ€ íƒ€ìˆ˜
  
  // === ì œì‘ ì§„í–‰ ===
  production_progress: 30,              // ì§„í–‰ë¥  (%)
  current_stage: "ì„¤ê³„ ì™„ë£Œ",           // í˜„ì¬ ë‹¨ê³„
  
  // === ë„ë©´ ë° ì‚¬ì§„ ===
  drawings: ["url1", "url2"],           // ë„ë©´ íŒŒì¼
  production_images: ["url3", "url4"],  // ì œì‘ ì‚¬ì§„
  
  // === ìƒí•˜í˜• ì‚¬ì§„ (í•„ìˆ˜) ===
  upper_mold_images: ["url5", "url6"],  // ìƒí˜• ì‚¬ì§„
  lower_mold_images: ["url7", "url8"],  // í•˜í˜• ì‚¬ì§„
  
  // === ì²¨ë¶€ ìë£Œ (í•„ìˆ˜) ===
  mold_parameter_sheet: "url_to_pdf",   // ê¸ˆí˜•ì¸ìí‘œ
  molding_analysis: "url_to_pdf",       // ì„±í˜•í•´ì„ ìë£Œ
  trial_shot_result: "url_to_pdf",      // ì´ˆë„ì‚¬ì¶œ T/O ê²°ê³¼
  
  // === ì™„ë£Œ ì •ë³´ ===
  completed: false,                     // ì™„ë£Œ ì—¬ë¶€
  completed_date: null,                 // ì™„ë£Œì¼
  actual_cost: 48000000,                // ì‹¤ì œ ì œì‘ ë¹„ìš©
  
  updated_by: 5,                        // ìˆ˜ì •ì (ì‹œìŠ¤í…œ ìë™)
  updated_at: "2024-03-15T14:30:00Z"    // ìˆ˜ì •ì¼ (ì‹œìŠ¤í…œ ìë™)
}
```

---

### 3. ìƒì‚°ì²˜ ì…ë ¥ í•­ëª©

**ë‹´ë‹¹**: ìƒì‚°ì²˜ ì‘ì—…ì  
**ì…ë ¥ ì‹œì **: ê¸ˆí˜• ë°°ì • í›„ ìƒì‚° ì¤‘  
**í…Œì´ë¸”**: `plant_molds`, `daily_checks`

#### ì…ë ¥ í•­ëª©

```javascript
{
  // === ê¸ˆí˜• ë§ˆìŠ¤í„° ì •ë³´ (ì½ê¸° ì „ìš©) ===
  mold_code: "M-2024-001",              // ê¸ˆí˜• ì½”ë“œ (ìˆ˜ì • ë¶ˆê°€)
  mold_name: "GV80 í”„ë¡ íŠ¸ ë²”í¼",        // ê¸ˆí˜•ëª… (ìˆ˜ì • ë¶ˆê°€)
  part_number: "P-2024-001",            // í’ˆë²ˆ (ìˆ˜ì • ë¶ˆê°€)
  
  // === ìƒì‚°ì²˜ ì…ë ¥ í•­ëª© ===
  production_line: "Line 1",            // ìƒì‚° ë¼ì¸
  injection_machine: "850T-01",         // ì‚¬ì¶œê¸° ë²ˆí˜¸
  current_shots: 50000,                 // í˜„ì¬ íƒ€ìˆ˜ (ìë™ ëˆ„ì )
  production_quantity: 5000,            // ìƒì‚° ìˆ˜ëŸ‰
  
  // === ì¼ìƒì ê²€ ì‹œ ì…ë ¥ ===
  daily_production: 500,                // ì¼ì¼ ìƒì‚°ëŸ‰
  temperature: 180,                     // ì˜¨ë„
  pressure: 120,                        // ì••ë ¥
  
  // === ì‚¬ì¶œ ì¡°ê±´ ===
  injection_conditions: {
    temperature: [180, 190, 200],       // ì˜¨ë„ ì¡°ê±´
    pressure: [120, 130, 140],          // ì••ë ¥ ì¡°ê±´
    speed: [50, 60, 70]                 // ì†ë„ ì¡°ê±´
  }
}
```

---

### 4. ìë™ ì…ë ¥ í•­ëª© (ì‹œìŠ¤í…œ)

**ë‹´ë‹¹**: ì‹œìŠ¤í…œ ìë™ ì²˜ë¦¬  
**ì…ë ¥ ì‹œì **: ë°ì´í„° íë¦„ ê° ë‹¨ê³„ì—ì„œ ìë™

#### ìë™ ì…ë ¥ í•­ëª©

```javascript
{
  // === ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ìƒì„± í•­ëª© ===
  mold_code: "M-2024-001",              // ê¸ˆí˜• ì½”ë“œ (ìë™ ìƒì„±)
  mold_name: "GV80 í”„ë¡ íŠ¸ ë²”í¼",        // ê¸ˆí˜•ëª… (ìë™ ì¡°í•©)
  
  // === ë³¸ì‚¬ ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ ===
  part_number: "P-2024-001",            // í’ˆë²ˆ
  part_name: "í”„ë¡ íŠ¸ ë²”í¼",              // í’ˆëª…
  car_model: "GV80",                    // ì°¨ì¢…
  car_year: "2024",                     // ë…„ì‹
  development_stage: "ì‹œì‘",            // êµ¬ë¶„
  production_stage: "ì–‘ì‚°",             // ìƒì‚° ë‹¨ê³„
  
  // === ì œì‘ì²˜ ì‚¬ì–‘ì—ì„œ ìë™ ë³µì‚¬ ===
  cavity: 2,                            // ìºë¹„í‹° ìˆ˜
  material: "NAK80",                    // ì¬ì§ˆ
  tonnage: 850,                         // í†¤ìˆ˜
  maker_id: 5,                          // ì œì‘ì²˜ ID
  manufacturing_date: "2024-06-15",     // ì œì‘ ì™„ë£Œì¼
  target_shots: 1000000,                // ëª©í‘œ íƒ€ìˆ˜
  cycle_time: 45,                       // ì‚¬ì´í´ íƒ€ì„
  
  // === ìƒíƒœ ì •ë³´ (ì‹œìŠ¤í…œ ê´€ë¦¬) ===
  status: "ready",                      // ê¸ˆí˜• ìƒíƒœ
  current_location: "maker",            // í˜„ì¬ ìœ„ì¹˜
  plant_id: null,                       // ë°°ì •ëœ ìƒì‚°ì²˜
  
  // === ì—°ë™ ì •ë³´ ===
  specification_id: 1,                  // ë³¸ì‚¬ ì‚¬ì–‘ ID
  maker_specification_id: 1,            // ì œì‘ì²˜ ì‚¬ì–‘ ID
  external_system_id: "ERP-2024-001",   // ì™¸ë¶€ ì‹œìŠ¤í…œ ID
  
  // === íƒ€ì„ìŠ¤íƒ¬í”„ ===
  created_at: "2024-06-15T10:00:00Z",   // ìƒì„±ì¼
  updated_at: "2024-06-15T10:00:00Z"    // ìˆ˜ì •ì¼
}
```

---

### ì…ë ¥ í•­ëª© ë§¤íŠ¸ë¦­ìŠ¤

| í•­ëª© | ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹ | ê¸ˆí˜•ì œì‘ì²˜ | ìƒì‚°ì²˜ | ì‹œìŠ¤í…œ ìë™ |
|------|--------------|-----------|--------|------------|
| ëŒ€ìƒ ì°¨ì¢… | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ë…„ì‹ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| í’ˆë²ˆ (ì£¼) | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| í’ˆëª… (ì£¼) | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ë™ì‹œ ì œì‘ í’ˆë²ˆ | âœ… ì…ë ¥ (ì„ íƒ) | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| êµ¬ë¶„ (ì‹œì‘/ì–‘ì‚°) | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜•ì œì‘ì²˜ | âœ… ì„ íƒ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ì–‘ì‚°ì²˜ | âœ… ì„ íƒ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| íˆ¬ìë¹„ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜• íƒ€ì… | âœ… ì…ë ¥ | ìˆ˜ì • ê°€ëŠ¥ | ì½ê¸° | ë³µì‚¬ |
| ìºë¹„í‹° ìˆ˜ëŸ‰ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê²Œì´íŠ¸ ìˆ˜ëŸ‰ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜•ì¬ì§ˆ(ìƒí˜•) | âœ… ì…ë ¥ | âœ… ì‹¤ì œê°’ ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜•ì¬ì§ˆ(í•˜í˜•) | âœ… ì…ë ¥ | âœ… ì‹¤ì œê°’ ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| í•«ëŸ°ë„ˆ ì‚¬ìš©ìœ ë¬´ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜•ìˆ˜ì¶•ìœ¨ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê°œë°œí’ˆ ì‚¬ì§„ | âœ… ì—…ë¡œë“œ (ì„ íƒ) | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| í†¤ìˆ˜ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜• ì‚¬ì´ì¦ˆ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ê¸ˆí˜• ì¤‘ëŸ‰ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| í˜•ì²´ë ¥ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ê¶Œì¥ì‚¬ì¶œê¸° í†¤ìˆ˜ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ìƒí˜• ê²½ë„ | - | âœ… ì…ë ¥ (í•„ìˆ˜) | ì½ê¸° | ë³µì‚¬ |
| í•˜í˜• ê²½ë„ | - | âœ… ì…ë ¥ (í•„ìˆ˜) | ì½ê¸° | ë³µì‚¬ |
| ê²½ë„ ì¸¡ì •ì¼ | - | âœ… ì…ë ¥ (í•„ìˆ˜) | ì½ê¸° | ë³µì‚¬ |
| ê²½ë„ ì¸¡ì • ì„±ì ì„œ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| ìƒí˜• ì‚¬ì§„ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| í•˜í˜• ì‚¬ì§„ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| ê¸ˆí˜•ì¸ìí‘œ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| ì„±í˜•í•´ì„ ìë£Œ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| ì´ˆë„ì‚¬ì¶œ T/O ê²°ê³¼ | - | âœ… ì—…ë¡œë“œ (í•„ìˆ˜) | ì½ê¸° | - |
| ì œì‘ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ | - | âœ… ì‘ì„± (í•„ìˆ˜) | ì½ê¸° | - |
| ë°œì£¼ì¼ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | - |
| ëª©í‘œ ë‚©ê¸°ì¼ | âœ… ì…ë ¥ | ì½ê¸° | ì½ê¸° | - |
| ì‹¤ì œ ë‚©ê¸°ì¼ | - | âœ… ì…ë ¥ | ì½ê¸° | ìë™ |
| ì œì‘ ì§„í–‰ë¥  | - | âœ… ì…ë ¥ | ì½ê¸° | - |
| êµ¬ì¡° ì •ë³´ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ì„±ëŠ¥ ì •ë³´ | - | âœ… ì…ë ¥ | ì½ê¸° | ë³µì‚¬ |
| ë„ë©´/ì‚¬ì§„ | - | âœ… ì—…ë¡œë“œ | ì½ê¸° | - |
| ìƒì‚° ë¼ì¸ | - | - | âœ… ì…ë ¥ | - |
| ì‚¬ì¶œê¸° ë²ˆí˜¸ | - | - | âœ… ì…ë ¥ | - |
| í˜„ì¬ íƒ€ìˆ˜ | - | - | âœ… ì…ë ¥ | ìë™ ëˆ„ì  |
| ì¼ì¼ ìƒì‚°ëŸ‰ | - | - | âœ… ì…ë ¥ | - |
| ì‚¬ì¶œ ì¡°ê±´ | - | - | âœ… ì…ë ¥ | - |
| ê¸ˆí˜• ì½”ë“œ | - | - | - | âœ… ìë™ ìƒì„± |
| ê¸ˆí˜• ìƒíƒœ | - | - | - | âœ… ìë™ ê´€ë¦¬ |

---

### ë°ì´í„° íë¦„ ìš”ì•½

```
[ê¸ˆí˜•ê°œë°œ ë‹´ë‹¹]
  ì…ë ¥: ì°¨ì¢…, ë…„ì‹, í’ˆë²ˆ, í’ˆëª…, êµ¬ë¶„, ì œì‘ì²˜, ì–‘ì‚°ì²˜, íˆ¬ìë¹„, ì¼ì •,
        ìºë¹„í‹°ìˆ˜ëŸ‰, ê²Œì´íŠ¸ìˆ˜ëŸ‰, ê¸ˆí˜•ì¬ì§ˆ(ìƒí˜•/í•˜í˜•), í•«ëŸ°ë„ˆì‚¬ìš©ìœ ë¬´, ê¸ˆí˜•ìˆ˜ì¶•ìœ¨, ê°œë°œí’ˆì‚¬ì§„
    â†“
[ê¸ˆí˜•ì œì‘ì‚¬ì–‘ í…Œì´ë¸”]
    â†“ ìë™ ì „ì†¡
[ê¸ˆí˜•ì œì‘ì²˜]
  ì…ë ¥: ê¸ˆí˜•ì‚¬ì´ì¦ˆ, ì¤‘ëŸ‰, í˜•ì²´ë ¥, ê¶Œì¥ì‚¬ì¶œê¸°í†¤ìˆ˜, ì‹¤ì œì¬ì§ˆ, êµ¬ì¡°, ì„±ëŠ¥, ë„ë©´, ì§„í–‰ë¥ 
    â†“
[ì œì‘ì²˜ ì‚¬ì–‘ í…Œì´ë¸”]
    â†“ ì œì‘ ì™„ë£Œ ì „ í•„ìˆ˜ ìë£Œ ì œì¶œ
[ì œì‘ì™„ë£Œ í•„ìˆ˜ ìë£Œ]
  1. ê²½ë„ ì¸¡ì •: ìƒí˜• ê²½ë„, í•˜í˜• ê²½ë„, ì¸¡ì •ì¼, ì¸¡ì • ì„±ì ì„œ
  2. ìƒí•˜í˜• ì‚¬ì§„: ìƒí˜• ì‚¬ì§„, í•˜í˜• ì‚¬ì§„
  3. ê¸°ìˆ  ìë£Œ: ê¸ˆí˜•ì¸ìí‘œ, ì„±í˜•í•´ì„, ì´ˆë„ì‚¬ì¶œ T/O ê²°ê³¼
    â†“ ëª¨ë“  ìë£Œ ì œì¶œ í›„ ìë™ ìƒì„±
[ì œì‘ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸]
  ìë™: ê²½ë„ ì¸¡ì • ê²°ê³¼ í¬í•¨, 8ê°œ ì¹´í…Œê³ ë¦¬ ì ê²€
    â†“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¹ì¸ í›„
[ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ìƒì„±]
  ìë™: ê¸ˆí˜•ì½”ë“œ, ê¸°ë³¸ì •ë³´, ì‚¬ì–‘ì •ë³´ (í†µí•©)
    â†“ ìƒì‚°ì²˜ ë°°ì • ì‹œ ìë™ ì „ì†¡
[ìƒì‚°ì²˜]
  ì…ë ¥: ìƒì‚°ë¼ì¸, ì‚¬ì¶œê¸°, íƒ€ìˆ˜, ìƒì‚°ëŸ‰, ì¡°ê±´
    â†“ ì‹¤ì‹œê°„ ìë™ ì—…ë°ì´íŠ¸
[ê¸ˆí˜• ë§ˆìŠ¤í„° ì—…ë°ì´íŠ¸]
```

---

### Step 5: ìë™ ì—°ë™ â†’ ìƒì‚°ì²˜ ëŒ€ì‹œë³´ë“œ

**íŠ¸ë¦¬ê±°**: ë³¸ì‚¬ì—ì„œ ìƒì‚°ì²˜ ë°°ì • ì‹œ (`plant_id` ì„¤ì •)
**í…Œì´ë¸”**: `plant_molds` (ì‹ ê·œ)

#### ìƒì‚°ì²˜ ë°°ì • ë° ì—°ë™

```javascript
async function assignToPlant(moldId, plantId) {
  const mold = await Mold.findByPk(moldId);
  
  // 1. ê¸ˆí˜• ë§ˆìŠ¤í„° ì—…ë°ì´íŠ¸
  await mold.update({
    plant_id: plantId,
    current_location: 'plant',
    status: 'in_production'
  });
  
  // 2. ìƒì‚°ì²˜ ëŒ€ì‹œë³´ë“œ ë ˆì½”ë“œ ìƒì„±
  const plantMold = await PlantMold.create({
    mold_id: moldId,
    plant_id: plantId,
    
    // ê¸ˆí˜• ë§ˆìŠ¤í„° ì •ë³´ ë³µì‚¬ (ì½ê¸° ì „ìš©)
    mold_code: mold.mold_code,
    mold_name: mold.mold_name,
    part_number: mold.part_number,
    part_name: mold.part_name,
    car_model: mold.car_model,
    cavity: mold.cavity,
    target_shots: mold.target_shots,
    
    // ìƒì‚°ì²˜ ì…ë ¥ í•­ëª© (ì´ˆê¸°ê°’ null)
    current_shots: 0,
    production_quantity: 0,
    production_line: null,
    injection_machine: null,
    
    // ìƒíƒœ
    status: 'assigned',
    assigned_date: new Date(),
    
    synced_from_master: true,
    synced_at: new Date()
  });
  
  // 3. ìƒì‚°ì²˜ì— ì•Œë¦¼
  await Notification.create({
    user_id: plantId,
    type: 'mold_assigned',
    title: 'ìƒˆë¡œìš´ ê¸ˆí˜• ë°°ì •',
    message: `${mold.mold_name} ê¸ˆí˜•ì´ ë°°ì •ë˜ì—ˆìŠµë‹ˆë‹¤.`,
    related_id: moldId
  });
  
  return plantMold;
}
```

---

### Step 6: ìƒì‚°ì²˜ - ìƒì‚° ì •ë³´ ì…ë ¥

**ë‹´ë‹¹**: ìƒì‚°ì²˜ ì‘ì—…ì
**í…Œì´ë¸”**: `plant_molds`, `daily_checks`

#### ìƒì‚°ì²˜ ì…ë ¥ í•­ëª©

```javascript
{
  // ê¸ˆí˜• ë§ˆìŠ¤í„° ì •ë³´ (ì½ê¸° ì „ìš©)
  mold_code: "M-2024-001",
  mold_name: "GV80 í”„ë¡ íŠ¸ ë²”í¼",
  part_number: "P-2024-001",
  
  // ìƒì‚°ì²˜ ì…ë ¥ í•­ëª©
  production_line: "Line 1",
  injection_machine: "850T-01",
  current_shots: 50000,
  production_quantity: 5000,
  
  // ì¼ìƒì ê²€ ì‹œ ì…ë ¥
  daily_production: 500,
  temperature: 180,
  pressure: 120,
  
  // ì‚¬ì¶œ ì¡°ê±´
  injection_conditions: {
    temperature: [180, 190, 200],
    pressure: [120, 130, 140],
    speed: [50, 60, 70]
  }
}
```

---

### Step 7: ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ì—…ë°ì´íŠ¸

**íŠ¸ë¦¬ê±°**: ìƒì‚°ì²˜ì—ì„œ ë°ì´í„° ì…ë ¥ ì‹œ
**ë°©í–¥**: ìƒì‚°ì²˜ â†’ ê¸ˆí˜• ë§ˆìŠ¤í„°

#### ìë™ ì—…ë°ì´íŠ¸ ë¡œì§

```javascript
// ì¼ìƒì ê²€ ì‹œ ìë™ ì—…ë°ì´íŠ¸
async function updateMoldMasterFromPlant(dailyCheckId) {
  const dailyCheck = await DailyCheck.findByPk(dailyCheckId);
  const mold = await Mold.findByPk(dailyCheck.mold_id);
  
  // 1. íƒ€ìˆ˜ ì—…ë°ì´íŠ¸
  const shots = await Shot.findOne({ where: { mold_id: mold.id } });
  const newTotalShots = shots.count_total + dailyCheck.production_quantity;
  
  await shots.update({
    count_total: newTotalShots,
    count_daily: dailyCheck.production_quantity,
    last_updated: new Date()
  });
  
  // 2. ê¸ˆí˜• ë§ˆìŠ¤í„° ì—…ë°ì´íŠ¸
  await mold.update({
    current_shots: newTotalShots,
    last_production_date: dailyCheck.check_date,
    updated_at: new Date()
  });
  
  // 3. ìƒì‚°ì²˜ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
  const plantMold = await PlantMold.findOne({
    where: {
      mold_id: mold.id,
      plant_id: dailyCheck.user.plant_id
    }
  });
  
  await plantMold.update({
    current_shots: newTotalShots,
    production_quantity: plantMold.production_quantity + dailyCheck.production_quantity,
    last_production_date: dailyCheck.check_date,
    synced_to_master: true,
    last_sync_date: new Date()
  });
  
  // 4. íƒ€ìˆ˜ ì„ê³„ì¹˜ í™•ì¸ ë° ì•Œë¦¼
  if (newTotalShots >= mold.target_shots * 0.9) {
    await Notification.create({
      user_id: mold.maker_id,
      type: 'shots_threshold',
      title: 'íƒ€ìˆ˜ ì„ê³„ì¹˜ ë„ë‹¬',
      message: `${mold.mold_name} ê¸ˆí˜•ì´ ìˆ˜ëª…ì˜ 90%ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤.`,
      mold_id: mold.id,
      priority: 'high'
    });
  }
}
```

---

## ğŸ“Š ê¸ˆí˜• ë¬¸ì œì  ê°œì„  í˜„í™© ê´€ë¦¬

### Step 6: ê¸ˆí˜• ë¬¸ì œì  ê°œì„  í˜„í™© ê´€ë¦¬ ì‹œìŠ¤í…œ

**ë‹´ë‹¹**: ê¸ˆí˜•ì œì‘ì²˜, ìƒì‚°ì²˜, CAMS ê¸ˆí˜•ê°œë°œë‹´ë‹¹ì  
**í…Œì´ë¸”**: `mold_issues`, `trial_order_history`, `car_models`, `items`, `car_model_items`  
**ì‹œì **: ê¸ˆí˜• ì œì‘ ì™„ë£Œ í›„ ì´ˆë„ T/Oë¶€í„° ì–‘ì‚° ë‹¨ê³„ê¹Œì§€

#### í”„ë¡œì„¸ìŠ¤ ê°œìš”

```
[ê¸ˆí˜• ì œì‘ ì™„ë£Œ]
    â†“
[ê¸ˆí˜•ì œì‘ì²˜ T/O]
    â”œâ”€ PROTO (ì‹œì œí’ˆ) â†’ ë¬¸ì œì  ë°œê²¬ ë° ë“±ë¡
    â”œâ”€ P1 (1ì°¨ ì‹œì œí’ˆ) â†’ ê°œì„  ëŒ€ì±… ìˆ˜ë¦½
    â””â”€ P2 (2ì°¨ ì‹œì œí’ˆ) â†’ ê°œì„  ì™„ë£Œ ë° ê²€ì¦
    â†“
[ìƒì‚°ì²˜ ì¸ìˆ˜]
    â†“
[ìƒì‚°ì²˜ T/O]
    â”œâ”€ T1 (1ì°¨ ì‹œí—˜ìƒì‚°) â†’ ë¬¸ì œì  ë°œê²¬ ë° ë“±ë¡
    â”œâ”€ T2 (2ì°¨ ì‹œí—˜ìƒì‚°) â†’ ê°œì„  ì§„í–‰
    â”œâ”€ M (ì–‘ì‚° ì¤€ë¹„) â†’ ìµœì¢… ê²€ì¦
    â””â”€ SOP (ì–‘ì‚° ì‹œì‘) â†’ ì§€ì†ì  ëª¨ë‹ˆí„°ë§
    â†“
[ê¸ˆí˜• ìœ¡ì„± ì™„ë£Œ]
    â†“
[ì–‘ì‚° ë‹¨ê³„ ë¬¸ì œì  ê´€ë¦¬]
```

#### T/O ì¥ì†Œ ë° ì´ë²¤íŠ¸ êµ¬ë¶„

**T/O ì¥ì†Œ (Location)**
- **ê¸ˆí˜•ì œì‘ì²˜**: ê¸ˆí˜• ì œì‘ ì—…ì²´ì—ì„œ ì‹¤ì‹œí•˜ëŠ” T/O
- **ìƒì‚°ì²˜**: ì‹¤ì œ ìƒì‚° ê³µì¥ì—ì„œ ì‹¤ì‹œí•˜ëŠ” T/O

**T/O ì´ë²¤íŠ¸ ë‹¨ê³„ (Event Stage) - ëª¨ë“  ì´ë²¤íŠ¸ëŠ” T/O ì¥ì†Œì™€ ë¬´ê´€í•˜ê²Œ ì„ íƒ ê°€ëŠ¥**
- **PROTO**: ì‹œì œí’ˆ - ìµœì´ˆ ê¸ˆí˜• ì‹œí—˜, ê¸°ë³¸ ê¸°ëŠ¥ í™•ì¸
- **P1**: 1ì°¨ ì‹œì œí’ˆ - PROTO ê°œì„  í›„ ì¬ì‹œí—˜, ì¹˜ìˆ˜ ì •ë°€ë„ í™•ì¸
- **P2**: 2ì°¨ ì‹œì œí’ˆ - P1 ê°œì„  í›„ ìµœì¢… ì‹œí—˜, ìƒì‚°ì²˜ ì¸ìˆ˜ ì¤€ë¹„
- **T1**: 1ì°¨ ì‹œí—˜ìƒì‚° - ìƒì‚° ì„¤ë¹„ ì í•©ì„± í™•ì¸, ì´ˆê¸° ë¬¸ì œì  íŒŒì•…
- **T2**: 2ì°¨ ì‹œí—˜ìƒì‚° - T1 ê°œì„  í›„ ì¬ì‹œí—˜, ìƒì‚° ì•ˆì •ì„± í™•ì¸
- **M**: ì–‘ì‚° ì¤€ë¹„ - ì–‘ì‚° ì „ ìµœì¢… ì ê²€, ëŒ€ëŸ‰ ìƒì‚° ì¤€ë¹„
- **SOP**: ì–‘ì‚° ì‹œì‘ (Start Of Production) - ì •ì‹ ì–‘ì‚° ê°œì‹œ
- **PRODUCTION**: ì–‘ì‚° ì¤‘ - ì–‘ì‚° ë‹¨ê³„ì—ì„œ ë°œìƒí•œ ë¬¸ì œì  ë° ê¸ˆí˜• ìˆ˜ë¦¬

**ì°¸ê³ **: T/O ì¥ì†Œì™€ ì´ë²¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê¸ˆí˜•ì œì‘ì²˜ì—ì„œ T1 ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œí•˜ê±°ë‚˜ ìƒì‚°ì²˜ì—ì„œ P2 ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–‘ì‚° ë‹¨ê³„(PRODUCTION)ëŠ” ê¸ˆí˜• ìˆ˜ë¦¬ ê²°ê³¼ë¥¼ ë¬¸ì œì  ë§ˆìŠ¤í„°ì— ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ë¬¸ì œì  ë“±ë¡ ë° ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤

```javascript
// 1. ë¬¸ì œì  ë“±ë¡
async function registerMoldIssue(issueData) {
  const issue = await MoldIssue.create({
    issue_id: generateIssueId(),  // ISS-2024-001
    mold_id: issueData.mold_id,
    
    // ì°¨ì¢…/ì•„ì´í…œ ì •ë³´ (ë§ˆìŠ¤í„° ì—°ë™)
    car_model_id: issueData.car_model_id,
    item_id: issueData.item_id,
    
    // T/O ì •ë³´
    to_location: issueData.to_location,  // T/O ì¥ì†Œ: 'maker' or 'production'
    to_stage: issueData.to_stage,        // T/O ì´ë²¤íŠ¸: PROTO, P1, P2, T1, T2, M, SOP (ì¥ì†Œì™€ ë¬´ê´€)
    to_date: issueData.to_date,
    
    // ë¬¸ì œì  ì •ë³´
    issue_category: issueData.issue_category,
    issue_type: issueData.issue_type,
    issue_description: issueData.issue_description,
    severity: issueData.severity,    // low, medium, high, critical
    
    // ë‹´ë‹¹ì ì§€ì •
    responsible_person: issueData.responsible_person,
    responsible_company: issueData.responsible_company,
    
    // ì¼ì •
    target_completion_date: issueData.target_completion_date,
    
    status: 'registered',
    created_by: userId
  });
  
  // ì´ë ¥ ê¸°ë¡
  await addIssueHistory(issue.id, 'registered', 'ë¬¸ì œì  ë“±ë¡');
  
  // ë‹´ë‹¹ìì—ê²Œ ì•Œë¦¼
  await notifyResponsiblePerson(issue);
  
  return issue;
}

// 2. ê°œì„  ëŒ€ì±… ìˆ˜ë¦½
async function setImprovementPlan(issueId, planData) {
  const issue = await MoldIssue.findByPk(issueId);
  
  await issue.update({
    improvement_plan: planData.improvement_plan,
    improvement_method: planData.improvement_method,
    improvement_cost: planData.improvement_cost,
    status: 'in_progress',
    progress_rate: 10
  });
  
  await addIssueHistory(issueId, 'plan_set', 'ê°œì„  ëŒ€ì±… ìˆ˜ë¦½');
  
  return issue;
}

// 3. ê°œì„  ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
async function updateIssueProgress(issueId, progressData) {
  const issue = await MoldIssue.findByPk(issueId);
  
  await issue.update({
    progress_rate: progressData.progress_rate,
    status: progressData.progress_rate === 100 ? 'completed' : 'in_progress'
  });
  
  await addIssueHistory(
    issueId, 
    'progress_updated', 
    `ì§„í–‰ë¥  ${progressData.progress_rate}% ì—…ë°ì´íŠ¸`
  );
  
  // ì™„ë£Œ ì‹œ ê²€ì¦ ìš”ì²­
  if (progressData.progress_rate === 100) {
    await requestVerification(issue);
  }
  
  return issue;
}

// 4. ê°œì„  ì™„ë£Œ ë° ê²€ì¦
async function verifyIssue(issueId, verificationData) {
  const issue = await MoldIssue.findByPk(issueId);
  
  await issue.update({
    verification_date: new Date(),
    verification_result: verificationData.result,  // 'pass' or 'fail'
    verified_by: verificationData.verified_by,
    actual_completion_date: verificationData.result === 'pass' ? new Date() : null,
    status: verificationData.result === 'pass' ? 'closed' : 'in_progress'
  });
  
  await addIssueHistory(
    issueId, 
    'verified', 
    `ê²€ì¦ ê²°ê³¼: ${verificationData.result}`
  );
  
  // ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì¬ì‘ì—… ì•Œë¦¼
  if (verificationData.result === 'fail') {
    await notifyRework(issue);
  }
  
  return issue;
}

// 5. T/O ì´ë ¥ ë“±ë¡
async function registerTrialOrder(toData) {
  const trialOrder = await TrialOrderHistory.create({
    mold_id: toData.mold_id,
    to_location: toData.to_location,    // T/O ì¥ì†Œ: 'maker' or 'production'
    to_stage: toData.to_stage,          // T/O ì´ë²¤íŠ¸: PROTO, P1, P2, T1, T2, M, SOP
    to_date: toData.to_date,
    to_place: toData.to_place,          // T/O ì‹¤ì‹œ ìƒì„¸ ì¥ì†Œ
    result: toData.result,
    total_issues: toData.total_issues,
    critical_issues: toData.critical_issues,
    participants: toData.participants,
    notes: toData.notes,
    created_by: userId
  });
  
  return trialOrder;
}
```

#### ì°¨ì¢…/ì•„ì´í…œ ë§ˆìŠ¤í„° ê´€ë¦¬

```javascript
// ì°¨ì¢… ë§ˆìŠ¤í„° ê´€ë¦¬
async function manageCarModels() {
  // ì°¨ì¢… ë“±ë¡
  const carModel = await CarModel.create({
    car_model_code: 'GV80',
    car_model_name: 'GV80',
    car_year: '2024',
    manufacturer: 'í˜„ëŒ€ìë™ì°¨',
    active: true
  });
  
  return carModel;
}

// ì•„ì´í…œ ë§ˆìŠ¤í„° ê´€ë¦¬
async function manageItems() {
  // ì•„ì´í…œ ë“±ë¡
  const item = await Item.create({
    item_code: 'BUMPER_FRONT',
    item_name: 'í”„ë¡ íŠ¸ ë²”í¼',
    item_category: 'ì™¸ì¥',
    active: true
  });
  
  return item;
}

// ì°¨ì¢…-ì•„ì´í…œ ë§¤í•‘
async function mapCarModelItem(carModelId, itemId, partData) {
  const mapping = await CarModelItem.create({
    car_model_id: carModelId,
    item_id: itemId,
    part_number: partData.part_number,
    part_name: partData.part_name,
    specification: partData.specification,
    active: true
  });
  
  return mapping;
}
```

#### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// ë¬¸ì œì  ê´€ë¦¬
POST   /api/mold-issues              // ë¬¸ì œì  ë“±ë¡
GET    /api/mold-issues              // ë¬¸ì œì  ëª©ë¡ ì¡°íšŒ
GET    /api/mold-issues/:id          // ë¬¸ì œì  ìƒì„¸ ì¡°íšŒ
PATCH  /api/mold-issues/:id          // ë¬¸ì œì  ìˆ˜ì •
DELETE /api/mold-issues/:id          // ë¬¸ì œì  ì‚­ì œ
POST   /api/mold-issues/:id/complete // ê°œì„  ì™„ë£Œ ì²˜ë¦¬
POST   /api/mold-issues/:id/verify   // ê²€ì¦ ì²˜ë¦¬

// T/O ì´ë ¥ ê´€ë¦¬
POST   /api/trial-orders             // T/O ì´ë ¥ ë“±ë¡
GET    /api/trial-orders             // T/O ì´ë ¥ ì¡°íšŒ

// ë§ˆìŠ¤í„° ê´€ë¦¬
GET    /api/car-models               // ì°¨ì¢… ëª©ë¡
POST   /api/car-models               // ì°¨ì¢… ë“±ë¡
PATCH  /api/car-models/:id           // ì°¨ì¢… ìˆ˜ì •
DELETE /api/car-models/:id           // ì°¨ì¢… ì‚­ì œ

GET    /api/items                    // ì•„ì´í…œ ëª©ë¡
POST   /api/items                    // ì•„ì´í…œ ë“±ë¡
PATCH  /api/items/:id                // ì•„ì´í…œ ìˆ˜ì •
DELETE /api/items/:id                // ì•„ì´í…œ ì‚­ì œ

GET    /api/car-model-items          // ì°¨ì¢…-ì•„ì´í…œ ë§¤í•‘ ì¡°íšŒ
POST   /api/car-model-items          // ì°¨ì¢…-ì•„ì´í…œ ë§¤í•‘ ë“±ë¡
```

**ìƒì„¸ ë‚´ìš©**: `MOLD_ISSUE_MANAGEMENT.md` ì°¸ì¡°

---

## ğŸ”„ ë‹¨ê³„ ë³€ê²½ ê´€ë¦¬

### ê°œë°œ â†’ ì–‘ì‚° ë‹¨ê³„ ì „í™˜

```javascript
async function changeDevelopmentStage(moldId, newStage) {
  const mold = await Mold.findByPk(moldId);
  
  // 1. ê¸ˆí˜• ë§ˆìŠ¤í„° ì—…ë°ì´íŠ¸
  await mold.update({
    development_stage: newStage,
    stage_changed_at: new Date()
  });
  
  // 2. ì´ë ¥ ê¸°ë¡
  await StageChangeHistory.create({
    mold_id: moldId,
    previous_stage: mold.development_stage,
    new_stage: newStage,
    changed_by: userId,
    changed_at: new Date(),
    reason: 'ì–‘ì‚° ì „í™˜'
  });
  
  // 3. ê´€ë ¨ ì‹œìŠ¤í…œ ì•Œë¦¼
  await notifyStageChange(mold, newStage);
}
```

---

## ğŸ”— ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ êµ¬ì¡°

### ë¶€í’ˆì •ë³´ ì‹œìŠ¤í…œ ì—°ë™

```javascript
// ì™¸ë¶€ ì‹œìŠ¤í…œì—ì„œ ê¸°ë³¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
async function syncFromExternalSystem(externalId) {
  // 1. ì™¸ë¶€ API í˜¸ì¶œ
  const externalData = await axios.get(
    `${EXTERNAL_API_URL}/parts/${externalId}`
  );
  
  // 2. ë°ì´í„° ë§¤í•‘
  const mappedData = {
    part_number: externalData.partNumber,
    part_name: externalData.partName,
    car_model: externalData.carModel,
    car_year: externalData.carYear,
    specifications: externalData.specifications,
    external_system_id: externalId,
    external_sync_enabled: true,
    last_sync_date: new Date()
  };
  
  // 3. ê¸ˆí˜• ì‚¬ì–‘ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸
  const spec = await MoldSpecification.findOne({
    where: { external_system_id: externalId }
  });
  
  if (spec) {
    await spec.update(mappedData);
  } else {
    await MoldSpecification.create(mappedData);
  }
  
  return mappedData;
}

// ì£¼ê¸°ì  ë™ê¸°í™”
async function scheduleExternalSync() {
  // ë§¤ì¼ ìì •ì— ì‹¤í–‰
  cron.schedule('0 0 * * *', async () => {
    const specs = await MoldSpecification.findAll({
      where: { external_sync_enabled: true }
    });
    
    for (const spec of specs) {
      await syncFromExternalSystem(spec.external_system_id);
    }
  });
}
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì¶”ê°€

### 1. mold_specifications (ë³¸ì‚¬ ê¸ˆí˜•ì œì‘ì‚¬ì–‘)

```sql
CREATE TABLE mold_specifications (
  id SERIAL PRIMARY KEY,
  
  -- ê¸°ë³¸ ì •ë³´ (ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™)
  part_number VARCHAR(50) NOT NULL,    -- ì£¼ í’ˆë²ˆ
  part_name VARCHAR(200) NOT NULL,     -- ì£¼ í’ˆëª…
  car_model VARCHAR(100),
  car_year VARCHAR(10),
  
  -- ë™ì‹œ ì œì‘ í’ˆë²ˆ (ë©€í‹° í’ˆë²ˆ ê¸ˆí˜•)
  additional_parts JSONB,              -- ì¶”ê°€ í’ˆë²ˆ ë°°ì—´
  /*
  [
    {
      "part_number": "P-2024-002",
      "part_name": "í”„ë¡ íŠ¸ ë²”í¼ ì¢Œì¸¡",
      "cavity_position": "1-2"
    }
  ]
  */
  is_multi_part_mold BOOLEAN DEFAULT FALSE, -- ë©€í‹° í’ˆë²ˆ ê¸ˆí˜• ì—¬ë¶€
  
  -- ê¸ˆí˜• ì‚¬ì–‘
  mold_type VARCHAR(50),
  cavity_count INTEGER NOT NULL,              -- ìºë¹„í‹° ìˆ˜ëŸ‰
  gate_count INTEGER,                         -- ê²Œì´íŠ¸ ìˆ˜ëŸ‰
  material_upper VARCHAR(100) NOT NULL,       -- ê¸ˆí˜•ì¬ì§ˆ - ìƒí˜•
  material_lower VARCHAR(100) NOT NULL,       -- ê¸ˆí˜•ì¬ì§ˆ - í•˜í˜•
  tonnage INTEGER,
  
  -- ì„±í˜• ì¡°ê±´
  hot_runner_usage BOOLEAN NOT NULL,          -- í•«ëŸ°ë„ˆ ì‚¬ìš©ìœ ë¬´
  mold_shrinkage_rate DECIMAL(5, 2) NOT NULL, -- ê¸ˆí˜•ìˆ˜ì¶•ìœ¨ (%)
  
  -- ì œì‘ ì •ë³´
  target_maker_id INTEGER REFERENCES users(id),
  target_plant_id INTEGER REFERENCES users(id), -- ì–‘ì‚°ì²˜
  development_stage VARCHAR(20), -- 'ì‹œì‘', 'ì–‘ì‚°'
  production_stage VARCHAR(20),
  
  -- ì œì‘ ì¼ì •
  order_date DATE,
  target_delivery_date DATE,
  actual_delivery_date DATE,
  
  -- ì˜ˆì‚°
  estimated_cost DECIMAL(12, 2),
  actual_cost DECIMAL(12, 2),
  
  -- ìƒíƒœ
  status VARCHAR(20), -- 'draft', 'sent_to_maker', 'in_production', 'completed'
  priority VARCHAR(20), -- 'low', 'medium', 'high'
  
  -- ê°œë°œí’ˆ ì‚¬ì§„
  development_product_images JSONB,    -- ê°œë°œ ëŒ€ìƒ ì œí’ˆ ì‚¬ì§„ ë°°ì—´
  
  -- ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™
  external_system_id VARCHAR(100),
  external_sync_enabled BOOLEAN DEFAULT FALSE,
  last_sync_date TIMESTAMP,
  
  -- ì—°ë™ ì •ë³´
  mold_id INTEGER REFERENCES molds(id),
  
  -- ë¹„ê³ 
  notes TEXT,
  
  created_by INTEGER REFERENCES users(id),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_mold_specifications_part ON mold_specifications(part_number);
CREATE INDEX idx_mold_specifications_maker ON mold_specifications(target_maker_id);
CREATE INDEX idx_mold_specifications_plant ON mold_specifications(target_plant_id);
CREATE INDEX idx_mold_specifications_external ON mold_specifications(external_system_id);
```

### 2. maker_specifications (ì œì‘ì²˜ ì‚¬ì–‘)

```sql
CREATE TABLE maker_specifications (
  id SERIAL PRIMARY KEY,
  specification_id INTEGER NOT NULL REFERENCES mold_specifications(id),
  maker_id INTEGER NOT NULL REFERENCES users(id),
  
  -- ë³¸ì‚¬ ì…ë ¥ í•­ëª© (ì½ê¸° ì „ìš©)
  part_number VARCHAR(50),
  part_name VARCHAR(200),
  car_model VARCHAR(100),
  mold_type VARCHAR(50),
  cavity_count INTEGER,
  gate_count INTEGER,
  material_upper VARCHAR(100),
  material_lower VARCHAR(100),
  tonnage INTEGER,
  development_stage VARCHAR(20),
  hot_runner_usage BOOLEAN,
  mold_shrinkage_rate DECIMAL(5, 2),
  
  -- ê¸ˆí˜• ì‚¬ì´ì¦ˆ ë° ì¤‘ëŸ‰
  mold_size_length INTEGER,              -- ê¸ˆí˜• ì‚¬ì´ì¦ˆ - ê¸¸ì´ (mm)
  mold_size_width INTEGER,               -- ê¸ˆí˜• ì‚¬ì´ì¦ˆ - í­ (mm)
  mold_size_height INTEGER,              -- ê¸ˆí˜• ì‚¬ì´ì¦ˆ - ë†’ì´ (mm)
  mold_weight DECIMAL(10, 2),            -- ê¸ˆí˜• ì¤‘ëŸ‰ (kg)
  
  -- ì œì‘ì²˜ ì…ë ¥ í•­ëª©
  clamping_force INTEGER,                -- í˜•ì²´ë ¥ (ton)
  recommended_injection_tonnage INTEGER, -- ê¶Œì¥ì‚¬ì¶œê¸° í†¤ìˆ˜ (ton)
  actual_material_upper VARCHAR(100),    -- ì‹¤ì œ ì‚¬ìš© ì¬ì§ˆ - ìƒí˜•
  actual_material_lower VARCHAR(100),    -- ì‹¤ì œ ì‚¬ìš© ì¬ì§ˆ - í•˜í˜•
  core_material VARCHAR(100),
  cavity_material VARCHAR(100),
  
  -- ê²½ë„ ì¸¡ì • ê²°ê³¼ (ì œì‘ì™„ë£Œ ì‹œ í•„ìˆ˜)
  hardness_upper_mold VARCHAR(50),       -- ìƒí˜• ê¸ˆí˜• ê²½ë„
  hardness_lower_mold VARCHAR(50),       -- í•˜í˜• ê¸ˆí˜• ê²½ë„
  hardness_test_date DATE,               -- ê²½ë„ ì¸¡ì •ì¼
  hardness_test_report VARCHAR(500),     -- ê²½ë„ ì¸¡ì • ì„±ì ì„œ URL
  
  cooling_type VARCHAR(50),
  ejection_type VARCHAR(50),
  hot_runner BOOLEAN,
  slide_count INTEGER,
  lifter_count INTEGER,
  
  cycle_time INTEGER,
  max_shots INTEGER,
  
  -- ì œì‘ ì§„í–‰
  production_progress INTEGER DEFAULT 0,
  current_stage VARCHAR(50),
  
  -- ë„ë©´ ë° ì‚¬ì§„
  drawings JSONB,
  production_images JSONB,
  
  -- ìƒí•˜í˜• ì‚¬ì§„ (ì œì‘ì™„ë£Œ ì‹œ í•„ìˆ˜)
  upper_mold_images JSONB,               -- ìƒí˜• ì‚¬ì§„ ë°°ì—´
  lower_mold_images JSONB,               -- í•˜í˜• ì‚¬ì§„ ë°°ì—´
  
  -- ì²¨ë¶€ ìë£Œ (ì œì‘ì™„ë£Œ ì‹œ í•„ìˆ˜)
  mold_parameter_sheet VARCHAR(500),     -- ê¸ˆí˜•ì¸ìí‘œ URL
  molding_analysis VARCHAR(500),         -- ì„±í˜•í•´ì„ ìë£Œ URL
  trial_shot_result VARCHAR(500),        -- ì´ˆë„ì‚¬ì¶œ T/O ê²°ê³¼ URL
  
  -- ì™„ë£Œ ì •ë³´
  completed BOOLEAN DEFAULT FALSE,
  completed_date DATE,
  checklist_id INTEGER REFERENCES mold_checklists(id), -- ì œì‘ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
  
  -- ìƒíƒœ
  status VARCHAR(20), -- 'pending', 'in_progress', 'completed'
  
  -- ì—°ë™ ì •ë³´
  synced_from_hq BOOLEAN DEFAULT FALSE,
  synced_at TIMESTAMP,
  
  updated_by INTEGER REFERENCES users(id),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_maker_specifications_spec ON maker_specifications(specification_id);
CREATE INDEX idx_maker_specifications_maker ON maker_specifications(maker_id);
CREATE INDEX idx_maker_specifications_checklist ON maker_specifications(checklist_id);
```

### 3. plant_molds (ìƒì‚°ì²˜ ê¸ˆí˜•)

```sql
CREATE TABLE plant_molds (
  id SERIAL PRIMARY KEY,
  mold_id INTEGER NOT NULL REFERENCES molds(id),
  plant_id INTEGER NOT NULL REFERENCES users(id),
  
  -- ê¸ˆí˜• ë§ˆìŠ¤í„° ì •ë³´ (ì½ê¸° ì „ìš©)
  mold_code VARCHAR(50),
  mold_name VARCHAR(200),
  part_number VARCHAR(50),
  part_name VARCHAR(200),
  car_model VARCHAR(100),
  cavity INTEGER,
  target_shots INTEGER,
  
  -- ìƒì‚°ì²˜ ì…ë ¥ í•­ëª©
  current_shots INTEGER DEFAULT 0,
  production_quantity INTEGER DEFAULT 0,
  production_line VARCHAR(100),
  injection_machine VARCHAR(100),
  
  -- ì‚¬ì¶œ ì¡°ê±´
  injection_conditions JSONB,
  
  -- ìƒíƒœ
  status VARCHAR(20), -- 'assigned', 'in_production', 'maintenance', 'idle'
  assigned_date DATE,
  last_production_date DATE,
  
  -- ì—°ë™ ì •ë³´
  synced_from_master BOOLEAN DEFAULT FALSE,
  synced_to_master BOOLEAN DEFAULT FALSE,
  synced_at TIMESTAMP,
  last_sync_date TIMESTAMP,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_plant_molds_mold ON plant_molds(mold_id);
CREATE INDEX idx_plant_molds_plant ON plant_molds(plant_id);
```

### 4. mold_checklists (ê¸ˆí˜• ì²´í¬ë¦¬ìŠ¤íŠ¸)

```sql
CREATE TABLE mold_checklists (
  id SERIAL PRIMARY KEY,
  
  -- ì—°ê²° ì •ë³´
  mold_id INTEGER REFERENCES molds(id),                    -- ê¸ˆí˜• ë§ˆìŠ¤í„° (ì œì‘ì™„ë£Œ í›„)
  mold_specification_id INTEGER REFERENCES maker_specifications(id), -- ì œì‘ì‚¬ì–‘ (ì œì‘ì™„ë£Œ ì‹œ)
  
  -- ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë³¸ ì •ë³´
  checklist_type VARCHAR(50) NOT NULL,     -- 'ì œì‘ì™„ë£Œ', 'ìˆ˜ë¦¬ì™„ë£Œ', 'ì •ê¸°ì ê²€', 'ì´ê´€ì „'
  checklist_date DATE NOT NULL,
  inspector_id INTEGER REFERENCES users(id),
  inspector_name VARCHAR(100),
  department VARCHAR(100),
  
  -- ê¸ˆí˜• ê¸°ë³¸ ì •ë³´ (ìë™ ì…ë ¥)
  mold_code VARCHAR(50),
  mold_name VARCHAR(200),
  part_number VARCHAR(50),
  maker_name VARCHAR(200),
  
  -- ê²½ë„ ì¸¡ì • ê²°ê³¼ (ì œì‘ì™„ë£Œ ì‹œ í•„ìˆ˜)
  hardness_check JSONB,                    -- ìƒí•˜í˜• ê²½ë„ ì¸¡ì • ê²°ê³¼
  /*
  {
    "upper_mold": {
      "value": "HRC 40-42",
      "status": "OK",
      "notes": "ìƒí˜• ê²½ë„ ì¸¡ì • ì™„ë£Œ"
    },
    "lower_mold": {
      "value": "HRC 40-42",
      "status": "OK",
      "notes": "í•˜í˜• ê²½ë„ ì¸¡ì • ì™„ë£Œ"
    },
    "test_date": "2024-06-10",
    "report_url": "url_to_pdf"
  }
  */
  
  -- 8ê°œ ì¹´í…Œê³ ë¦¬ë³„ ì ê²€ ê²°ê³¼ (JSONB)
  appearance_check JSONB,                  -- ì™¸ê´€ ì ê²€
  dimension_check JSONB,                   -- ì¹˜ìˆ˜ ì ê²€
  function_check JSONB,                    -- ê¸°ëŠ¥ ì ê²€
  safety_check JSONB,                      -- ì•ˆì „ ì ê²€
  structure_check JSONB,                   -- êµ¬ì¡° ì ê²€
  parts_check JSONB,                       -- ë¶€í’ˆ ì ê²€
  performance_check JSONB,                 -- ì„±ëŠ¥ ì ê²€
  documentation_check JSONB,               -- ë¬¸ì„œ ì ê²€
  
  -- ì¢…í•© ê²°ê³¼
  total_items INTEGER DEFAULT 0,
  ok_items INTEGER DEFAULT 0,
  ng_items INTEGER DEFAULT 0,
  na_items INTEGER DEFAULT 0,
  pass_rate DECIMAL(5, 2),                 -- í•©ê²©ë¥  (%)
  overall_result VARCHAR(20),              -- 'pass', 'conditional_pass', 'fail'
  
  -- íŠ¹ì´ì‚¬í•­ ë° ì¡°ì¹˜ì‚¬í•­
  special_notes TEXT,
  corrective_actions TEXT,
  follow_up_required BOOLEAN DEFAULT FALSE,
  follow_up_date DATE,
  
  -- ìŠ¹ì¸
  approval_required BOOLEAN DEFAULT TRUE,
  approval_status VARCHAR(20),             -- 'pending', 'approved', 'rejected'
  approved_by INTEGER REFERENCES users(id),
  approved_at TIMESTAMP,
  approval_comments TEXT,
  
  -- ì²¨ë¶€
  images JSONB,                            -- ì‚¬ì§„ ì²¨ë¶€
  attachments JSONB,                       -- íŒŒì¼ ì²¨ë¶€
  
  -- ì„œëª…
  inspector_signature TEXT,                -- Base64 ì¸ì½”ë”© ì„œëª…
  approver_signature TEXT,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_mold_checklists_mold ON mold_checklists(mold_id);
CREATE INDEX idx_mold_checklists_spec ON mold_checklists(mold_specification_id);
CREATE INDEX idx_mold_checklists_type ON mold_checklists(checklist_type);
CREATE INDEX idx_mold_checklists_date ON mold_checklists(checklist_date);
```

### 5. stage_change_history (ë‹¨ê³„ ë³€ê²½ ì´ë ¥)

```sql
CREATE TABLE stage_change_history (
  id SERIAL PRIMARY KEY,
  mold_id INTEGER NOT NULL REFERENCES molds(id),
  previous_stage VARCHAR(20),
  new_stage VARCHAR(20),
  change_type VARCHAR(20), -- 'development', 'production'
  reason TEXT,
  changed_by INTEGER REFERENCES users(id),
  changed_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_stage_change_mold ON stage_change_history(mold_id);
```

---

## ğŸ¯ í•µì‹¬ íŠ¹ì§•

### 1. ë‹¨ë°©í–¥ ë°ì´í„° íë¦„
- ë³¸ì‚¬ â†’ ì œì‘ì²˜ â†’ ë§ˆìŠ¤í„° â†’ ìƒì‚°ì²˜
- ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- ë°ì´í„° ì¼ê´€ì„± ë³´ì¥

### 2. ìë™ ì—°ë™
- ìˆ˜ë™ ì…ë ¥ ìµœì†Œí™”
- ì‹¤ì‹œê°„ ë™ê¸°í™”
- ì˜¤ë¥˜ ë°©ì§€

### 3. ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ì¤€ë¹„
- ë¶€í’ˆì •ë³´ ì‹œìŠ¤í…œ ì—°ë™ ê°€ëŠ¥
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- API ê¸°ë°˜ í†µí•©

### 4. ë‹¨ê³„ ë³€ê²½ ìœ ì—°ì„±
- ê°œë°œ â†” ì–‘ì‚° ì „í™˜ ê°€ëŠ¥
- ì´ë ¥ ê´€ë¦¬
- ì•Œë¦¼ ìë™ ë°œì†¡

---

## ğŸ—ï¸ ê¸ˆí˜•ê°œë°œ ê³„íš ê´€ë¦¬

### ê°œë°œ ë‹¨ê³„ êµ¬ì¡°

ê¸ˆí˜• ì œì‘ ì™„ë£Œ í›„ ê¸ˆí˜• ë§ˆìŠ¤í„°ì— ë“±ë¡ë˜ë©´, 5ë‹¨ê³„ ê°œë°œ ê³„íšì´ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.

```
[ê¸ˆí˜• ë§ˆìŠ¤í„° ìƒì„±]
    â†“ ìë™ ìƒì„±
[ê°œë°œ ê³„íš 5ë‹¨ê³„]
  1. ê¸°íš (Planning)
  2. ì„¤ê³„ (Design)
  3. ì œì‘ (Manufacturing)
  4. ì‹œìš´ì „ (Trial Run)
  5. ì–‘ì‚° (Mass Production)
```

### í…Œì´ë¸” êµ¬ì¡°

#### 1. mold_development (ê¸ˆí˜•ê°œë°œ - ê¸°ë³¸ ì •ë³´)
```javascript
{
  mold_id: 1,
  development_type: "ì‹ ê·œ",
  development_stage: "ì„¤ê³„", // í˜„ì¬ ë‹¨ê³„
  start_date: "2024-01-15",
  target_date: "2024-06-15",
  overall_progress: 45, // ì „ì²´ ì§„í–‰ë¥  (%)
  budget: 50000000,
  actual_cost: 22500000,
  responsible_person: "ê¹€ì² ìˆ˜"
}
```

#### 2. development_plan (ê°œë°œê³„íš - ë‹¨ê³„ë³„ ìƒì„¸)
```javascript
// ê° ë‹¨ê³„ë³„ë¡œ 5ê°œ ë ˆì½”ë“œ ìƒì„±
{
  mold_id: 1,
  development_id: 1,
  phase_number: 2, // ì„¤ê³„ ë‹¨ê³„
  phase_name: "ì„¤ê³„",
  phase_order: 2,
  
  // ì¼ì •
  planned_start_date: "2024-02-01",
  planned_end_date: "2024-03-15",
  actual_start_date: "2024-02-01",
  actual_end_date: null,
  
  // ì§„í–‰ë¥ 
  progress_percentage: 70,
  status: "in_progress",
  
  // ì£¼ìš” í™œë™
  key_activities: [
    {activity: "2D ë„ë©´ ì‘ì„±", completed: true},
    {activity: "3D ëª¨ë¸ë§", completed: true},
    {activity: "êµ¬ì¡° í•´ì„", completed: false},
    {activity: "ì„¤ê³„ ê²€í† ", completed: false}
  ],
  
  // ì‚°ì¶œë¬¼
  deliverables: [
    {name: "2D ë„ë©´", completed: true, file_url: "..."},
    {name: "3D ëª¨ë¸", completed: true, file_url: "..."},
    {name: "í•´ì„ ë³´ê³ ì„œ", completed: false}
  ],
  
  // ë§ˆì¼ìŠ¤í†¤
  milestones: [
    {name: "ì´ˆê¸° ì„¤ê³„ ì™„ë£Œ", date: "2024-02-15", completed: true},
    {name: "ì„¤ê³„ ê²€í†  íšŒì˜", date: "2024-03-10", completed: false}
  ],
  
  // íŒ€ êµ¬ì„±
  responsible_person: "ì´ì˜í¬",
  team_members: [
    {name: "ì´ì˜í¬", role: "ì„¤ê³„ ë¦¬ë”"},
    {name: "ë°•ë¯¼ìˆ˜", role: "3D ëª¨ë¸ë§"},
    {name: "ì •ìˆ˜ì§„", role: "êµ¬ì¡° í•´ì„"}
  ],
  
  // ì´ìŠˆ ë° ë¦¬ìŠ¤í¬
  issues: [
    {
      issue: "ëƒ‰ê° ì±„ë„ ì„¤ê³„ ë³€ê²½ í•„ìš”",
      severity: "medium",
      status: "in_progress",
      assigned_to: "ì´ì˜í¬",
      due_date: "2024-03-05"
    }
  ],
  
  risks: [
    {
      risk: "ë³µì¡í•œ ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¡œ ì¸í•œ ì¼ì • ì§€ì—° ê°€ëŠ¥ì„±",
      probability: "medium",
      impact: "high",
      mitigation: "ì™¸ë¶€ ì „ë¬¸ê°€ ìë¬¸ ì˜ˆì •"
    }
  ],
  
  // ë¹„ìš©
  planned_cost: 10000000,
  actual_cost: 7000000,
  
  // í’ˆì§ˆ ì§€í‘œ
  quality_metrics: {
    design_review_score: 85,
    rework_count: 1,
    defect_rate: 0.2
  },
  
  // ìŠ¹ì¸
  approval_required: true,
  approval_status: "pending",
  
  // ì²¨ë¶€
  attachments: [
    {name: "ì„¤ê³„ë„ë©´_v2.pdf", url: "...", uploaded_at: "2024-02-20"},
    {name: "í•´ì„ê²°ê³¼.xlsx", url: "...", uploaded_at: "2024-02-25"}
  ]
}
```

#### 3. development_progress_history (ê°œë°œ ì§„í–‰ ì´ë ¥)
```javascript
{
  development_plan_id: 2, // ì„¤ê³„ ë‹¨ê³„
  mold_id: 1,
  previous_progress: 60,
  new_progress: 70,
  previous_status: "in_progress",
  new_status: "in_progress",
  
  change_description: "3D ëª¨ë¸ë§ ì™„ë£Œ ë° êµ¬ì¡° í•´ì„ ì§„í–‰ ì¤‘",
  achievements: "- 3D ëª¨ë¸ ì™„ì„±\n- ì´ˆê¸° êµ¬ì¡° í•´ì„ 50% ì™„ë£Œ",
  next_steps: "- êµ¬ì¡° í•´ì„ ì™„ë£Œ\n- ì„¤ê³„ ê²€í†  íšŒì˜ ì¤€ë¹„",
  
  updated_by: 5,
  update_date: "2024-03-01T14:30:00Z",
  
  attachments: [
    {name: "ì§„í–‰ìƒí™©_ì‚¬ì§„.jpg", url: "..."}
  ]
}
```

### ìë™ ìƒì„± ë¡œì§

```javascript
// ê¸ˆí˜• ë§ˆìŠ¤í„° ìƒì„± ì‹œ ê°œë°œ ê³„íš ìë™ ìƒì„±
async function createDevelopmentPlan(moldId) {
  // 1. ê¸°ë³¸ ê°œë°œ ì •ë³´ ìƒì„±
  const development = await MoldDevelopment.create({
    mold_id: moldId,
    development_type: "ì‹ ê·œ",
    development_stage: "ê¸°íš",
    start_date: new Date(),
    overall_progress: 0
  });
  
  // 2. 5ë‹¨ê³„ ê°œë°œ ê³„íš ìƒì„±
  const phases = [
    {number: 1, name: "ê¸°íš", order: 1},
    {number: 2, name: "ì„¤ê³„", order: 2},
    {number: 3, name: "ì œì‘", order: 3},
    {number: 4, name: "ì‹œìš´ì „", order: 4},
    {number: 5, name: "ì–‘ì‚°", order: 5}
  ];
  
  for (const phase of phases) {
    await DevelopmentPlan.create({
      mold_id: moldId,
      development_id: development.id,
      phase_number: phase.number,
      phase_name: phase.name,
      phase_order: phase.order,
      progress_percentage: 0,
      status: phase.number === 1 ? 'in_progress' : 'pending',
      key_activities: getDefaultActivities(phase.name),
      deliverables: getDefaultDeliverables(phase.name)
    });
  }
  
  return development;
}

// ë‹¨ê³„ë³„ ê¸°ë³¸ í™œë™ ì •ì˜
function getDefaultActivities(phaseName) {
  const activities = {
    "ê¸°íš": [
      {activity: "ìš”êµ¬ì‚¬í•­ ë¶„ì„", completed: false},
      {activity: "íƒ€ë‹¹ì„± ê²€í† ", completed: false},
      {activity: "ì˜ˆì‚° ìˆ˜ë¦½", completed: false},
      {activity: "ì¼ì • ê³„íš", completed: false}
    ],
    "ì„¤ê³„": [
      {activity: "2D ë„ë©´ ì‘ì„±", completed: false},
      {activity: "3D ëª¨ë¸ë§", completed: false},
      {activity: "êµ¬ì¡° í•´ì„", completed: false},
      {activity: "ì„¤ê³„ ê²€í† ", completed: false}
    ],
    "ì œì‘": [
      {activity: "ì¬ë£Œ ë°œì£¼", completed: false},
      {activity: "ê°€ê³µ ì‘ì—…", completed: false},
      {activity: "ì¡°ë¦½", completed: false},
      {activity: "í’ˆì§ˆ ê²€ì‚¬", completed: false}
    ],
    "ì‹œìš´ì „": [
      {activity: "ì´ˆë„í’ˆ ìƒì‚°", completed: false},
      {activity: "í’ˆì§ˆ ê²€ì¦", completed: false},
      {activity: "ì¡°ê±´ ìµœì í™”", completed: false},
      {activity: "ìŠ¹ì¸", completed: false}
    ],
    "ì–‘ì‚°": [
      {activity: "ì–‘ì‚° ì¤€ë¹„", completed: false},
      {activity: "ìƒì‚° ì‹œì‘", completed: false},
      {activity: "ëª¨ë‹ˆí„°ë§", completed: false},
      {activity: "ìµœì¢… í‰ê°€", completed: false}
    ]
  };
  
  return activities[phaseName] || [];
}
```

### ì§„í–‰ë¥  ì—…ë°ì´íŠ¸

```javascript
// ë‹¨ê³„ë³„ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ ì‹œ ì „ì²´ ì§„í–‰ë¥  ìë™ ê³„ì‚°
async function updatePhaseProgress(planId, newProgress) {
  const plan = await DevelopmentPlan.findByPk(planId);
  const oldProgress = plan.progress_percentage;
  
  // 1. ë‹¨ê³„ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
  await plan.update({
    progress_percentage: newProgress,
    status: newProgress === 100 ? 'completed' : 'in_progress'
  });
  
  // 2. ì´ë ¥ ê¸°ë¡
  await DevelopmentProgressHistory.create({
    development_plan_id: planId,
    mold_id: plan.mold_id,
    previous_progress: oldProgress,
    new_progress: newProgress,
    updated_by: userId
  });
  
  // 3. ì „ì²´ ì§„í–‰ë¥  ê³„ì‚° (5ë‹¨ê³„ í‰ê· )
  const allPlans = await DevelopmentPlan.findAll({
    where: {development_id: plan.development_id}
  });
  
  const totalProgress = allPlans.reduce((sum, p) => 
    sum + p.progress_percentage, 0
  );
  const overallProgress = Math.round(totalProgress / allPlans.length);
  
  // 4. ê°œë°œ ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
  await MoldDevelopment.update(
    {overall_progress: overallProgress},
    {where: {id: plan.development_id}}
  );
  
  // 5. ë‹¤ìŒ ë‹¨ê³„ ìë™ ì‹œì‘
  if (newProgress === 100) {
    const nextPhase = await DevelopmentPlan.findOne({
      where: {
        development_id: plan.development_id,
        phase_order: plan.phase_order + 1
      }
    });
    
    if (nextPhase && nextPhase.status === 'pending') {
      await nextPhase.update({
        status: 'in_progress',
        actual_start_date: new Date()
      });
    }
  }
}
```

### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// ê°œë°œ ê³„íš ì¡°íšŒ
GET /api/molds/:moldId/development-progress

// ë‹¨ê³„ë³„ ìƒì„¸ ì¡°íšŒ
GET /api/molds/:moldId/development-progress/:phaseNumber

// ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
PATCH /api/development-plans/:planId/progress
{
  "progress_percentage": 70,
  "achievements": "3D ëª¨ë¸ë§ ì™„ë£Œ",
  "next_steps": "êµ¬ì¡° í•´ì„ ì§„í–‰"
}

// í™œë™ ì™„ë£Œ ì²˜ë¦¬
PATCH /api/development-plans/:planId/activities/:activityIndex
{
  "completed": true
}

// ì´ìŠˆ ì¶”ê°€
POST /api/development-plans/:planId/issues
{
  "issue": "ì¬ë£Œ ìˆ˜ê¸‰ ì§€ì—°",
  "severity": "high",
  "assigned_to": "ê¹€ì² ìˆ˜"
}
```

---

## ğŸ“‹ ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬

### ì²´í¬ë¦¬ìŠ¤íŠ¸ êµ¬ì¡°

ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” **8ê°œ ì¹´í…Œê³ ë¦¬**ë¡œ êµ¬ì„±ë˜ë©°, ì œì‘ì™„ë£Œ, ìˆ˜ë¦¬ì™„ë£Œ, ì •ê¸°ì ê²€, ì´ê´€ì „ ë“± ë‹¤ì–‘í•œ ì‹œì ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

```
[ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸]
  â”œâ”€ 1. ì™¸ê´€ ì ê²€ (Appearance)
  â”œâ”€ 2. ì¹˜ìˆ˜ ì ê²€ (Dimension)
  â”œâ”€ 3. ê¸°ëŠ¥ ì ê²€ (Function)
  â”œâ”€ 4. ì•ˆì „ ì ê²€ (Safety)
  â”œâ”€ 5. êµ¬ì¡° ì ê²€ (Structure)
  â”œâ”€ 6. ë¶€í’ˆ ì ê²€ (Parts)
  â”œâ”€ 7. ì„±ëŠ¥ ì ê²€ (Performance)
  â””â”€ 8. ë¬¸ì„œ ì ê²€ (Documentation)
```

### í…Œì´ë¸” êµ¬ì¡°

#### 1. mold_project (ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸ - ë©”ì¸)

```javascript
{
  mold_id: 1,
  checklist_type: "ì œì‘ì™„ë£Œ", // 'ì œì‘ì™„ë£Œ', 'ìˆ˜ë¦¬ì™„ë£Œ', 'ì •ê¸°ì ê²€', 'ì´ê´€ì „', 'ê¸°íƒ€'
  checklist_date: "2024-03-15",
  inspector_id: 5,
  inspector_name: "ê¹€ì² ìˆ˜",
  department: "í’ˆì§ˆê´€ë¦¬íŒ€",
  
  // ê¸ˆí˜• ê¸°ë³¸ ì •ë³´ (ìë™ ì…ë ¥)
  mold_code: "M-2024-001",
  mold_name: "GV80 í”„ë¡ íŠ¸ ë²”í¼",
  part_number: "P-2024-001",
  maker_name: "ëŒ€í•œê¸ˆí˜•",
  
  // 8ê°œ ì¹´í…Œê³ ë¦¬ë³„ ì ê²€ ê²°ê³¼ (JSONB)
  appearance_check: {
    surface_condition: {status: "OK", notes: "í‘œë©´ ìƒíƒœ ì–‘í˜¸"},
    rust_corrosion: {status: "OK", notes: "ë…¹/ë¶€ì‹ ì—†ìŒ"},
    scratches_dents: {status: "NG", notes: "ì½”ì–´ë¶€ ë¯¸ì„¸ ìŠ¤í¬ë˜ì¹˜ ë°œê²¬"},
    cleanliness: {status: "OK", notes: "ì²­ê²° ìƒíƒœ ì–‘í˜¸"}
  },
  
  dimension_check: {
    cavity_dimensions: {status: "OK", measured: "100.02mm", standard: "100Â±0.05mm"},
    core_dimensions: {status: "OK", measured: "99.98mm", standard: "100Â±0.05mm"},
    parting_line: {status: "OK", notes: "íŒŒíŒ…ë¼ì¸ ì •ë ¬ ì–‘í˜¸"},
    gate_size: {status: "OK", measured: "2.5mm", standard: "2.5Â±0.1mm"}
  },
  
  function_check: {
    ejector_operation: {status: "OK", notes: "ì´ì í„° 12ê°œ ì •ìƒ ì‘ë™"},
    slide_operation: {status: "OK", notes: "ìŠ¬ë¼ì´ë“œ 2ê°œ ì •ìƒ"},
    lifter_operation: {status: "OK", notes: "ë¦¬í”„í„° 4ê°œ ì •ìƒ"},
    cooling_channels: {status: "OK", notes: "ëƒ‰ê°ìˆ˜ë¡œ ë§‰í˜ ì—†ìŒ"},
    hot_runner: {status: "OK", notes: "í•«ëŸ¬ë„ˆ ì •ìƒ ì‘ë™"}
  },
  
  safety_check: {
    sharp_edges: {status: "OK", notes: "ë‚ ì¹´ë¡œìš´ ëª¨ì„œë¦¬ ì—†ìŒ"},
    pinch_points: {status: "OK", notes: "ë¼ì„ ìœ„í—˜ ì—†ìŒ"},
    guard_installation: {status: "OK", notes: "ì•ˆì „ ê°€ë“œ ì„¤ì¹˜ ì™„ë£Œ"},
    emergency_stop: {status: "OK", notes: "ë¹„ìƒì •ì§€ ì¥ì¹˜ ì •ìƒ"}
  },
  
  structure_check: {
    mounting_holes: {status: "OK", notes: "ì¥ì°© êµ¬ë© 4ê°œ ì •ìƒ"},
    guide_pins: {status: "OK", notes: "ê°€ì´ë“œ í•€ ì •ë ¬ ì–‘í˜¸"},
    locating_ring: {status: "OK", notes: "ë¡œì¼€ì´íŒ… ë§ ì •ìƒ"},
    sprue_bushing: {status: "OK", notes: "ìŠ¤í”„ë£¨ ë¶€ì‹± ì •ìƒ"}
  },
  
  parts_check: {
    ejector_pins: {status: "OK", count: 12, notes: "ì „ì²´ ì •ìƒ"},
    return_pins: {status: "OK", count: 4, notes: "ë¦¬í„´ í•€ ì •ìƒ"},
    springs: {status: "OK", count: 8, notes: "ìŠ¤í”„ë§ ì¥ë ¥ ì •ìƒ"},
    bolts_screws: {status: "OK", notes: "ëª¨ë“  ë³¼íŠ¸ ì²´ê²° í™•ì¸"}
  },
  
  performance_check: {
    cycle_time: {status: "OK", measured: "45s", target: "45s"},
    shot_weight: {status: "OK", measured: "125g", target: "125Â±2g"},
    cooling_efficiency: {status: "OK", notes: "ëƒ‰ê° íš¨ìœ¨ ì–‘í˜¸"},
    part_quality: {status: "OK", notes: "ì„±í˜•í’ˆ í’ˆì§ˆ ì–‘í˜¸"}
  },
  
  documentation_check: {
    drawings_available: {status: "OK", notes: "ë„ë©´ ì™„ë¹„"},
    specifications: {status: "OK", notes: "ì‚¬ì–‘ì„œ í™•ì¸"},
    maintenance_manual: {status: "OK", notes: "ì •ë¹„ ë§¤ë‰´ì–¼ ì œê³µ"},
    parts_list: {status: "OK", notes: "ë¶€í’ˆ ë¦¬ìŠ¤íŠ¸ í™•ì¸"}
  },
  
  // ì¢…í•© ê²°ê³¼
  total_items: 32,
  ok_items: 31,
  ng_items: 1,
  na_items: 0,
  pass_rate: 96.88, // (31/32) * 100
  overall_result: "conditional_pass", // NG 1ê°œ ìˆì§€ë§Œ ì¡°ê±´ë¶€ í•©ê²©
  
  // íŠ¹ì´ì‚¬í•­ ë° ì¡°ì¹˜ì‚¬í•­
  special_notes: "ì½”ì–´ë¶€ ë¯¸ì„¸ ìŠ¤í¬ë˜ì¹˜ ë°œê²¬",
  corrective_actions: "ìŠ¤í¬ë˜ì¹˜ ë¶€ìœ„ ì—°ë§ˆ ì²˜ë¦¬ í•„ìš”",
  follow_up_required: true,
  follow_up_date: "2024-03-20",
  
  // ìŠ¹ì¸
  approval_required: true,
  approval_status: "approved",
  approved_by: 3,
  approved_at: "2024-03-15T16:30:00Z",
  approval_comments: "ì¡°ì¹˜ í›„ ì¬ê²€ì‚¬ ì¡°ê±´ìœ¼ë¡œ ìŠ¹ì¸",
  
  // ì²¨ë¶€
  images: [
    {category: "ì™¸ê´€", url: "...", description: "ì½”ì–´ë¶€ ìŠ¤í¬ë˜ì¹˜ ì‚¬ì§„"},
    {category: "ì „ì²´", url: "...", description: "ê¸ˆí˜• ì „ì²´ ì‚¬ì§„"}
  ],
  attachments: [
    {name: "ì ê²€ë³´ê³ ì„œ.pdf", url: "...", uploaded_at: "2024-03-15T17:00:00Z"}
  ],
  
  // ì„œëª…
  inspector_signature: "data:image/png;base64,...",
  approver_signature: "data:image/png;base64,..."
}
```

#### 2. mold_project_items (ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ í•­ëª©)

```javascript
// ê° ì ê²€ í•­ëª©ì„ ê°œë³„ ë ˆì½”ë“œë¡œ ê´€ë¦¬
{
  mold_project_id: 1,
  category: "ì™¸ê´€",
  item_number: "1.1",
  item_name: "í‘œë©´ ìƒíƒœ",
  item_order: 1,
  
  inspection_standard: "í‘œë©´ì— í¬ë™, ê¸°í¬, ì´ë¬¼ì§ˆì´ ì—†ì–´ì•¼ í•¨",
  acceptance_criteria: "ìœ¡ì•ˆ ê²€ì‚¬ ì‹œ ê²°í•¨ ì—†ìŒ",
  
  status: "OK",
  measured_value: null,
  standard_value: null,
  
  notes: "í‘œë©´ ìƒíƒœ ì–‘í˜¸",
  defect_description: null,
  corrective_action: null,
  
  is_critical: true, // í•„ìˆ˜ í•­ëª©
  severity: "high",
  
  images: []
}
```

### 8ê°œ ì¹´í…Œê³ ë¦¬ ìƒì„¸

#### 1. ì™¸ê´€ ì ê²€ (Appearance Check)
- í‘œë©´ ìƒíƒœ (Surface Condition)
- ë…¹/ë¶€ì‹ (Rust/Corrosion)
- ìŠ¤í¬ë˜ì¹˜/ì°Œê·¸ëŸ¬ì§ (Scratches/Dents)
- ì²­ê²°ë„ (Cleanliness)

#### 2. ì¹˜ìˆ˜ ì ê²€ (Dimension Check)
- ìºë¹„í‹° ì¹˜ìˆ˜ (Cavity Dimensions)
- ì½”ì–´ ì¹˜ìˆ˜ (Core Dimensions)
- íŒŒíŒ…ë¼ì¸ (Parting Line)
- ê²Œì´íŠ¸ í¬ê¸° (Gate Size)

#### 3. ê¸°ëŠ¥ ì ê²€ (Function Check)
- ì´ì í„° ì‘ë™ (Ejector Operation)
- ìŠ¬ë¼ì´ë“œ ì‘ë™ (Slide Operation)
- ë¦¬í”„í„° ì‘ë™ (Lifter Operation)
- ëƒ‰ê°ìˆ˜ë¡œ (Cooling Channels)
- í•«ëŸ¬ë„ˆ (Hot Runner)

#### 4. ì•ˆì „ ì ê²€ (Safety Check)
- ë‚ ì¹´ë¡œìš´ ëª¨ì„œë¦¬ (Sharp Edges)
- ë¼ì„ ìœ„í—˜ (Pinch Points)
- ì•ˆì „ ê°€ë“œ ì„¤ì¹˜ (Guard Installation)
- ë¹„ìƒì •ì§€ ì¥ì¹˜ (Emergency Stop)

#### 5. êµ¬ì¡° ì ê²€ (Structure Check)
- ì¥ì°© êµ¬ë© (Mounting Holes)
- ê°€ì´ë“œ í•€ (Guide Pins)
- ë¡œì¼€ì´íŒ… ë§ (Locating Ring)
- ìŠ¤í”„ë£¨ ë¶€ì‹± (Sprue Bushing)

#### 6. ë¶€í’ˆ ì ê²€ (Parts Check)
- ì´ì í„° í•€ (Ejector Pins)
- ë¦¬í„´ í•€ (Return Pins)
- ìŠ¤í”„ë§ (Springs)
- ë³¼íŠ¸/ë‚˜ì‚¬ (Bolts/Screws)

#### 7. ì„±ëŠ¥ ì ê²€ (Performance Check)
- ì‚¬ì´í´ íƒ€ì„ (Cycle Time)
- ìƒ· ì¤‘ëŸ‰ (Shot Weight)
- ëƒ‰ê° íš¨ìœ¨ (Cooling Efficiency)
- ì„±í˜•í’ˆ í’ˆì§ˆ (Part Quality)

#### 8. ë¬¸ì„œ ì ê²€ (Documentation Check)
- ë„ë©´ ì™„ë¹„ (Drawings Available)
- ì‚¬ì–‘ì„œ (Specifications)
- ì •ë¹„ ë§¤ë‰´ì–¼ (Maintenance Manual)
- ë¶€í’ˆ ë¦¬ìŠ¤íŠ¸ (Parts List)

### ìë™ ê³„ì‚° ë¡œì§

```javascript
// ì²´í¬ë¦¬ìŠ¤íŠ¸ ê²°ê³¼ ìë™ ê³„ì‚°
async function calculateChecklistResult(projectId) {
  const project = await MoldProject.findByPk(projectId);
  
  // 1. ëª¨ë“  ì¹´í…Œê³ ë¦¬ì˜ í•­ëª© ìˆ˜ì§‘
  const categories = [
    'appearance_check',
    'dimension_check',
    'function_check',
    'safety_check',
    'structure_check',
    'parts_check',
    'performance_check',
    'documentation_check'
  ];
  
  let totalItems = 0;
  let okItems = 0;
  let ngItems = 0;
  let naItems = 0;
  
  // 2. ê° ì¹´í…Œê³ ë¦¬ë³„ ì§‘ê³„
  for (const category of categories) {
    const checkData = project[category];
    if (checkData) {
      for (const [key, value] of Object.entries(checkData)) {
        totalItems++;
        if (value.status === 'OK') okItems++;
        else if (value.status === 'NG') ngItems++;
        else if (value.status === 'N/A') naItems++;
      }
    }
  }
  
  // 3. í•©ê²©ë¥  ê³„ì‚°
  const passRate = totalItems > 0 
    ? ((okItems / totalItems) * 100).toFixed(2)
    : 0;
  
  // 4. ì¢…í•© ê²°ê³¼ íŒì •
  let overallResult;
  if (ngItems === 0) {
    overallResult = 'pass';
  } else if (ngItems <= 2 && passRate >= 90) {
    overallResult = 'conditional_pass';
  } else {
    overallResult = 'fail';
  }
  
  // 5. ì—…ë°ì´íŠ¸
  await project.update({
    total_items: totalItems,
    ok_items: okItems,
    ng_items: ngItems,
    na_items: naItems,
    pass_rate: passRate,
    overall_result: overallResult
  });
  
  return project;
}
```

### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
POST /api/molds/:moldId/checklist
{
  "checklist_type": "ì œì‘ì™„ë£Œ",
  "checklist_date": "2024-03-15",
  "inspector_id": 5
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
GET /api/molds/:moldId/checklist/:checklistId

// ì¹´í…Œê³ ë¦¬ë³„ ì ê²€ ê²°ê³¼ ì—…ë°ì´íŠ¸
PATCH /api/checklist/:checklistId/category/:categoryName
{
  "surface_condition": {"status": "OK", "notes": "ì–‘í˜¸"},
  "rust_corrosion": {"status": "OK", "notes": ""}
}

// ê°œë³„ í•­ëª© ì—…ë°ì´íŠ¸
PATCH /api/checklist/:checklistId/items/:itemId
{
  "status": "NG",
  "notes": "ìŠ¤í¬ë˜ì¹˜ ë°œê²¬",
  "defect_description": "ì½”ì–´ë¶€ ë¯¸ì„¸ ìŠ¤í¬ë˜ì¹˜",
  "corrective_action": "ì—°ë§ˆ ì²˜ë¦¬ í•„ìš”"
}

// ìŠ¹ì¸ ì²˜ë¦¬
POST /api/checklist/:checklistId/approve
{
  "approval_status": "approved",
  "approval_comments": "ì¡°ê±´ë¶€ ìŠ¹ì¸"
}

// ì²´í¬ë¦¬ìŠ¤íŠ¸ ëª©ë¡ ì¡°íšŒ
GET /api/molds/:moldId/checklists?type=ì œì‘ì™„ë£Œ&from=2024-01-01&to=2024-12-31
```

### ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿

```javascript
// ì²´í¬ë¦¬ìŠ¤íŠ¸ íƒ€ì…ë³„ ê¸°ë³¸ í…œí”Œë¦¿ ì œê³µ
const checklistTemplates = {
  "ì œì‘ì™„ë£Œ": {
    appearance_check: {
      surface_condition: {status: "", notes: ""},
      rust_corrosion: {status: "", notes: ""},
      scratches_dents: {status: "", notes: ""},
      cleanliness: {status: "", notes: ""}
    },
    dimension_check: { /* ... */ },
    // ... 8ê°œ ì¹´í…Œê³ ë¦¬ ì „ì²´
  },
  "ìˆ˜ë¦¬ì™„ë£Œ": {
    // ìˆ˜ë¦¬ ê´€ë ¨ í•­ëª© ì¤‘ì‹¬
  },
  "ì •ê¸°ì ê²€": {
    // ì ê²€ í•­ëª© ì¤‘ì‹¬
  },
  "ì´ê´€ì „": {
    // ì´ê´€ ì „ í™•ì¸ í•­ëª©
  }
};

// í…œí”Œë¦¿ ì ìš©
async function createChecklistFromTemplate(moldId, type) {
  const template = checklistTemplates[type];
  
  const checklist = await MoldProject.create({
    mold_id: moldId,
    checklist_type: type,
    checklist_date: new Date(),
    ...template
  });
  
  return checklist;
}
```

---

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§ˆìŠ¤í„° í…œí”Œë¦¿ ê´€ë¦¬

### í…œí”Œë¦¿ ê´€ë¦¬ êµ¬ì¡°

ë³¸ì‚¬ ê´€ë¦¬ìê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ì„ ìƒì„±, ìˆ˜ì •, ë°°í¬í•˜ê³  ì „ì²´ ì‹œìŠ¤í…œì— ì ìš©í•©ë‹ˆë‹¤.

```
[ë³¸ì‚¬ ê´€ë¦¬ì]
    â†“ í…œí”Œë¦¿ ìƒì„±/ìˆ˜ì •
[ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§ˆìŠ¤í„° í…œí”Œë¦¿]
    â†“ ìŠ¹ì¸
[í…œí”Œë¦¿ ë°°í¬]
    â†“ ìë™ ì ìš©
[í˜‘ë ¥ì‚¬/ì œì‘ì²˜]
    â†“ í…œí”Œë¦¿ ì‚¬ìš©
[ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±]
```

### í…Œì´ë¸” êµ¬ì¡°

#### 1. checklist_master_templates (ë§ˆìŠ¤í„° í…œí”Œë¦¿)

```javascript
{
  template_name: "ì œì‘ì™„ë£Œ í‘œì¤€ ì²´í¬ë¦¬ìŠ¤íŠ¸",
  template_code: "TMPL-PROD-001",
  checklist_type: "ì œì‘ì™„ë£Œ",
  
  // ë²„ì „ ê´€ë¦¬
  version: "v2.1",
  version_number: 21,
  is_active: true,
  
  description: "ê¸ˆí˜• ì œì‘ ì™„ë£Œ ì‹œ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ ì²´í¬ë¦¬ìŠ¤íŠ¸",
  usage_guide: "ì œì‘ì²˜ì—ì„œ ê¸ˆí˜• ì œì‘ ì™„ë£Œ í›„ í’ˆì§ˆ í™•ì¸ ì‹œ ì‚¬ìš©",
  
  // 8ê°œ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿
  appearance_check_template: {
    surface_condition: {
      item_name: "í‘œë©´ ìƒíƒœ",
      inspection_standard: "í‘œë©´ì— í¬ë™, ê¸°í¬, ì´ë¬¼ì§ˆì´ ì—†ì–´ì•¼ í•¨",
      acceptance_criteria: "ìœ¡ì•ˆ ê²€ì‚¬ ì‹œ ê²°í•¨ ì—†ìŒ",
      is_required: true,
      is_critical: true,
      severity: "high",
      order: 1
    },
    rust_corrosion: {
      item_name: "ë…¹/ë¶€ì‹",
      inspection_standard: "ë…¹ ë˜ëŠ” ë¶€ì‹ì´ ì—†ì–´ì•¼ í•¨",
      acceptance_criteria: "ìœ¡ì•ˆ ê²€ì‚¬ ì‹œ ë…¹/ë¶€ì‹ ì—†ìŒ",
      is_required: true,
      is_critical: false,
      severity: "medium",
      order: 2
    }
    // ... ë” ë§ì€ í•­ëª©
  },
  
  dimension_check_template: { /* ... */ },
  function_check_template: { /* ... */ },
  safety_check_template: { /* ... */ },
  structure_check_template: { /* ... */ },
  parts_check_template: { /* ... */ },
  performance_check_template: { /* ... */ },
  documentation_check_template: { /* ... */ },
  
  // ì ìš© ëŒ€ìƒ
  applicable_to: ["ëª¨ë“  ê¸ˆí˜•"],
  mold_types: ["ì‚¬ì¶œê¸ˆí˜•", "í”„ë ˆìŠ¤ê¸ˆí˜•"],
  
  // ìŠ¹ì¸ ì„¤ì •
  approval_required: true,
  approval_levels: 2, // 2ë‹¨ê³„ ìŠ¹ì¸
  
  // ë°°í¬ ì •ë³´
  deployed_count: 15,
  last_deployed_at: "2024-03-01T10:00:00Z",
  deployed_by: 1,
  
  // í†µê³„
  usage_count: 245,
  average_pass_rate: 94.5,
  
  created_by: 1, // ë³¸ì‚¬ ê´€ë¦¬ì
  updated_by: 1,
  approved_by: 2,
  approved_at: "2024-02-28T16:00:00Z"
}
```

#### 2. checklist_template_items (í…œí”Œë¦¿ í•­ëª© ìƒì„¸)

```javascript
{
  template_id: 1,
  category: "ì™¸ê´€",
  item_number: "1.1",
  item_code: "APP-001",
  item_name: "í‘œë©´ ìƒíƒœ",
  item_order: 1,
  
  inspection_standard: "í‘œë©´ì— í¬ë™, ê¸°í¬, ì´ë¬¼ì§ˆì´ ì—†ì–´ì•¼ í•¨",
  acceptance_criteria: "ìœ¡ì•ˆ ê²€ì‚¬ ì‹œ ê²°í•¨ ì—†ìŒ",
  inspection_method: "ìœ¡ì•ˆê²€ì‚¬",
  
  requires_measurement: false,
  
  is_required: true,
  is_critical: true, // ì´ í•­ëª©ì´ NGë©´ ì „ì²´ ë¶ˆí•©ê²©
  severity: "high",
  
  reference_document: "í’ˆì§ˆê²€ì‚¬ ë§¤ë‰´ì–¼ 3.1ì ˆ",
  reference_image_url: "https://...",
  notes: "ì¡°ëª…ì„ ì¶©ë¶„íˆ í™•ë³´í•˜ê³  ê²€ì‚¬",
  
  is_active: true
}
```

### í…œí”Œë¦¿ ìƒì„± ë° ìˆ˜ì •

```javascript
// í…œí”Œë¦¿ ìƒì„±
async function createChecklistTemplate(templateData, userId) {
  // 1. í…œí”Œë¦¿ ì½”ë“œ ìë™ ìƒì„±
  const templateCode = await generateTemplateCode(templateData.checklist_type);
  
  // 2. í…œí”Œë¦¿ ìƒì„±
  const template = await ChecklistMasterTemplate.create({
    ...templateData,
    template_code: templateCode,
    version: "v1.0",
    version_number: 1,
    is_active: false, // ìŠ¹ì¸ ì „ê¹Œì§€ ë¹„í™œì„±
    created_by: userId
  });
  
  // 3. í…œí”Œë¦¿ í•­ëª© ìƒì„±
  if (templateData.items) {
    for (const item of templateData.items) {
      await ChecklistTemplateItem.create({
        template_id: template.id,
        ...item
      });
    }
  }
  
  // 4. ë³€ê²½ ì´ë ¥ ê¸°ë¡
  await ChecklistTemplateHistory.create({
    template_id: template.id,
    change_type: 'created',
    changed_by: userId,
    new_data: template.toJSON(),
    change_description: 'ìƒˆ í…œí”Œë¦¿ ìƒì„±'
  });
  
  return template;
}

// í…œí”Œë¦¿ ìˆ˜ì •
async function updateChecklistTemplate(templateId, updates, userId) {
  const template = await ChecklistMasterTemplate.findByPk(templateId);
  const previousData = template.toJSON();
  
  // 1. ë²„ì „ ì¦ê°€
  const newVersionNumber = template.version_number + 1;
  const newVersion = `v${Math.floor(newVersionNumber / 10)}.${newVersionNumber % 10}`;
  
  // 2. í…œí”Œë¦¿ ì—…ë°ì´íŠ¸
  await template.update({
    ...updates,
    version: newVersion,
    version_number: newVersionNumber,
    updated_by: userId,
    is_active: false // ì¬ìŠ¹ì¸ í•„ìš”
  });
  
  // 3. ë³€ê²½ ì´ë ¥ ê¸°ë¡
  await ChecklistTemplateHistory.create({
    template_id: templateId,
    change_type: 'updated',
    changed_by: userId,
    previous_data: previousData,
    new_data: template.toJSON(),
    change_description: 'í…œí”Œë¦¿ ìˆ˜ì •',
    affected_fields: Object.keys(updates),
    requires_approval: true,
    approval_status: 'pending'
  });
  
  return template;
}
```

### í…œí”Œë¦¿ ìŠ¹ì¸

```javascript
// í…œí”Œë¦¿ ìŠ¹ì¸
async function approveTemplate(templateId, approverId) {
  const template = await ChecklistMasterTemplate.findByPk(templateId);
  
  // 1. ê¸°ì¡´ í™œì„± í…œí”Œë¦¿ ë¹„í™œì„±í™”
  await ChecklistMasterTemplate.update(
    { is_active: false },
    {
      where: {
        checklist_type: template.checklist_type,
        is_active: true,
        id: { [Op.ne]: templateId }
      }
    }
  );
  
  // 2. ìƒˆ í…œí”Œë¦¿ í™œì„±í™”
  await template.update({
    is_active: true,
    approved_by: approverId,
    approved_at: new Date()
  });
  
  // 3. ì´ë ¥ ì—…ë°ì´íŠ¸
  await ChecklistTemplateHistory.update(
    {
      approval_status: 'approved',
      approved_by: approverId,
      approved_at: new Date()
    },
    {
      where: {
        template_id: templateId,
        approval_status: 'pending'
      }
    }
  );
  
  return template;
}
```

### í…œí”Œë¦¿ ë°°í¬

```javascript
// í…œí”Œë¦¿ ë°°í¬
async function deployTemplate(templateId, deploymentOptions, userId) {
  const template = await ChecklistMasterTemplate.findByPk(templateId);
  
  // 1. ë°°í¬ ëŒ€ìƒ ê²°ì •
  let targetUsers = [];
  if (deploymentOptions.scope === 'all') {
    targetUsers = await User.findAll({
      where: { role: ['plant', 'maker'] }
    });
  } else if (deploymentOptions.scope === 'specific_plants') {
    targetUsers = await User.findAll({
      where: {
        role: 'plant',
        id: { [Op.in]: deploymentOptions.target_plants }
      }
    });
  }
  
  // 2. ë°°í¬ ë ˆì½”ë“œ ìƒì„±
  const deployment = await ChecklistTemplateDeployment.create({
    template_id: templateId,
    deployment_version: template.version,
    deployed_by: userId,
    deployment_scope: deploymentOptions.scope,
    target_users: targetUsers.map(u => u.id),
    target_plants: deploymentOptions.target_plants,
    deployment_type: deploymentOptions.type || 'update',
    change_summary: deploymentOptions.change_summary,
    deployment_status: 'in_progress',
    total_targets: targetUsers.length
  });
  
  // 3. ê° ëŒ€ìƒì—ê²Œ ë°°í¬
  let successCount = 0;
  let failCount = 0;
  
  for (const user of targetUsers) {
    try {
      // ì‚¬ìš©ìë³„ í…œí”Œë¦¿ ì ìš©
      await applyTemplateToUser(user.id, template);
      
      // ì•Œë¦¼ ë°œì†¡
      await Notification.create({
        user_id: user.id,
        type: 'template_update',
        title: 'ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ì—…ë°ì´íŠ¸',
        message: `${template.template_name} (${template.version})ì´ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤.`,
        related_id: template.id,
        priority: 'medium'
      });
      
      successCount++;
    } catch (error) {
      failCount++;
      console.error(`Failed to deploy to user ${user.id}:`, error);
    }
  }
  
  // 4. ë°°í¬ ì™„ë£Œ ì²˜ë¦¬
  await deployment.update({
    deployment_status: 'completed',
    deployment_progress: 100,
    successful_deployments: successCount,
    failed_deployments: failCount,
    notification_sent: true,
    notification_sent_at: new Date(),
    completed_at: new Date()
  });
  
  // 5. í…œí”Œë¦¿ ë°°í¬ íšŸìˆ˜ ì¦ê°€
  await template.update({
    deployed_count: template.deployed_count + 1,
    last_deployed_at: new Date(),
    deployed_by: userId
  });
  
  // 6. ì´ë ¥ ê¸°ë¡
  await ChecklistTemplateHistory.create({
    template_id: templateId,
    change_type: 'deployed',
    changed_by: userId,
    change_description: `í…œí”Œë¦¿ ë°°í¬ ì™„ë£Œ (${successCount}/${targetUsers.length})`
  });
  
  return deployment;
}

// ì‚¬ìš©ìì—ê²Œ í…œí”Œë¦¿ ì ìš©
async function applyTemplateToUser(userId, template) {
  // ì‚¬ìš©ìì˜ ê¸°ì¡´ í…œí”Œë¦¿ ì„¤ì • ì—…ë°ì´íŠ¸ ë˜ëŠ” ìƒì„±
  await UserTemplateSettings.upsert({
    user_id: userId,
    template_id: template.id,
    template_version: template.version,
    applied_at: new Date(),
    is_active: true
  });
}
```

### í…œí”Œë¦¿ ë¡¤ë°±

```javascript
// í…œí”Œë¦¿ ë¡¤ë°±
async function rollbackTemplate(deploymentId, userId) {
  const deployment = await ChecklistTemplateDeployment.findByPk(deploymentId);
  
  if (!deployment.can_rollback) {
    throw new Error('ì´ ë°°í¬ëŠ” ë¡¤ë°±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  }
  
  if (new Date() > new Date(deployment.rollback_available_until)) {
    throw new Error('ë¡¤ë°± ê°€ëŠ¥ ê¸°ê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
  }
  
  const previousTemplate = await ChecklistMasterTemplate.findByPk(
    deployment.previous_template_id
  );
  
  // ì´ì „ í…œí”Œë¦¿ìœ¼ë¡œ ì¬ë°°í¬
  await deployTemplate(
    previousTemplate.id,
    {
      scope: deployment.deployment_scope,
      target_plants: deployment.target_plants,
      type: 'rollback',
      change_summary: `${deployment.deployment_version}ì—ì„œ ${previousTemplate.version}ìœ¼ë¡œ ë¡¤ë°±`
    },
    userId
  );
  
  // ë¡¤ë°± ê¸°ë¡
  await ChecklistTemplateHistory.create({
    template_id: deployment.template_id,
    change_type: 'rollback',
    changed_by: userId,
    change_description: `í…œí”Œë¦¿ ë¡¤ë°±: ${deployment.deployment_version} â†’ ${previousTemplate.version}`
  });
}
```

### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// í…œí”Œë¦¿ ê´€ë¦¬ (ë³¸ì‚¬ ê´€ë¦¬ìë§Œ)
POST /api/admin/checklist-templates
GET /api/admin/checklist-templates
GET /api/admin/checklist-templates/:id
PUT /api/admin/checklist-templates/:id
DELETE /api/admin/checklist-templates/:id

// í…œí”Œë¦¿ ìŠ¹ì¸
POST /api/admin/checklist-templates/:id/approve

// í…œí”Œë¦¿ ë°°í¬
POST /api/admin/checklist-templates/:id/deploy
{
  "scope": "all", // 'all', 'specific_plants', 'specific_makers'
  "target_plants": [1, 2, 3],
  "type": "update",
  "change_summary": "ì™¸ê´€ ì ê²€ í•­ëª© 2ê°œ ì¶”ê°€"
}

// ë°°í¬ ì´ë ¥ ì¡°íšŒ
GET /api/admin/checklist-templates/:id/deployments

// í…œí”Œë¦¿ ë¡¤ë°±
POST /api/admin/template-deployments/:deploymentId/rollback

// í…œí”Œë¦¿ ë³€ê²½ ì´ë ¥
GET /api/admin/checklist-templates/:id/history

// í…œí”Œë¦¿ í†µê³„
GET /api/admin/checklist-templates/:id/statistics

// ì‚¬ìš©ììš© - í˜„ì¬ í™œì„± í…œí”Œë¦¿ ì¡°íšŒ
GET /api/checklist-templates/active?type=ì œì‘ì™„ë£Œ
```

### í…œí”Œë¦¿ ë²„ì „ ê´€ë¦¬

```javascript
// ë²„ì „ ë¹„êµ
async function compareTemplateVersions(templateId1, templateId2) {
  const template1 = await ChecklistMasterTemplate.findByPk(templateId1);
  const template2 = await ChecklistMasterTemplate.findByPk(templateId2);
  
  const differences = {
    version_change: {
      from: template1.version,
      to: template2.version
    },
    added_items: [],
    removed_items: [],
    modified_items: []
  };
  
  // ì¹´í…Œê³ ë¦¬ë³„ ë¹„êµ
  const categories = [
    'appearance_check_template',
    'dimension_check_template',
    'function_check_template',
    'safety_check_template',
    'structure_check_template',
    'parts_check_template',
    'performance_check_template',
    'documentation_check_template'
  ];
  
  for (const category of categories) {
    const items1 = template1[category] || {};
    const items2 = template2[category] || {};
    
    // ì¶”ê°€ëœ í•­ëª©
    for (const key in items2) {
      if (!items1[key]) {
        differences.added_items.push({
          category,
          item: key,
          data: items2[key]
        });
      }
    }
    
    // ì œê±°ëœ í•­ëª©
    for (const key in items1) {
      if (!items2[key]) {
        differences.removed_items.push({
          category,
          item: key,
          data: items1[key]
        });
      }
    }
    
    // ìˆ˜ì •ëœ í•­ëª©
    for (const key in items1) {
      if (items2[key] && JSON.stringify(items1[key]) !== JSON.stringify(items2[key])) {
        differences.modified_items.push({
          category,
          item: key,
          before: items1[key],
          after: items2[key]
        });
      }
    }
  }
  
  return differences;
}
```

---

## ğŸ“ í˜‘ë ¥ì‚¬ ë¬¸ì„œ ë§ˆìŠ¤í„° ê´€ë¦¬ ë° ë¦¬ë¹„ì ¼ ì‹œìŠ¤í…œ

### ë¬¸ì„œ ê´€ë¦¬ êµ¬ì¡°

í˜‘ë ¥ì‚¬ì—ì„œ ì‘ì„±í•˜ëŠ” ëª¨ë“  ìë£Œ(ì¼ìƒì ê²€, ì •ê¸°ì ê²€, ìˆ˜ë¦¬ìš”ì²­, ìŠµí•©ì ê²€, ì„¸ì²™ì ê²€ ë“±)ëŠ” ë³¸ì‚¬ ê´€ë¦¬ìê°€ ë§ˆìŠ¤í„° í…œí”Œë¦¿ì„ ê´€ë¦¬í•˜ê³  ë¦¬ë¹„ì ¼ì„ í†µí•´ ë²„ì „ ê´€ë¦¬í•©ë‹ˆë‹¤.

```
[í˜‘ë ¥ì‚¬ ë¬¸ì„œ ì‘ì„±]
    â†“ ë³¸ì‚¬ ê²€í† 
[ë³¸ì‚¬ ê´€ë¦¬ì ìˆ˜ì •]
    â†“ ë¦¬ë¹„ì ¼ ìƒì„±
[ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤]
    â†“ ìŠ¹ì¸ ì™„ë£Œ
[ìë™ ë°°í¬]
    â†“ ì „ì²´ í˜‘ë ¥ì‚¬ ì ìš©
[ë¦¬ë¹„ì ¼ ê´€ë¦¬]
```

### ê´€ë¦¬ ëŒ€ìƒ ë¬¸ì„œ

#### 1. ì ê²€ ê´€ë ¨ ë¬¸ì„œ
- **ì¼ìƒì ê²€** (daily_checks)
- **ì •ê¸°ì ê²€** (inspections)
- **ìŠµí•©ì ê²€** (fitting_checks)
- **ì„¸ì²™ì ê²€** (cleaning_checks)

#### 2. ìˆ˜ë¦¬ ê´€ë ¨ ë¬¸ì„œ
- **ìˆ˜ë¦¬ìš”ì²­** (repairs)
- **ìˆ˜ë¦¬ê´€ë¦¬í‘œ** (repair_management)
- **ìˆ˜ë¦¬ì§„í–‰í˜„í™©** (repair_progress)

#### 3. ì´ê´€ ê´€ë ¨ ë¬¸ì„œ
- **ì´ê´€ìš”ì²­** (transfer_logs)
- **ì´ê´€ê´€ë¦¬** (transfer_management)
- **ì´ê´€ì²´í¬ë¦¬ìŠ¤íŠ¸** (transfer_checklist)

#### 4. ê¸°íƒ€ ë¬¸ì„œ
- **ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸** (mold_project)
- **ê¸ˆí˜•ê°œë°œê³„íš** (development_plan)

---

### í…Œì´ë¸” êµ¬ì¡°

#### 1. document_master_templates (ë¬¸ì„œ ë§ˆìŠ¤í„° í…œí”Œë¦¿)

```javascript
{
  template_name: "ì¼ìƒì ê²€ í‘œì¤€ ì–‘ì‹",
  template_code: "DOC-DAILY-001",
  document_type: "daily_check",
  category: "ì ê²€",
  
  // ë²„ì „ ê´€ë¦¬
  version: "v2.3",
  version_number: 23,
  is_active: true,
  
  // í…œí”Œë¦¿ êµ¬ì¡° ì •ì˜
  template_structure: {
    fields: [
      {
        name: "check_date",
        type: "date",
        required: true,
        label: "ì ê²€ì¼ì",
        validation: "required|date"
      },
      {
        name: "findings",
        type: "textarea",
        required: false,
        label: "ë°œê²¬ì‚¬í•­",
        maxLength: 500
      },
      {
        name: "corrective_actions",
        type: "textarea",
        required: true,
        label: "ì¡°ì¹˜ì‚¬í•­",
        maxLength: 500
      }
    ],
    sections: [
      {
        name: "ê¸°ë³¸ì •ë³´",
        fields: ["check_date", "inspector", "mold_code"]
      },
      {
        name: "ì ê²€ë‚´ìš©",
        fields: ["findings", "corrective_actions", "images"]
      }
    ]
  },
  
  // í•„ìˆ˜/ì„ íƒ í•„ë“œ
  required_fields: ["check_date", "inspector", "corrective_actions"],
  optional_fields: ["findings", "images", "notes"],
  
  // ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™
  validation_rules: {
    check_date: "required|date|not_future",
    corrective_actions: "required|min:10|max:500"
  },
  
  // ì ìš© ëŒ€ìƒ
  applicable_to: ["ëª¨ë“  í˜‘ë ¥ì‚¬"],
  target_roles: ["plant", "maker"],
  
  // ìŠ¹ì¸ ì„¤ì •
  approval_required: true,
  approval_workflow: {
    levels: [
      {level: 1, role: "hq_manager", required: true},
      {level: 2, role: "admin", required: true}
    ]
  },
  
  // ë°°í¬ ì •ë³´
  deployed_count: 25,
  last_deployed_at: "2024-03-15T10:00:00Z",
  deployed_by: 1,
  
  // í†µê³„
  usage_count: 1250,
  completion_rate: 94.5,
  
  created_by: 1, // ë³¸ì‚¬ ê´€ë¦¬ì
  approved_by: 2
}
```

#### 2. document_revisions (ë¬¸ì„œ ë¦¬ë¹„ì ¼ ê´€ë¦¬)

```javascript
{
  document_type: "daily_check",
  document_id: 1523, // í˜‘ë ¥ì‚¬ê°€ ì‘ì„±í•œ ì¼ìƒì ê²€ ID
  template_id: 1,
  
  // ë¦¬ë¹„ì ¼ ì •ë³´
  revision_number: 2,
  revision_type: "major", // 'minor', 'major', 'patch'
  revision_reason: "ì ê²€ í•­ëª© ëˆ„ë½ ìˆ˜ì •",
  
  // ë³€ê²½ ë‚´ìš©
  previous_data: {
    findings: "ì´ìƒ ì—†ìŒ",
    corrective_actions: ""
  },
  current_data: {
    findings: "ì´ìƒ ì—†ìŒ",
    corrective_actions: "ì •ê¸° ìœ¤í™œ ì‹¤ì‹œ ì™„ë£Œ"
  },
  changes_summary: "ì¡°ì¹˜ì‚¬í•­ í•„ë“œ ì¶”ê°€ ì…ë ¥",
  changed_fields: ["corrective_actions"],
  
  // ë³€ê²½ì ì •ë³´
  modified_by: 1, // ë³¸ì‚¬ ê´€ë¦¬ì
  modified_by_role: "admin",
  modification_source: "admin_correction",
  
  // ìŠ¹ì¸ ì •ë³´
  requires_approval: true,
  approval_status: "approved",
  approved_by: 2,
  approved_at: "2024-03-15T14:30:00Z",
  approval_comments: "í•„ìˆ˜ í•­ëª© ëˆ„ë½ ìˆ˜ì • ìŠ¹ì¸",
  
  // ë°°í¬ ì •ë³´
  is_deployed: true,
  deployed_at: "2024-03-15T15:00:00Z",
  deployment_id: 45,
  
  // ì˜í–¥ ë²”ìœ„
  affected_users: [15, 16, 17], // í•´ë‹¹ í˜‘ë ¥ì‚¬ ì‚¬ìš©ìë“¤
  affected_plants: [5], // í˜‘ë ¥ì‚¬ ID
  impact_level: "medium",
  
  // ë¡¤ë°± ì •ë³´
  can_rollback: true,
  rollback_available_until: "2024-03-22T15:00:00Z", // 7ì¼ê°„ ë¡¤ë°± ê°€ëŠ¥
  is_rolled_back: false
}
```

#### 3. template_deployment_log (í…œí”Œë¦¿ ë°°í¬ ë¡œê·¸)

```javascript
{
  template_id: 1,
  template_type: "document",
  
  // ë°°í¬ ì •ë³´
  deployment_version: "v2.3",
  deployment_date: "2024-03-15T15:00:00Z",
  deployed_by: 1,
  
  // ë°°í¬ ë²”ìœ„
  deployment_scope: "all", // 'all', 'specific_plants', 'specific_users'
  target_users: null, // ì „ì²´ ë°°í¬
  target_plants: null,
  target_document_types: ["daily_check"],
  
  // ë°°í¬ ë°©ì‹
  deployment_method: "immediate",
  deployment_strategy: "replace_all", // 'replace_all', 'merge', 'append'
  
  // ë°°í¬ ìƒíƒœ
  deployment_status: "completed",
  deployment_progress: 100,
  
  // ë°°í¬ ê²°ê³¼
  total_targets: 50, // 50ê°œ í˜‘ë ¥ì‚¬
  successful_deployments: 48,
  failed_deployments: 2,
  
  // ì˜í–¥ ë¶„ì„
  affected_documents_count: 1250, // ì˜í–¥ë°›ëŠ” ê¸°ì¡´ ë¬¸ì„œ ìˆ˜
  affected_users_count: 150,
  
  // ë³€ê²½ ì‚¬í•­
  change_summary: "ì¡°ì¹˜ì‚¬í•­ í•„ë“œ í•„ìˆ˜ ì…ë ¥ìœ¼ë¡œ ë³€ê²½",
  change_details: {
    added_fields: [],
    removed_fields: [],
    modified_fields: [
      {
        field: "corrective_actions",
        before: {required: false},
        after: {required: true}
      }
    ]
  },
  
  // ì•Œë¦¼
  notification_sent: true,
  notification_sent_at: "2024-03-15T15:05:00Z",
  
  // ë¡¤ë°± ì •ë³´
  can_rollback: true,
  previous_template_id: 1, // ì´ì „ ë²„ì „
  
  completed_at: "2024-03-15T15:30:00Z"
}
```

---

### ë¬¸ì„œ ìˆ˜ì • ë° ë°°í¬ í”„ë¡œì„¸ìŠ¤

#### Step 1: í˜‘ë ¥ì‚¬ ë¬¸ì„œ ì‘ì„±

```javascript
// í˜‘ë ¥ì‚¬ê°€ ì¼ìƒì ê²€ ì‘ì„±
POST /api/daily-checks
{
  "mold_id": 123,
  "check_date": "2024-03-15",
  "findings": "ì´ìƒ ì—†ìŒ",
  "corrective_actions": "", // ëˆ„ë½
  "images": []
}
```

#### Step 2: ë³¸ì‚¬ ê´€ë¦¬ì ê²€í†  ë° ìˆ˜ì •

```javascript
// ë³¸ì‚¬ ê´€ë¦¬ìê°€ ìˆ˜ì • í•„ìš” ë°œê²¬
// 1. ìˆ˜ì • ì‚¬í•­ ê¸°ë¡
POST /api/admin/modifications
{
  "target_table": "daily_checks",
  "target_record_id": 1523,
  "mold_id": 123,
  "modification_type": "correction",
  "modification_reason": "í•„ìˆ˜ í•­ëª© ëˆ„ë½",
  "previous_data": {
    "corrective_actions": ""
  },
  "new_data": {
    "corrective_actions": "ì •ê¸° ìœ¤í™œ ì‹¤ì‹œ ì™„ë£Œ"
  },
  "changed_fields": ["corrective_actions"],
  "modified_by": 1
}

// 2. ë¦¬ë¹„ì ¼ ìƒì„±
POST /api/admin/document-revisions
{
  "document_type": "daily_check",
  "document_id": 1523,
  "revision_type": "major",
  "revision_reason": "ì ê²€ í•­ëª© ëˆ„ë½ ìˆ˜ì •",
  "previous_data": {...},
  "current_data": {...},
  "modified_by": 1
}
```

#### Step 3: ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤

```javascript
// ìŠ¹ì¸ ìš”ì²­
POST /api/admin/modifications/:id/request-approval
{
  "approval_level": 1,
  "approver_id": 2,
  "comments": "í•„ìˆ˜ í•­ëª© ëˆ„ë½ ìˆ˜ì • ìš”ì²­"
}

// ìŠ¹ì¸ ì²˜ë¦¬
POST /api/admin/modifications/:id/approve
{
  "approval_status": "approved",
  "comments": "ìŠ¹ì¸ ì™„ë£Œ"
}
```

#### Step 4: ìë™ ë°°í¬

```javascript
// ìŠ¹ì¸ ì™„ë£Œ í›„ ìë™ ë°°í¬ íŠ¸ë¦¬ê±°
async function autoDeployAfterApproval(modificationId) {
  const modification = await AdminModification.findByPk(modificationId);
  
  // 1. ë°°í¬ ë ˆì½”ë“œ ìƒì„±
  const deployment = await AutoDeployment.create({
    modification_id: modificationId,
    deployment_type: 'immediate',
    deployment_trigger: 'approval',
    target_scope: 'plant',
    target_plants: [modification.plant_id],
    deployment_status: 'in_progress'
  });
  
  // 2. ì‹¤ì œ ë°ì´í„° ì—…ë°ì´íŠ¸
  await updateTargetRecord(
    modification.target_table,
    modification.target_record_id,
    modification.new_data
  );
  
  // 3. ë¦¬ë¹„ì ¼ ë°°í¬ ì²˜ë¦¬
  await DocumentRevision.update(
    {
      is_deployed: true,
      deployed_at: new Date(),
      deployment_id: deployment.id
    },
    {
      where: {
        document_type: modification.target_table,
        document_id: modification.target_record_id
      }
    }
  );
  
  // 4. ì•Œë¦¼ ë°œì†¡
  await sendNotificationToAffectedUsers(modification);
  
  // 5. ë°°í¬ ì™„ë£Œ
  await deployment.update({
    deployment_status: 'completed',
    deployment_progress: 100,
    success_count: 1,
    actual_deployment_time: new Date()
  });
}
```

#### Step 5: í…œí”Œë¦¿ ì—…ë°ì´íŠ¸ ë° ì „ì²´ ë°°í¬

```javascript
// ë™ì¼í•œ ì˜¤ë¥˜ê°€ ë°˜ë³µë˜ë©´ í…œí”Œë¦¿ ìì²´ë¥¼ ìˆ˜ì •
async function updateTemplateAndDeploy(templateId, updates) {
  const template = await DocumentMasterTemplate.findByPk(templateId);
  
  // 1. í…œí”Œë¦¿ ë²„ì „ ì¦ê°€
  const newVersionNumber = template.version_number + 1;
  const newVersion = `v${Math.floor(newVersionNumber / 10)}.${newVersionNumber % 10}`;
  
  // 2. í…œí”Œë¦¿ ì—…ë°ì´íŠ¸
  await template.update({
    ...updates,
    version: newVersion,
    version_number: newVersionNumber,
    is_active: false // ì¬ìŠ¹ì¸ í•„ìš”
  });
  
  // 3. ìŠ¹ì¸ í›„ ì „ì²´ ë°°í¬
  await deployTemplateToAll(template);
}

// ì „ì²´ í˜‘ë ¥ì‚¬ì— ë°°í¬
async function deployTemplateToAll(template) {
  const allPlants = await User.findAll({
    where: { role: 'plant' }
  });
  
  const deployment = await TemplateDeploymentLog.create({
    template_id: template.id,
    deployment_version: template.version,
    deployed_by: userId,
    deployment_scope: 'all',
    deployment_method: 'immediate',
    deployment_strategy: 'replace_all',
    total_targets: allPlants.length
  });
  
  // ê° í˜‘ë ¥ì‚¬ì— ì•Œë¦¼
  for (const plant of allPlants) {
    await Notification.create({
      user_id: plant.id,
      type: 'template_update',
      title: 'ë¬¸ì„œ ì–‘ì‹ ì—…ë°ì´íŠ¸',
      message: `${template.template_name} (${template.version})ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.`,
      related_id: template.id
    });
  }
  
  return deployment;
}
```

---

### ë¦¬ë¹„ì ¼ ê´€ë¦¬ ê¸°ëŠ¥

#### 1. ë¦¬ë¹„ì ¼ ì´ë ¥ ì¡°íšŒ

```javascript
// íŠ¹ì • ë¬¸ì„œì˜ ëª¨ë“  ë¦¬ë¹„ì ¼ ì¡°íšŒ
GET /api/documents/:type/:id/revisions

Response:
{
  "document_type": "daily_check",
  "document_id": 1523,
  "revisions": [
    {
      "revision_number": 1,
      "revision_type": "minor",
      "modified_by": "ê¹€ê´€ë¦¬ì",
      "modified_at": "2024-03-10T10:00:00Z",
      "changes_summary": "ì´ë¯¸ì§€ ì¶”ê°€"
    },
    {
      "revision_number": 2,
      "revision_type": "major",
      "modified_by": "ì´ê´€ë¦¬ì",
      "modified_at": "2024-03-15T14:30:00Z",
      "changes_summary": "ì¡°ì¹˜ì‚¬í•­ í•„ë“œ ì¶”ê°€ ì…ë ¥"
    }
  ]
}
```

#### 2. ë¦¬ë¹„ì ¼ ë¹„êµ

```javascript
// ë‘ ë¦¬ë¹„ì ¼ ê°„ ì°¨ì´ ë¹„êµ
GET /api/documents/:type/:id/revisions/compare?from=1&to=2

Response:
{
  "from_revision": 1,
  "to_revision": 2,
  "differences": {
    "added": [],
    "removed": [],
    "modified": [
      {
        "field": "corrective_actions",
        "before": "",
        "after": "ì •ê¸° ìœ¤í™œ ì‹¤ì‹œ ì™„ë£Œ"
      }
    ]
  }
}
```

#### 3. ë¦¬ë¹„ì ¼ ë¡¤ë°±

```javascript
// ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
POST /api/documents/:type/:id/revisions/:revisionId/rollback
{
  "reason": "ì˜ëª»ëœ ìˆ˜ì • ë³µêµ¬",
  "rollback_to_revision": 1
}

// ë¡¤ë°± ì²˜ë¦¬
async function rollbackRevision(documentType, documentId, targetRevision) {
  const revision = await DocumentRevision.findOne({
    where: {
      document_type: documentType,
      document_id: documentId,
      revision_number: targetRevision
    }
  });
  
  if (!revision.can_rollback) {
    throw new Error('ë¡¤ë°± ë¶ˆê°€ëŠ¥í•œ ë¦¬ë¹„ì ¼ì…ë‹ˆë‹¤.');
  }
  
  // 1. ë°ì´í„° ë³µì›
  await updateTargetRecord(
    documentType,
    documentId,
    revision.previous_data
  );
  
  // 2. ë¡¤ë°± ê¸°ë¡
  await DocumentRevision.update(
    {
      is_rolled_back: true,
      rolled_back_at: new Date(),
      rolled_back_by: userId
    },
    {
      where: { id: revision.id }
    }
  );
  
  // 3. ìƒˆ ë¦¬ë¹„ì ¼ ìƒì„± (ë¡¤ë°± ì´ë ¥)
  await DocumentRevision.create({
    document_type: documentType,
    document_id: documentId,
    revision_number: revision.revision_number + 1,
    revision_type: 'rollback',
    revision_reason: 'ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±',
    previous_data: revision.current_data,
    current_data: revision.previous_data,
    modified_by: userId
  });
}
```

---

### API ì—”ë“œí¬ì¸íŠ¸

```javascript
// ë¬¸ì„œ ë§ˆìŠ¤í„° í…œí”Œë¦¿ ê´€ë¦¬
POST   /api/admin/document-templates
GET    /api/admin/document-templates
GET    /api/admin/document-templates/:id
PUT    /api/admin/document-templates/:id
DELETE /api/admin/document-templates/:id

// í…œí”Œë¦¿ ë°°í¬
POST   /api/admin/document-templates/:id/deploy
GET    /api/admin/document-templates/:id/deployments

// ë¬¸ì„œ ìˆ˜ì • ë° ë¦¬ë¹„ì ¼
POST   /api/admin/documents/:type/:id/revisions
GET    /api/admin/documents/:type/:id/revisions
GET    /api/admin/documents/:type/:id/revisions/:revisionId
POST   /api/admin/documents/:type/:id/revisions/:revisionId/rollback

// ë¦¬ë¹„ì ¼ ë¹„êµ
GET    /api/admin/documents/:type/:id/revisions/compare

// ë°°í¬ ë¡œê·¸
GET    /api/admin/template-deployments
GET    /api/admin/template-deployments/:id

// í˜‘ë ¥ì‚¬ìš© - í˜„ì¬ í™œì„± í…œí”Œë¦¿ ì¡°íšŒ
GET    /api/document-templates/active?type=daily_check
```

---

### í†µê³„ ë° ëª¨ë‹ˆí„°ë§

```javascript
// í…œí”Œë¦¿ ì‚¬ìš© í†µê³„
GET /api/admin/document-templates/:id/statistics

Response:
{
  "template_id": 1,
  "template_name": "ì¼ìƒì ê²€ í‘œì¤€ ì–‘ì‹",
  "version": "v2.3",
  "statistics": {
    "total_usage": 1250,
    "completion_rate": 94.5,
    "average_completion_time": "5.2 minutes",
    "error_rate": 2.3,
    "common_errors": [
      {"field": "corrective_actions", "count": 45, "percentage": 3.6}
    ],
    "revision_count": 15,
    "deployment_count": 25,
    "affected_plants": 50,
    "affected_users": 150
  }
}
```

---

## ğŸ”„ ìš´ì˜ ë‹¨ê³„ ë°ì´í„° íë¦„ (QR ìŠ¤ìº” ê¸°ë°˜)

### ê°œìš”
ê¸ˆí˜• ë§ˆìŠ¤í„° ìƒì„± í›„ ìƒì‚°ì²˜/ì œì‘ì²˜ì—ì„œ QR ìŠ¤ìº”ì„ í†µí•´ ì¼ìƒ ìš´ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©°, ëª¨ë“  ë°ì´í„°ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸ˆí˜• ë§ˆìŠ¤í„°ì— ë°˜ì˜ë©ë‹ˆë‹¤.

### QR ìŠ¤ìº” ë°ì´í„° íë¦„

```
[ìƒì‚°ì²˜/ì œì‘ì²˜]
    â†“ QR ìŠ¤ìº”
[ê¸ˆí˜• ì •ë³´ ë¡œë“œ + GPS ìœ„ì¹˜ í™•ì¸]
    â†“ ì‚¬ìš©ì ìœ í˜• í™•ì¸ (JWT)
    â”œâ”€ ì œì‘ì²˜ â†’ [ì œì‘ì²˜ ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ]
    â”‚   â”œâ”€ ì œì‘ ì§„í–‰ ë“±ë¡
    â”‚   â”œâ”€ ì‹œìš´ì „ ê²°ê³¼ ì…ë ¥
    â”‚   â”œâ”€ ìˆ˜ë¦¬ ì‘ì—… ì‹œì‘
    â”‚   â””â”€ ê·€ì±… í˜‘ì˜ ì°¸ì—¬
    â”‚
    â””â”€ ìƒì‚°ì²˜ â†’ [ìƒì‚°ì²˜ ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ]
        â”œâ”€ ì¼ìƒì ê²€ + ìƒì‚°ìˆ˜ëŸ‰ ì…ë ¥
        â”œâ”€ ì •ê¸°ì ê²€ ìˆ˜í–‰
        â”œâ”€ ì„¸ì²™/ìŠµí•© ì‘ì—…
        â”œâ”€ ìˆ˜ë¦¬ ìš”ì²­ ìƒì„±
        â””â”€ ì´ê´€ ìš”ì²­ ìƒì„±
            â†“
[ê¸ˆí˜• ë§ˆìŠ¤í„° ìë™ ì—…ë°ì´íŠ¸]
    â”œâ”€ íƒ€ìˆ˜ ëˆ„ì 
    â”œâ”€ ì ê²€ ì´ë ¥ ì €ì¥
    â”œâ”€ GPS ìœ„ì¹˜ ì—…ë°ì´íŠ¸
    â”œâ”€ ìƒíƒœ ë³€ê²½
    â””â”€ ì•ŒëŒ ìë™ ìƒì„±
```

---

## ğŸ“± ìƒì‚°ì²˜ ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ ë°ì´í„° íë¦„

### 1. ì¼ìƒì ê²€ + ìƒì‚°ìˆ˜ëŸ‰ ì…ë ¥

**í…Œì´ë¸”**: `daily_inspections`, `production_quantities`, `molds`

```javascript
// QR ìŠ¤ìº” í›„ ë°ì´í„° ë¡œë“œ
GET /api/qr-scan/:qr_code
Response:
{
  mold_id: 123,
  mold_code: "M2024-023",
  mold_name: "ì˜ë Œí†  ë²”í¼",
  current_shots: 456789,
  target_shots: 1000000,
  status: "production",
  gps_location: {latitude: 37.5665, longitude: 126.9780},
  user_permissions: ["daily_check", "production_input", "repair_request"]
}

// ì¼ìƒì ê²€ + ìƒì‚°ìˆ˜ëŸ‰ ì œì¶œ
POST /api/mobile/daily-inspection
{
  mold_id: 123,
  inspection_date: "2024-01-18",
  
  // ìƒì‚°ìˆ˜ëŸ‰ (í•„ìˆ˜)
  production_quantity: 500,
  
  // ì ê²€ í•­ëª© (10ê°œ ì¹´í…Œê³ ë¦¬)
  inspection_items: [
    {
      category: "ì •ê²°ê´€ë¦¬",
      items: [
        {name: "ê¸ˆí˜• í‘œë©´ ì²­ê²°", checked: true, status: "pass"},
        {name: "ì´ë¬¼ì§ˆ ì œê±°", checked: true, status: "pass"}
      ]
    },
    {
      category: "ì‘ë™ë¶€ ì ê²€",
      items: [
        {name: "ìŠ¬ë¼ì´ë“œ ì‘ë™", checked: true, status: "pass"},
        {name: "ë¦¬í”„í„° ì‘ë™", checked: false, status: null},
        {name: "ì´ì í„° ì‘ë™", checked: false, status: null}
      ]
    }
    // ... ë‚˜ë¨¸ì§€ 8ê°œ ì¹´í…Œê³ ë¦¬
  ],
  
  // GPS ìœ„ì¹˜
  gps_latitude: 37.5665,
  gps_longitude: 126.9780,
  gps_accuracy: 15.5,
  
  // ì‚¬ì§„ ì²¨ë¶€
  photos: ["photo1.jpg", "photo2.jpg"],
  
  // íŠ¹ì´ì‚¬í•­
  notes: "ì •ìƒ ì‘ë™ ì¤‘",
  
  inspector_id: 45,
  inspector_name: "ê¹€ì‘ì—…"
}

// ìë™ ì²˜ë¦¬
async function processDailyInspection(data) {
  // 1. ì¼ìƒì ê²€ ê¸°ë¡ ì €ì¥
  const inspection = await DailyInspection.create(data);
  
  // 2. ìƒì‚°ìˆ˜ëŸ‰ ë°˜ì˜ â†’ íƒ€ìˆ˜ ìë™ ëˆ„ì 
  await Mold.update(
    {
      current_shots: sequelize.literal(`current_shots + ${data.production_quantity}`)
    },
    { where: { id: data.mold_id } }
  );
  
  // 3. ì ê²€ ìŠ¤ì¼€ì¤„ ìë™ ì—…ë°ì´íŠ¸
  const mold = await Mold.findByPk(data.mold_id);
  await updateInspectionSchedule(mold);
  
  // 4. ì•ŒëŒ ìƒì„± (íƒ€ìˆ˜ ì„ê³„ê°’ ì²´í¬)
  if (mold.current_shots >= mold.next_inspection_shots) {
    await createAlarm({
      type: 'inspection_required',
      mold_id: mold.id,
      priority: 'high',
      message: 'ì •ê¸°ì ê²€ì´ í•„ìš”í•©ë‹ˆë‹¤.'
    });
  }
  
  // 5. GPS ìœ„ì¹˜ ì—…ë°ì´íŠ¸
  await updateGPSLocation(data.mold_id, data.gps_latitude, data.gps_longitude);
  
  return inspection;
}
```

### 2. ìƒì‚°ìˆ˜ëŸ‰ë§Œ ë¹ ë¥´ê²Œ ì…ë ¥

**í…Œì´ë¸”**: `production_quantities`, `molds`

```javascript
POST /api/mobile/production-quantity
{
  mold_id: 123,
  production_date: "2024-01-18",
  quantity: 500,
  gps_latitude: 37.5665,
  gps_longitude: 126.9780,
  input_by: 45
}

// ìë™ ì²˜ë¦¬
async function processProductionQuantity(data) {
  // 1. ìƒì‚°ìˆ˜ëŸ‰ ê¸°ë¡
  await ProductionQuantity.create(data);
  
  // 2. íƒ€ìˆ˜ ìë™ ëˆ„ì 
  await Mold.increment('current_shots', {
    by: data.quantity,
    where: { id: data.mold_id }
  });
  
  // 3. íƒ€ìˆ˜ í˜„í™© ê³„ì‚°
  const mold = await Mold.findByPk(data.mold_id);
  const progress = (mold.current_shots / mold.target_shots) * 100;
  
  // 4. ë‹¤ìŒ ì ê²€ê¹Œì§€ ë‚¨ì€ íƒ€ìˆ˜ ê³„ì‚°
  const shotsUntilNextInspection = mold.next_inspection_shots - mold.current_shots;
  
  return {
    current_shots: mold.current_shots,
    progress: progress,
    shots_until_next_inspection: shotsUntilNextInspection
  };
}
```

### 3. ìˆ˜ë¦¬ ìš”ì²­ ìƒì„±

**í…Œì´ë¸”**: `repair_requests`, `molds`, `notifications`

```javascript
POST /api/mobile/repair-request
{
  mold_id: 123,
  discovered_date: "2024-01-18",
  
  // ë¶ˆëŸ‰ ìœ í˜•
  defect_type: "major",  // minor, major, critical
  
  // ë¶ˆëŸ‰ ë‚´ìš©
  defect_description: "ì„±í˜•ë©´ ì†ìƒ ë°œê²¬\nìœ„ì¹˜: ì¢Œì¸¡ ìƒë‹¨",
  
  // ì‚¬ì§„ ì²¨ë¶€ (í•„ìˆ˜)
  photos: ["defect1.jpg", "defect2.jpg"],
  
  // ê¸´ê¸‰ë„
  urgency: "urgent",  // urgent, normal, low
  
  // ìš”ì²­ ì œì‘ì²˜
  target_maker_id: 5,
  
  // GPS ìœ„ì¹˜
  gps_latitude: 37.5665,
  gps_longitude: 126.9780,
  
  requested_by: 45,
  requested_by_name: "ê¹€ì‘ì—…"
}

// ìë™ ì²˜ë¦¬
async function processRepairRequest(data) {
  // 1. ìˆ˜ë¦¬ ìš”ì²­ ìƒì„±
  const repairRequest = await RepairRequest.create({
    ...data,
    status: 'requested',
    request_number: generateRequestNumber(),
    created_at: new Date()
  });
  
  // 2. ê¸ˆí˜• ìƒíƒœ ë³€ê²½
  if (data.defect_type === 'critical') {
    await Mold.update(
      { status: 'repair_required', production_stopped: true },
      { where: { id: data.mold_id } }
    );
  }
  
  // 3. ì•Œë¦¼ ìƒì„± (ì œì‘ì²˜ + ë³¸ì‚¬)
  await createNotification({
    type: 'repair_request_created',
    recipients: [data.target_maker_id, 'cams_manager'],
    priority: data.urgency === 'urgent' ? 'urgent' : 'high',
    title: `ìˆ˜ë¦¬ ìš”ì²­ (${data.defect_type})`,
    message: `ê¸ˆí˜• ${data.mold_id}ì— ëŒ€í•œ ìˆ˜ë¦¬ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.`,
    repair_request_id: repairRequest.id
  });
  
  // 4. ê·€ì±… í˜‘ì˜ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
  await initiateLiabilityNegotiation(repairRequest.id);
  
  return repairRequest;
}
```

### 4. ì´ê´€ ìš”ì²­ ìƒì„±

**í…Œì´ë¸”**: `transfer_requests`, `molds`, `transfer_checklists`

```javascript
POST /api/mobile/transfer-request
{
  mold_id: 123,
  transfer_reason: "repair",  // repair, production_move, storage, other
  destination_id: 8,
  destination_type: "maker",  // maker, plant, warehouse
  scheduled_date: "2024-01-20",
  
  // 4M ì²´í¬ë¦¬ìŠ¤íŠ¸
  checklist: {
    export_confirmed: true,
    import_confirmed: false,
    photos_taken: true,
    gps_verified: true
  },
  
  // GPS ìœ„ì¹˜
  gps_latitude: 37.5665,
  gps_longitude: 126.9780,
  
  requested_by: 45
}

// ìë™ ì²˜ë¦¬
async function processTransferRequest(data) {
  // 1. ì´ê´€ ìš”ì²­ ìƒì„±
  const transferRequest = await TransferRequest.create({
    ...data,
    status: 'requested',
    transfer_number: generateTransferNumber()
  });
  
  // 2. ê¸ˆí˜• ìƒíƒœ ë³€ê²½
  await Mold.update(
    { status: 'transfer_pending' },
    { where: { id: data.mold_id } }
  );
  
  // 3. ì´ê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
  await TransferChecklist.create({
    transfer_request_id: transferRequest.id,
    ...data.checklist
  });
  
  // 4. ì•Œë¦¼ ìƒì„± (ëª©ì ì§€ + ë³¸ì‚¬)
  await createNotification({
    type: 'transfer_request_created',
    recipients: [data.destination_id, 'cams_manager'],
    priority: 'normal',
    title: 'ê¸ˆí˜• ì´ê´€ ìš”ì²­',
    message: `ê¸ˆí˜• ${data.mold_id}ì˜ ì´ê´€ì´ ìš”ì²­ë˜ì—ˆìŠµë‹ˆë‹¤.`,
    transfer_request_id: transferRequest.id
  });
  
  return transferRequest;
}
```

---

## ğŸ­ ì œì‘ì²˜ ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ ë°ì´í„° íë¦„

### 1. ì œì‘ ì§„í–‰ ë“±ë¡

**í…Œì´ë¸”**: `production_progress`, `molds`

```javascript
POST /api/mobile/maker/production-progress
{
  mold_id: 123,
  progress_stage: "machining",  // design, machining, assembly, trial_pending, completed
  progress_percentage: 75,
  work_description: "ê°€ê³µ ì‘ì—… ì§„í–‰ ì¤‘",
  photos: ["progress1.jpg"],
  worker_id: 30
}

// ìë™ ì²˜ë¦¬
async function processProductionProgress(data) {
  // 1. ì œì‘ ì§„í–‰ ê¸°ë¡
  await ProductionProgress.create(data);
  
  // 2. ê¸ˆí˜• ìƒíƒœ ì—…ë°ì´íŠ¸
  await Mold.update(
    {
      production_stage: data.progress_stage,
      production_progress: data.progress_percentage
    },
    { where: { id: data.mold_id } }
  );
  
  // 3. ë³¸ì‚¬ì— ì•Œë¦¼
  if (data.progress_percentage >= 100) {
    await createNotification({
      type: 'production_completed',
      recipients: ['cams_manager'],
      title: 'ì œì‘ ì™„ë£Œ',
      message: `ê¸ˆí˜• ${data.mold_id}ì˜ ì œì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`
    });
  }
  
  return data;
}
```

### 2. ì‹œìš´ì „ ê²°ê³¼ ì…ë ¥

**í…Œì´ë¸”**: `trial_run_results`, `molds`

```javascript
POST /api/mobile/maker/trial-run
{
  mold_id: 123,
  trial_date: "2024-01-18",
  
  // íŒì •
  result: "pass",  // pass, fail
  
  // ì²´í¬ í•­ëª©
  checks: {
    appearance: true,
    dimension: true,
    function: true,
    performance: true
  },
  
  // ë¶ˆëŸ‰ ë‚´ìš© (FAIL ì‹œ)
  defect_description: "",
  
  // ì‚¬ì§„ ì²¨ë¶€ (í•„ìˆ˜)
  photos: ["trial1.jpg", "trial2.jpg"],
  
  inspector_id: 30
}

// ìë™ ì²˜ë¦¬
async function processTrialRun(data) {
  // 1. ì‹œìš´ì „ ê²°ê³¼ ì €ì¥
  const trialResult = await TrialRunResult.create(data);
  
  // 2. ê¸ˆí˜• ìƒíƒœ ì—…ë°ì´íŠ¸
  if (data.result === 'pass') {
    await Mold.update(
      { status: 'trial_passed', stage: 'ready_for_production' },
      { where: { id: data.mold_id } }
    );
  } else {
    await Mold.update(
      { status: 'trial_failed', stage: 'rework_required' },
      { where: { id: data.mold_id } }
    );
  }
  
  // 3. ë³¸ì‚¬ì— ê²€í†  ìš”ì²­ ì•Œë¦¼
  await createNotification({
    type: 'trial_run_review_required',
    recipients: ['cams_manager'],
    priority: 'high',
    title: `ì‹œìš´ì „ ê²°ê³¼ ê²€í†  ìš”ì²­ (${data.result})`,
    message: `ê¸ˆí˜• ${data.mold_id}ì˜ ì‹œìš´ì „ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`,
    trial_result_id: trialResult.id
  });
  
  return trialResult;
}
```

---

## ğŸ“Š ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

### WebSocket ì´ë²¤íŠ¸

```javascript
// í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
const socket = io('wss://api.cams-system.com');

// ê¸ˆí˜• ìƒíƒœ ë³€ê²½ êµ¬ë…
socket.on('mold:status:changed', (data) => {
  console.log('ê¸ˆí˜• ìƒíƒœ ë³€ê²½:', data);
  // {mold_id: 123, old_status: 'production', new_status: 'repair_required'}
});

// íƒ€ìˆ˜ ì—…ë°ì´íŠ¸ êµ¬ë…
socket.on('mold:shots:updated', (data) => {
  console.log('íƒ€ìˆ˜ ì—…ë°ì´íŠ¸:', data);
  // {mold_id: 123, current_shots: 457289, progress: 45.7%}
});

// ì•ŒëŒ ìˆ˜ì‹ 
socket.on('alarm:created', (data) => {
  console.log('ìƒˆ ì•ŒëŒ:', data);
  // {type: 'inspection_required', mold_id: 123, priority: 'high'}
});

// GPS ìœ„ì¹˜ ì—…ë°ì´íŠ¸
socket.on('mold:location:updated', (data) => {
  console.log('ìœ„ì¹˜ ì—…ë°ì´íŠ¸:', data);
  // {mold_id: 123, latitude: 37.5665, longitude: 126.9780}
});
```

---

## ê²°ë¡ 

ì´ êµ¬ì¡°ë¥¼ í†µí•´:
- âœ… ì²´ê³„ì ì¸ ë°ì´í„° íë¦„ ê´€ë¦¬
- âœ… ìë™ ì—°ë™ìœ¼ë¡œ íš¨ìœ¨ì„± í–¥ìƒ
- âœ… ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ì¤€ë¹„
- âœ… ë‹¨ê³„ë³„ ìœ ì—°í•œ ê´€ë¦¬
- âœ… ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
- âœ… ê¸ˆí˜•ê°œë°œ 5ë‹¨ê³„ ì²´ê³„ì  ê´€ë¦¬
- âœ… ì§„í–‰ë¥  ìë™ ê³„ì‚° ë° ì´ë ¥ ê´€ë¦¬
- âœ… ê¸ˆí˜•ì²´í¬ë¦¬ìŠ¤íŠ¸ 8ê°œ ì¹´í…Œê³ ë¦¬ í‘œì¤€í™”
- âœ… í•©ê²©ë¥  ìë™ ê³„ì‚° ë° ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
- âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§ˆìŠ¤í„° í…œí”Œë¦¿ ì¤‘ì•™ ê´€ë¦¬
- âœ… ë²„ì „ ê´€ë¦¬ ë° ë°°í¬ ìë™í™”
- âœ… í…œí”Œë¦¿ ë¡¤ë°± ê¸°ëŠ¥
- âœ… í˜‘ë ¥ì‚¬ ë¬¸ì„œ ë§ˆìŠ¤í„° ê´€ë¦¬
- âœ… ë¬¸ì„œ ë¦¬ë¹„ì ¼ ë° ë²„ì „ ê´€ë¦¬
- âœ… ìë™ ë°°í¬ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ
- âœ… **QR ìŠ¤ìº” ê¸°ë°˜ ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ ë°ì´í„° íë¦„**
- âœ… **ìƒì‚°ì²˜/ì œì‘ì²˜ ì‹¤ì‹œê°„ ì‘ì—… ë°ì´í„° ì—°ë™**
- âœ… **ì¼ìƒì ê²€, ìƒì‚°ìˆ˜ëŸ‰, ìˆ˜ë¦¬ìš”ì²­, ì´ê´€ ìë™ ì²˜ë¦¬**
- âœ… **íƒ€ìˆ˜ ìë™ ëˆ„ì  ë° ì ê²€ ìŠ¤ì¼€ì¤„ ìë™ ì—…ë°ì´íŠ¸**
- âœ… **GPS ìœ„ì¹˜ ì¶”ì  ë° ì‹¤ì‹œê°„ ë™ê¸°í™”**
- âœ… **WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ**
